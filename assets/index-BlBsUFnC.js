function NI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hp={exports:{}},Wo={};var Cw;function zI(){if(Cw)return Wo;Cw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Wo.Fragment=t,Wo.jsx=n,Wo.jsxs=n,Wo}var Aw;function DI(){return Aw||(Aw=1,hp.exports=zI()),hp.exports}var x=DI(),pp={exports:{}},ke={};var kw;function jI(){if(kw)return ke;kw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function C(z,Y,R){this.props=z,this.context=Y,this.refs=T,this.updater=R||E}C.prototype.isReactComponent={},C.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=C.prototype;function A(z,Y,R){this.props=z,this.context=Y,this.refs=T,this.updater=R||E}var j=A.prototype=new O;j.constructor=A,S(j,C.prototype),j.isPureReactComponent=!0;var F=Array.isArray;function I(){}var L={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function se(z,Y,R){var ae=R.ref;return{$$typeof:e,type:z,key:Y,ref:ae!==void 0?ae:null,props:R}}function B(z,Y){return se(z.type,Y,z.props)}function ne(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function re(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(R){return Y[R]})}var he=/\/+/g;function oe(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?re(""+z.key):Y.toString(36)}function te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(I,I):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function P(z,Y,R,ae,ve){var de=typeof z;(de==="undefined"||de==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(de){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case e:case t:fe=!0;break;case p:return fe=z._init,P(fe(z._payload),Y,R,ae,ve)}}if(fe)return ve=ve(z),fe=ae===""?"."+oe(z,0):ae,F(ve)?(R="",fe!=null&&(R=fe.replace(he,"$&/")+"/"),P(ve,Y,R,"",function(zt){return zt})):ve!=null&&(ne(ve)&&(ve=B(ve,R+(ve.key==null||z&&z.key===ve.key?"":(""+ve.key).replace(he,"$&/")+"/")+fe)),Y.push(ve)),1;fe=0;var Ge=ae===""?".":ae+":";if(F(z))for(var $e=0;$e<z.length;$e++)ae=z[$e],de=Ge+oe(ae,$e),fe+=P(ae,Y,R,de,ve);else if($e=v(z),typeof $e=="function")for(z=$e.call(z),$e=0;!(ae=z.next()).done;)ae=ae.value,de=Ge+oe(ae,$e++),fe+=P(ae,Y,R,de,ve);else if(de==="object"){if(typeof z.then=="function")return P(te(z),Y,R,ae,ve);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return fe}function K(z,Y,R){if(z==null)return z;var ae=[],ve=0;return P(z,ae,"","",function(de){return Y.call(R,de,ve++)}),ae}function V(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(R){(z._status===0||z._status===-1)&&(z._status=1,z._result=R)},function(R){(z._status===0||z._status===-1)&&(z._status=2,z._result=R)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ie=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},M={map:K,forEach:function(z,Y,R){K(z,function(){Y.apply(this,arguments)},R)},count:function(z){var Y=0;return K(z,function(){Y++}),Y},toArray:function(z){return K(z,function(Y){return Y})||[]},only:function(z){if(!ne(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ke.Activity=g,ke.Children=M,ke.Component=C,ke.Fragment=n,ke.Profiler=a,ke.PureComponent=A,ke.StrictMode=r,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return L.H.useMemoCache(z)}},ke.cache=function(z){return function(){return z.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(z,Y,R){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ae=S({},z.props),ve=z.key;if(Y!=null)for(de in Y.key!==void 0&&(ve=""+Y.key),Y)!$.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(ae[de]=Y[de]);var de=arguments.length-2;if(de===1)ae.children=R;else if(1<de){for(var fe=Array(de),Ge=0;Ge<de;Ge++)fe[Ge]=arguments[Ge+2];ae.children=fe}return se(z.type,ve,ae)},ke.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},ke.createElement=function(z,Y,R){var ae,ve={},de=null;if(Y!=null)for(ae in Y.key!==void 0&&(de=""+Y.key),Y)$.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=Y[ae]);var fe=arguments.length-2;if(fe===1)ve.children=R;else if(1<fe){for(var Ge=Array(fe),$e=0;$e<fe;$e++)Ge[$e]=arguments[$e+2];ve.children=Ge}if(z&&z.defaultProps)for(ae in fe=z.defaultProps,fe)ve[ae]===void 0&&(ve[ae]=fe[ae]);return se(z,de,ve)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:c,render:z}},ke.isValidElement=ne,ke.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:V}},ke.memo=function(z,Y){return{$$typeof:d,type:z,compare:Y===void 0?null:Y}},ke.startTransition=function(z){var Y=L.T,R={};L.T=R;try{var ae=z(),ve=L.S;ve!==null&&ve(R,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(I,ie)}catch(de){ie(de)}finally{Y!==null&&R.types!==null&&(Y.types=R.types),L.T=Y}},ke.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ke.use=function(z){return L.H.use(z)},ke.useActionState=function(z,Y,R){return L.H.useActionState(z,Y,R)},ke.useCallback=function(z,Y){return L.H.useCallback(z,Y)},ke.useContext=function(z){return L.H.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z,Y){return L.H.useDeferredValue(z,Y)},ke.useEffect=function(z,Y){return L.H.useEffect(z,Y)},ke.useEffectEvent=function(z){return L.H.useEffectEvent(z)},ke.useId=function(){return L.H.useId()},ke.useImperativeHandle=function(z,Y,R){return L.H.useImperativeHandle(z,Y,R)},ke.useInsertionEffect=function(z,Y){return L.H.useInsertionEffect(z,Y)},ke.useLayoutEffect=function(z,Y){return L.H.useLayoutEffect(z,Y)},ke.useMemo=function(z,Y){return L.H.useMemo(z,Y)},ke.useOptimistic=function(z,Y){return L.H.useOptimistic(z,Y)},ke.useReducer=function(z,Y,R){return L.H.useReducer(z,Y,R)},ke.useRef=function(z){return L.H.useRef(z)},ke.useState=function(z){return L.H.useState(z)},ke.useSyncExternalStore=function(z,Y,R){return L.H.useSyncExternalStore(z,Y,R)},ke.useTransition=function(){return L.H.useTransition()},ke.version="19.2.4",ke}var Rw;function gf(){return Rw||(Rw=1,pp.exports=jI()),pp.exports}var w=gf();const At=Ca(w),ng=NI({__proto__:null,default:At},[w]);var mp={exports:{}},el={},gp={exports:{}},yp={};var Mw;function PI(){return Mw||(Mw=1,(function(e){function t(P,K){var V=P.length;P.push(K);e:for(;0<V;){var ie=V-1>>>1,M=P[ie];if(0<a(M,K))P[ie]=K,P[V]=M,V=ie;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],V=P.pop();if(V!==K){P[0]=V;e:for(var ie=0,M=P.length,z=M>>>1;ie<z;){var Y=2*(ie+1)-1,R=P[Y],ae=Y+1,ve=P[ae];if(0>a(R,V))ae<M&&0>a(ve,R)?(P[ie]=ve,P[ae]=V,ie=ae):(P[ie]=R,P[Y]=V,ie=Y);else if(ae<M&&0>a(ve,V))P[ie]=ve,P[ae]=V,ie=ae;else break e}}return K}function a(P,K){var V=P.sortIndex-K.sortIndex;return V!==0?V:P.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,g=null,b=3,v=!1,E=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function j(P){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=P)r(d),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(d)}}function F(P){if(S=!1,j(P),!E)if(n(h)!==null)E=!0,I||(I=!0,re());else{var K=n(d);K!==null&&te(F,K.startTime-P)}}var I=!1,L=-1,$=5,se=-1;function B(){return T?!0:!(e.unstable_now()-se<$)}function ne(){if(T=!1,I){var P=e.unstable_now();se=P;var K=!0;try{e:{E=!1,S&&(S=!1,O(L),L=-1),v=!0;var V=b;try{t:{for(j(P),g=n(h);g!==null&&!(g.expirationTime>P&&B());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,b=g.priorityLevel;var M=ie(g.expirationTime<=P);if(P=e.unstable_now(),typeof M=="function"){g.callback=M,j(P),K=!0;break t}g===n(h)&&r(h),j(P)}else r(h);g=n(h)}if(g!==null)K=!0;else{var z=n(d);z!==null&&te(F,z.startTime-P),K=!1}}break e}finally{g=null,b=V,v=!1}K=void 0}}finally{K?re():I=!1}}}var re;if(typeof A=="function")re=function(){A(ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,oe=he.port2;he.port1.onmessage=ne,re=function(){oe.postMessage(null)}}else re=function(){C(ne,0)};function te(P,K){L=C(function(){P(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var V=b;b=K;try{return P()}finally{b=V}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var V=b;b=P;try{return K()}finally{b=V}},e.unstable_scheduleCallback=function(P,K,V){var ie=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ie+V:ie):V=ie,P){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=V+M,P={id:p++,callback:K,priorityLevel:P,startTime:V,expirationTime:M,sortIndex:-1},V>ie?(P.sortIndex=V,t(d,P),n(h)===null&&P===n(d)&&(S?(O(L),L=-1):S=!0,te(F,V-ie))):(P.sortIndex=M,t(h,P),E||v||(E=!0,I||(I=!0,re()))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var K=b;return function(){var V=b;b=K;try{return P.apply(this,arguments)}finally{b=V}}}})(yp)),yp}var Ow;function LI(){return Ow||(Ow=1,gp.exports=PI()),gp.exports}var bp={exports:{}},Yt={};var Iw;function BI(){if(Iw)return Yt;Iw=1;var e=gf();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,p)},Yt.flushSync=function(h){var d=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=d,r.p=p,r.d.f()}},Yt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Yt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Yt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Yt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Yt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Yt.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Yt.requestFormReset=function(h){r.d.r(h)},Yt.unstable_batchedUpdates=function(h,d){return h(d)},Yt.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Yt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Yt.version="19.2.4",Yt}var Nw;function j0(){if(Nw)return bp.exports;Nw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bp.exports=BI(),bp.exports}var zw;function UI(){if(zw)return el;zw=1;var e=LI(),t=gf(),n=j0();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,f=s;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return h(m),i;if(y===f)return h(m),s;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=m,f=y;else{for(var _=!1,k=m.child;k;){if(k===u){_=!0,u=m,f=y;break}if(k===f){_=!0,f=m,u=y;break}k=k.sibling}if(!_){for(k=y.child;k;){if(k===u){_=!0,u=y,f=m;break}if(k===f){_=!0,f=y,u=m;break}k=k.sibling}if(!_)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var he=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===he?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case se:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case A:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return s=i.displayName||null,s!==null?s:oe(i.type)||"Memo";case $:s=i._payload,i=i._init;try{return oe(i(s))}catch{}}return null}var te=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ie=[],M=-1;function z(i){return{current:i}}function Y(i){0>M||(i.current=ie[M],ie[M]=null,M--)}function R(i,s){M++,ie[M]=i.current,i.current=s}var ae=z(null),ve=z(null),de=z(null),fe=z(null);function Ge(i,s){switch(R(de,s),R(ve,i),R(ae,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Jx(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Jx(s),i=Xx(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(ae),R(ae,i)}function $e(){Y(ae),Y(ve),Y(de)}function zt(i){i.memoizedState!==null&&R(fe,i);var s=ae.current,u=Xx(s,i.type);s!==u&&(R(ve,i),R(ae,u))}function Qt(i){ve.current===i&&(Y(ae),Y(ve)),fe.current===i&&(Y(fe),Jo._currentValue=V)}var jn,Or;function Ir(i){if(jn===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);jn=s&&s[1]||"",Or=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+i+Or}var Na=!1;function za(i,s){if(!i||Na)return"";Na=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var q=G}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(G){q=G}i.call(ee.prototype)}}else{try{throw Error()}catch(G){q=G}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),_=y[0],k=y[1];if(_&&k){var N=_.split(`
`),Z=k.split(`
`);for(m=f=0;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;for(;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;if(f===N.length||m===Z.length)for(f=N.length-1,m=Z.length-1;1<=f&&0<=m&&N[f]!==Z[m];)m--;for(;1<=f&&0<=m;f--,m--)if(N[f]!==Z[m]){if(f!==1||m!==1)do if(f--,m--,0>m||N[f]!==Z[m]){var J=`
`+N[f].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=f&&0<=m);break}}}finally{Na=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ir(u):""}function Kl(i,s){switch(i.tag){case 26:case 27:case 5:return Ir(i.type);case 16:return Ir("Lazy");case 13:return i.child!==s&&s!==null?Ir("Suspense Fallback"):Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return za(i.type,!1);case 11:return za(i.type.render,!1);case 1:return za(i.type,!0);case 31:return Ir("Activity");default:return""}}function Ql(i){try{var s="",u=null;do s+=Kl(i,u),u=i,i=i.return;while(i);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Da=Object.prototype.hasOwnProperty,ja=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,Qf=e.unstable_shouldYield,Wf=e.unstable_requestPaint,Wt=e.unstable_now,ed=e.unstable_getCurrentPriorityLevel,Q=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,Ce=e.unstable_NormalPriority,De=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,wn=e.log,Nr=e.unstable_setDisableYieldValue,en=null,Dt=null;function cn(i){if(typeof wn=="function"&&Nr(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(en,i)}catch{}}var st=Math.clz32?Math.clz32:vM,si=Math.log,Wn=Math.LN2;function vM(i){return i>>>=0,i===0?32:31-(si(i)/Wn|0)|0}var Wl=256,eu=262144,tu=4194304;function Ki(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function nu(i,s,u){var f=i.pendingLanes;if(f===0)return 0;var m=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var k=f&134217727;return k!==0?(f=k&~y,f!==0?m=Ki(f):(_&=k,_!==0?m=Ki(_):u||(u=k&~i,u!==0&&(m=Ki(u))))):(k=f&~y,k!==0?m=Ki(k):_!==0?m=Ki(_):u||(u=f&~i,u!==0&&(m=Ki(u)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,u=s&-s,y>=u||y===32&&(u&4194048)!==0)?s:m}function oo(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function xM(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(){var i=tu;return tu<<=1,(tu&62914560)===0&&(tu=4194304),i}function td(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function lo(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wM(i,s,u,f,m,y){var _=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,N=i.expirationTimes,Z=i.hiddenUpdates;for(u=_&~u;0<u;){var J=31-st(u),ee=1<<J;k[J]=0,N[J]=-1;var q=Z[J];if(q!==null)for(Z[J]=null,J=0;J<q.length;J++){var G=q[J];G!==null&&(G.lane&=-536870913)}u&=~ee}f!==0&&Oy(i,f,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~s))}function Oy(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var f=31-st(s);i.entangledLanes|=s,i.entanglements[f]=i.entanglements[f]|1073741824|u&261930}function Iy(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-st(u),m=1<<f;m&s|i[f]&s&&(i[f]|=s),u&=~m}}function Ny(i,s){var u=s&-s;return u=(u&42)!==0?1:nd(u),(u&(i.suspendedLanes|s))!==0?0:u}function nd(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zy(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:vw(i.type))}function Dy(i,s){var u=K.p;try{return K.p=i,s()}finally{K.p=u}}var oi=Math.random().toString(36).slice(2),$t="__reactFiber$"+oi,fn="__reactProps$"+oi,Pa="__reactContainer$"+oi,id="__reactEvents$"+oi,_M="__reactListeners$"+oi,SM="__reactHandles$"+oi,jy="__reactResources$"+oi,uo="__reactMarker$"+oi;function ad(i){delete i[$t],delete i[fn],delete i[id],delete i[_M],delete i[SM]}function La(i){var s=i[$t];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Pa]||u[$t]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=rw(i);i!==null;){if(u=i[$t])return u;i=rw(i)}return s}i=u,u=i.parentNode}return null}function Ba(i){if(i=i[$t]||i[Pa]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function co(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ua(i){var s=i[jy];return s||(s=i[jy]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(i){i[uo]=!0}var Py=new Set,Ly={};function Qi(i,s){$a(i,s),$a(i+"Capture",s)}function $a(i,s){for(Ly[i]=s,i=0;i<s.length;i++)Py.add(s[i])}var EM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),By={},Uy={};function TM(i){return Da.call(Uy,i)?!0:Da.call(By,i)?!1:EM.test(i)?Uy[i]=!0:(By[i]=!0,!1)}function ru(i,s,u){if(TM(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function iu(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function zr(i,s,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+f)}}function Pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $y(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function CM(i,s,u){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,y=f.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(_){u=""+_,y.call(this,_)}}),Object.defineProperty(i,s,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function sd(i){if(!i._valueTracker){var s=$y(i)?"checked":"value";i._valueTracker=CM(i,s,""+i[s])}}function Fy(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=$y(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function au(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var AM=/[\n"\\]/g;function Ln(i){return i.replace(AM,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function od(i,s,u,f,m,y,_,k){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Pn(s)):i.value!==""+Pn(s)&&(i.value=""+Pn(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?ld(i,_,Pn(s)):u!=null?ld(i,_,Pn(u)):f!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Pn(k):i.removeAttribute("name")}function Hy(i,s,u,f,m,y,_,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){sd(i);return}u=u!=null?""+Pn(u):"",s=s!=null?""+Pn(s):u,k||s===i.value||(i.value=s),i.defaultValue=s}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=k?i.checked:!!f,i.defaultChecked=!!f,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),sd(i)}function ld(i,s,u){s==="number"&&au(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Fa(i,s,u,f){if(i=i.options,s){s={};for(var m=0;m<u.length;m++)s["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=s.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Pn(u),s=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Zy(i,s,u){if(s!=null&&(s=""+Pn(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Pn(u):""}function qy(i,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(te(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=Pn(s),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f),sd(i)}function Ha(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var kM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vy(i,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":f?i.setProperty(s,u):typeof u!="number"||u===0||kM.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function Gy(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in s)f=s[m],s.hasOwnProperty(m)&&u[m]!==f&&Vy(i,m,f)}else for(var y in s)s.hasOwnProperty(y)&&Vy(i,y,s[y])}function ud(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function su(i){return MM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Dr(){}var cd=null;function fd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Za=null,qa=null;function Yy(i){var s=Ba(i);if(s&&(i=s.stateNode)){var u=i[fn]||null;e:switch(i=s.stateNode,s.type){case"input":if(od(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ln(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var m=f[fn]||null;if(!m)throw Error(r(90));od(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===i.form&&Fy(f)}break e;case"textarea":Zy(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Fa(i,!!u.multiple,s,!1)}}}var dd=!1;function Jy(i,s,u){if(dd)return i(s,u);dd=!0;try{var f=i(s);return f}finally{if(dd=!1,(Za!==null||qa!==null)&&(Gu(),Za&&(s=Za,i=qa,qa=Za=null,Yy(s),i)))for(s=0;s<i.length;s++)Yy(i[s])}}function fo(i,s){var u=i.stateNode;if(u===null)return null;var f=u[fn]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=!1;if(jr)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){hd=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{hd=!1}var li=null,pd=null,ou=null;function Xy(){if(ou)return ou;var i,s=pd,u=s.length,f,m="value"in li?li.value:li.textContent,y=m.length;for(i=0;i<u&&s[i]===m[i];i++);var _=u-i;for(f=1;f<=_&&s[u-f]===m[y-f];f++);return ou=m.slice(i,1<f?1-f:void 0)}function lu(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function uu(){return!0}function Ky(){return!1}function dn(i){function s(u,f,m,y,_){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?uu:Ky,this.isPropagationStopped=Ky,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=dn(Wi),po=g({},Wi,{view:0,detail:0}),OM=dn(po),md,gd,mo,fu=g({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==mo&&(mo&&i.type==="mousemove"?(md=i.screenX-mo.screenX,gd=i.screenY-mo.screenY):gd=md=0,mo=i),md)},movementY:function(i){return"movementY"in i?i.movementY:gd}}),Qy=dn(fu),IM=g({},fu,{dataTransfer:0}),NM=dn(IM),zM=g({},po,{relatedTarget:0}),yd=dn(zM),DM=g({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=dn(DM),PM=g({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),LM=dn(PM),BM=g({},Wi,{data:0}),Wy=dn(BM),UM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$M={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HM(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=FM[i])?!!s[i]:!1}function bd(){return HM}var ZM=g({},po,{key:function(i){if(i.key){var s=UM[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$M[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(i){return i.type==="keypress"?lu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qM=dn(ZM),VM=g({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=dn(VM),GM=g({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),YM=dn(GM),JM=g({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),XM=dn(JM),KM=g({},fu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),QM=dn(KM),WM=g({},Wi,{newState:0,oldState:0}),eO=dn(WM),tO=[9,13,27,32],vd=jr&&"CompositionEvent"in window,go=null;jr&&"documentMode"in document&&(go=document.documentMode);var nO=jr&&"TextEvent"in window&&!go,tb=jr&&(!vd||go&&8<go&&11>=go),nb=" ",rb=!1;function ib(i,s){switch(i){case"keyup":return tO.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ab(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Va=!1;function rO(i,s){switch(i){case"compositionend":return ab(s);case"keypress":return s.which!==32?null:(rb=!0,nb);case"textInput":return i=s.data,i===nb&&rb?null:i;default:return null}}function iO(i,s){if(Va)return i==="compositionend"||!vd&&ib(i,s)?(i=Xy(),ou=pd=li=null,Va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tb&&s.locale!=="ko"?null:s.data;default:return null}}var aO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!aO[i.type]:s==="textarea"}function ob(i,s,u,f){Za?qa?qa.push(f):qa=[f]:Za=f,s=ec(s,"onChange"),0<s.length&&(u=new cu("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var yo=null,bo=null;function sO(i){Hx(i,0)}function du(i){var s=co(i);if(Fy(s))return i}function lb(i,s){if(i==="change")return s}var ub=!1;if(jr){var xd;if(jr){var wd="oninput"in document;if(!wd){var cb=document.createElement("div");cb.setAttribute("oninput","return;"),wd=typeof cb.oninput=="function"}xd=wd}else xd=!1;ub=xd&&(!document.documentMode||9<document.documentMode)}function fb(){yo&&(yo.detachEvent("onpropertychange",db),bo=yo=null)}function db(i){if(i.propertyName==="value"&&du(bo)){var s=[];ob(s,bo,i,fd(i)),Jy(sO,s)}}function oO(i,s,u){i==="focusin"?(fb(),yo=s,bo=u,yo.attachEvent("onpropertychange",db)):i==="focusout"&&fb()}function lO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return du(bo)}function uO(i,s){if(i==="click")return du(s)}function cO(i,s){if(i==="input"||i==="change")return du(s)}function fO(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var _n=typeof Object.is=="function"?Object.is:fO;function vo(i,s){if(_n(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!Da.call(s,m)||!_n(i[m],s[m]))return!1}return!0}function hb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pb(i,s){var u=hb(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hb(u)}}function mb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=au(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=au(i.document)}return s}function _d(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var dO=jr&&"documentMode"in document&&11>=document.documentMode,Ga=null,Sd=null,xo=null,Ed=!1;function yb(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ed||Ga==null||Ga!==au(f)||(f=Ga,"selectionStart"in f&&_d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),xo&&vo(xo,f)||(xo=f,f=ec(Sd,"onSelect"),0<f.length&&(s=new cu("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Ga)))}function ea(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Ya={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Td={},bb={};jr&&(bb=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function ta(i){if(Td[i])return Td[i];if(!Ya[i])return i;var s=Ya[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in bb)return Td[i]=s[u];return i}var vb=ta("animationend"),xb=ta("animationiteration"),wb=ta("animationstart"),hO=ta("transitionrun"),pO=ta("transitionstart"),mO=ta("transitioncancel"),_b=ta("transitionend"),Sb=new Map,Cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cd.push("scrollEnd");function er(i,s){Sb.set(i,s),Qi(s,[i])}var hu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],Ja=0,Ad=0;function pu(){for(var i=Ja,s=Ad=Ja=0;s<i;){var u=Bn[s];Bn[s++]=null;var f=Bn[s];Bn[s++]=null;var m=Bn[s];Bn[s++]=null;var y=Bn[s];if(Bn[s++]=null,f!==null&&m!==null){var _=f.pending;_===null?m.next=m:(m.next=_.next,_.next=m),f.pending=m}y!==0&&Eb(u,m,y)}}function mu(i,s,u,f){Bn[Ja++]=i,Bn[Ja++]=s,Bn[Ja++]=u,Bn[Ja++]=f,Ad|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function kd(i,s,u,f){return mu(i,s,u,f),gu(i)}function na(i,s){return mu(i,null,null,s),gu(i)}function Eb(i,s,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var m=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-st(u),i=y.hiddenUpdates,f=i[m],f===null?i[m]=[s]:f.push(s),s.lane=u|536870912),y):null}function gu(i){if(50<Fo)throw Fo=0,Ph=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Xa={};function gO(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,s,u,f){return new gO(i,s,u,f)}function Rd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pr(i,s){var u=i.alternate;return u===null?(u=Sn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Tb(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function yu(i,s,u,f,m,y){var _=0;if(f=i,typeof i=="function")Rd(i)&&(_=1);else if(typeof i=="string")_=wI(i,u,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case se:return i=Sn(31,u,s,m),i.elementType=se,i.lanes=y,i;case S:return ra(u.children,m,y,s);case T:_=8,m|=24;break;case C:return i=Sn(12,u,s,m|2),i.elementType=C,i.lanes=y,i;case F:return i=Sn(13,u,s,m),i.elementType=F,i.lanes=y,i;case I:return i=Sn(19,u,s,m),i.elementType=I,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case O:_=9;break e;case j:_=11;break e;case L:_=14;break e;case $:_=16,f=null;break e}_=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return s=Sn(_,u,s,m),s.elementType=i,s.type=f,s.lanes=y,s}function ra(i,s,u,f){return i=Sn(7,i,f,s),i.lanes=u,i}function Md(i,s,u){return i=Sn(6,i,null,s),i.lanes=u,i}function Cb(i){var s=Sn(18,null,null,0);return s.stateNode=i,s}function Od(i,s,u){return s=Sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ab=new WeakMap;function Un(i,s){if(typeof i=="object"&&i!==null){var u=Ab.get(i);return u!==void 0?u:(s={value:i,source:s,stack:Ql(s)},Ab.set(i,s),s)}return{value:i,source:s,stack:Ql(s)}}var Ka=[],Qa=0,bu=null,wo=0,$n=[],Fn=0,ui=null,pr=1,mr="";function Lr(i,s){Ka[Qa++]=wo,Ka[Qa++]=bu,bu=i,wo=s}function kb(i,s,u){$n[Fn++]=pr,$n[Fn++]=mr,$n[Fn++]=ui,ui=i;var f=pr;i=mr;var m=32-st(f)-1;f&=~(1<<m),u+=1;var y=32-st(s)+m;if(30<y){var _=m-m%5;y=(f&(1<<_)-1).toString(32),f>>=_,m-=_,pr=1<<32-st(s)+m|u<<m|f,mr=y+i}else pr=1<<y|u<<m|f,mr=i}function Id(i){i.return!==null&&(Lr(i,1),kb(i,1,0))}function Nd(i){for(;i===bu;)bu=Ka[--Qa],Ka[Qa]=null,wo=Ka[--Qa],Ka[Qa]=null;for(;i===ui;)ui=$n[--Fn],$n[Fn]=null,mr=$n[--Fn],$n[Fn]=null,pr=$n[--Fn],$n[Fn]=null}function Rb(i,s){$n[Fn++]=pr,$n[Fn++]=mr,$n[Fn++]=ui,pr=s.id,mr=s.overflow,ui=i}var Ft=null,dt=null,Fe=!1,ci=null,Hn=!1,zd=Error(r(519));function fi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _o(Un(s,i)),zd}function Mb(i){var s=i.stateNode,u=i.type,f=i.memoizedProps;switch(s[$t]=i,s[fn]=f,u){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(u=0;u<Zo.length;u++)Pe(Zo[u],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Hy(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),qy(s,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||Gx(s.textContent,u)?(f.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),f.onScroll!=null&&Pe("scroll",s),f.onScrollEnd!=null&&Pe("scrollend",s),f.onClick!=null&&(s.onclick=Dr),s=!0):s=!1,s||fi(i,!0)}function Ob(i){for(Ft=i.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ft=Ft.return}}function Wa(i){if(i!==Ft)return!1;if(!Fe)return Ob(i),Fe=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Qh(i.type,i.memoizedProps)),u=!u),u&&dt&&fi(i),Ob(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));dt=nw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));dt=nw(i)}else s===27?(s=dt,Ti(i.type)?(i=rp,rp=null,dt=i):dt=s):dt=Ft?qn(i.stateNode.nextSibling):null;return!0}function ia(){dt=Ft=null,Fe=!1}function Dd(){var i=ci;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),ci=null),i}function _o(i){ci===null?ci=[i]:ci.push(i)}var jd=z(null),aa=null,Br=null;function di(i,s,u){R(jd,s._currentValue),s._currentValue=u}function Ur(i){i._currentValue=jd.current,Y(jd)}function Pd(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Ld(i,s,u,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var _=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var N=0;N<s.length;N++)if(k.context===s[N]){y.lanes|=u,k=y.alternate,k!==null&&(k.lanes|=u),Pd(y.return,u,i),f||(_=null);break e}y=k.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(r(341));_.lanes|=u,y=_.alternate,y!==null&&(y.lanes|=u),Pd(_,u,i),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function es(i,s,u,f){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var k=m.type;_n(m.pendingProps.value,_.value)||(i!==null?i.push(k):i=[k])}}else if(m===fe.current){if(_=m.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Jo):i=[Jo])}m=m.return}i!==null&&Ld(s,i,u,f),s.flags|=262144}function vu(i){for(i=i.firstContext;i!==null;){if(!_n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){aa=i,Br=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ht(i){return Ib(aa,i)}function xu(i,s){return aa===null&&sa(i),Ib(i,s)}function Ib(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Br===null){if(i===null)throw Error(r(308));Br=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Br=Br.next=s;return u}var yO=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},bO=e.unstable_scheduleCallback,vO=e.unstable_NormalPriority,kt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new yO,data:new Map,refCount:0}}function So(i){i.refCount--,i.refCount===0&&bO(vO,function(){i.controller.abort()})}var Eo=null,Ud=0,ts=0,ns=null;function xO(i,s){if(Eo===null){var u=Eo=[];Ud=0,ts=Hh(),ns={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Ud++,s.then(Nb,Nb),s}function Nb(){if(--Ud===0&&Eo!==null){ns!==null&&(ns.status="fulfilled");var i=Eo;Eo=null,ts=0,ns=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function wO(i,s){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){f.status="fulfilled",f.value=s;for(var m=0;m<u.length;m++)(0,u[m])(s)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var zb=P.S;P.S=function(i,s){yx=Wt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&xO(i,s),zb!==null&&zb(i,s)};var oa=z(null);function $d(){var i=oa.current;return i!==null?i:ot.pooledCache}function wu(i,s){s===null?R(oa,oa.current):R(oa,s.pool)}function Db(){var i=$d();return i===null?null:{parent:kt._currentValue,pool:i}}var rs=Error(r(460)),Fd=Error(r(474)),_u=Error(r(542)),Su={then:function(){}};function jb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Pb(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(Dr,Dr),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bb(i),i;default:if(typeof s.status=="string")s.then(Dr,Dr);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(f){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=f}},function(f){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bb(i),i}throw ua=s,rs}}function la(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ua=u,rs):u}}var ua=null;function Lb(){if(ua===null)throw Error(r(459));var i=ua;return ua=null,i}function Bb(i){if(i===rs||i===_u)throw Error(r(483))}var is=null,To=0;function Eu(i){var s=To;return To+=1,is===null&&(is=[]),Pb(is,i,s)}function Co(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Tu(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ub(i){function s(U,D){if(i){var H=U.deletions;H===null?(U.deletions=[D],U.flags|=16):H.push(D)}}function u(U,D){if(!i)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function f(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function m(U,D){return U=Pr(U,D),U.index=0,U.sibling=null,U}function y(U,D,H){return U.index=H,i?(H=U.alternate,H!==null?(H=H.index,H<D?(U.flags|=67108866,D):H):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function _(U){return i&&U.alternate===null&&(U.flags|=67108866),U}function k(U,D,H,W){return D===null||D.tag!==6?(D=Md(H,U.mode,W),D.return=U,D):(D=m(D,H),D.return=U,D)}function N(U,D,H,W){var we=H.type;return we===S?J(U,D,H.props.children,W,H.key):D!==null&&(D.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===$&&la(we)===D.type)?(D=m(D,H.props),Co(D,H),D.return=U,D):(D=yu(H.type,H.key,H.props,null,U.mode,W),Co(D,H),D.return=U,D)}function Z(U,D,H,W){return D===null||D.tag!==4||D.stateNode.containerInfo!==H.containerInfo||D.stateNode.implementation!==H.implementation?(D=Od(H,U.mode,W),D.return=U,D):(D=m(D,H.children||[]),D.return=U,D)}function J(U,D,H,W,we){return D===null||D.tag!==7?(D=ra(H,U.mode,W,we),D.return=U,D):(D=m(D,H),D.return=U,D)}function ee(U,D,H){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Md(""+D,U.mode,H),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return H=yu(D.type,D.key,D.props,null,U.mode,H),Co(H,D),H.return=U,H;case E:return D=Od(D,U.mode,H),D.return=U,D;case $:return D=la(D),ee(U,D,H)}if(te(D)||re(D))return D=ra(D,U.mode,H,null),D.return=U,D;if(typeof D.then=="function")return ee(U,Eu(D),H);if(D.$$typeof===A)return ee(U,xu(U,D),H);Tu(U,D)}return null}function q(U,D,H,W){var we=D!==null?D.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:k(U,D,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return H.key===we?N(U,D,H,W):null;case E:return H.key===we?Z(U,D,H,W):null;case $:return H=la(H),q(U,D,H,W)}if(te(H)||re(H))return we!==null?null:J(U,D,H,W,null);if(typeof H.then=="function")return q(U,D,Eu(H),W);if(H.$$typeof===A)return q(U,D,xu(U,H),W);Tu(U,H)}return null}function G(U,D,H,W,we){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,k(D,U,""+W,we);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return U=U.get(W.key===null?H:W.key)||null,N(D,U,W,we);case E:return U=U.get(W.key===null?H:W.key)||null,Z(D,U,W,we);case $:return W=la(W),G(U,D,H,W,we)}if(te(W)||re(W))return U=U.get(H)||null,J(D,U,W,we,null);if(typeof W.then=="function")return G(U,D,H,Eu(W),we);if(W.$$typeof===A)return G(U,D,H,xu(D,W),we);Tu(D,W)}return null}function pe(U,D,H,W){for(var we=null,Ye=null,ye=D,Oe=D=0,Ue=null;ye!==null&&Oe<H.length;Oe++){ye.index>Oe?(Ue=ye,ye=null):Ue=ye.sibling;var Je=q(U,ye,H[Oe],W);if(Je===null){ye===null&&(ye=Ue);break}i&&ye&&Je.alternate===null&&s(U,ye),D=y(Je,D,Oe),Ye===null?we=Je:Ye.sibling=Je,Ye=Je,ye=Ue}if(Oe===H.length)return u(U,ye),Fe&&Lr(U,Oe),we;if(ye===null){for(;Oe<H.length;Oe++)ye=ee(U,H[Oe],W),ye!==null&&(D=y(ye,D,Oe),Ye===null?we=ye:Ye.sibling=ye,Ye=ye);return Fe&&Lr(U,Oe),we}for(ye=f(ye);Oe<H.length;Oe++)Ue=G(ye,U,Oe,H[Oe],W),Ue!==null&&(i&&Ue.alternate!==null&&ye.delete(Ue.key===null?Oe:Ue.key),D=y(Ue,D,Oe),Ye===null?we=Ue:Ye.sibling=Ue,Ye=Ue);return i&&ye.forEach(function(Mi){return s(U,Mi)}),Fe&&Lr(U,Oe),we}function Ee(U,D,H,W){if(H==null)throw Error(r(151));for(var we=null,Ye=null,ye=D,Oe=D=0,Ue=null,Je=H.next();ye!==null&&!Je.done;Oe++,Je=H.next()){ye.index>Oe?(Ue=ye,ye=null):Ue=ye.sibling;var Mi=q(U,ye,Je.value,W);if(Mi===null){ye===null&&(ye=Ue);break}i&&ye&&Mi.alternate===null&&s(U,ye),D=y(Mi,D,Oe),Ye===null?we=Mi:Ye.sibling=Mi,Ye=Mi,ye=Ue}if(Je.done)return u(U,ye),Fe&&Lr(U,Oe),we;if(ye===null){for(;!Je.done;Oe++,Je=H.next())Je=ee(U,Je.value,W),Je!==null&&(D=y(Je,D,Oe),Ye===null?we=Je:Ye.sibling=Je,Ye=Je);return Fe&&Lr(U,Oe),we}for(ye=f(ye);!Je.done;Oe++,Je=H.next())Je=G(ye,U,Oe,Je.value,W),Je!==null&&(i&&Je.alternate!==null&&ye.delete(Je.key===null?Oe:Je.key),D=y(Je,D,Oe),Ye===null?we=Je:Ye.sibling=Je,Ye=Je);return i&&ye.forEach(function(II){return s(U,II)}),Fe&&Lr(U,Oe),we}function it(U,D,H,W){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case v:e:{for(var we=H.key;D!==null;){if(D.key===we){if(we=H.type,we===S){if(D.tag===7){u(U,D.sibling),W=m(D,H.props.children),W.return=U,U=W;break e}}else if(D.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===$&&la(we)===D.type){u(U,D.sibling),W=m(D,H.props),Co(W,H),W.return=U,U=W;break e}u(U,D);break}else s(U,D);D=D.sibling}H.type===S?(W=ra(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=yu(H.type,H.key,H.props,null,U.mode,W),Co(W,H),W.return=U,U=W)}return _(U);case E:e:{for(we=H.key;D!==null;){if(D.key===we)if(D.tag===4&&D.stateNode.containerInfo===H.containerInfo&&D.stateNode.implementation===H.implementation){u(U,D.sibling),W=m(D,H.children||[]),W.return=U,U=W;break e}else{u(U,D);break}else s(U,D);D=D.sibling}W=Od(H,U.mode,W),W.return=U,U=W}return _(U);case $:return H=la(H),it(U,D,H,W)}if(te(H))return pe(U,D,H,W);if(re(H)){if(we=re(H),typeof we!="function")throw Error(r(150));return H=we.call(H),Ee(U,D,H,W)}if(typeof H.then=="function")return it(U,D,Eu(H),W);if(H.$$typeof===A)return it(U,D,xu(U,H),W);Tu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,D!==null&&D.tag===6?(u(U,D.sibling),W=m(D,H),W.return=U,U=W):(u(U,D),W=Md(H,U.mode,W),W.return=U,U=W),_(U)):u(U,D)}return function(U,D,H,W){try{To=0;var we=it(U,D,H,W);return is=null,we}catch(ye){if(ye===rs||ye===_u)throw ye;var Ye=Sn(29,ye,null,U.mode);return Ye.lanes=W,Ye.return=U,Ye}}}var ca=Ub(!0),$b=Ub(!1),hi=!1;function Hd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mi(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,s=gu(i),Eb(i,null,u),s}return mu(i,f,s,u),gu(i)}function Ao(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Iy(i,u)}}function qd(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var _={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=_:y=y.next=_,u=u.next}while(u!==null);y===null?m=y=s:y=y.next=s}else m=y=s;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var Vd=!1;function ko(){if(Vd){var i=ns;if(i!==null)throw i}}function Ro(i,s,u,f){Vd=!1;var m=i.updateQueue;hi=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var N=k,Z=N.next;N.next=null,_===null?y=Z:_.next=Z,_=N;var J=i.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==_&&(k===null?J.firstBaseUpdate=Z:k.next=Z,J.lastBaseUpdate=N))}if(y!==null){var ee=m.baseState;_=0,J=Z=N=null,k=y;do{var q=k.lane&-536870913,G=q!==k.lane;if(G?(Be&q)===q:(f&q)===q){q!==0&&q===ts&&(Vd=!0),J!==null&&(J=J.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=i,Ee=k;q=s;var it=u;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){ee=pe.call(it,ee,q);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,q=typeof pe=="function"?pe.call(it,ee,q):pe,q==null)break e;ee=g({},ee,q);break e;case 2:hi=!0}}q=k.callback,q!==null&&(i.flags|=64,G&&(i.flags|=8192),G=m.callbacks,G===null?m.callbacks=[q]:G.push(q))}else G={lane:q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(Z=J=G,N=ee):J=J.next=G,_|=q;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;G=k,k=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);J===null&&(N=ee),m.baseState=N,m.firstBaseUpdate=Z,m.lastBaseUpdate=J,y===null&&(m.shared.lanes=0),xi|=_,i.lanes=_,i.memoizedState=ee}}function Fb(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Hb(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Fb(u[i],s)}var as=z(null),Cu=z(0);function Zb(i,s){i=Jr,R(Cu,i),R(as,s),Jr=i|s.baseLanes}function Gd(){R(Cu,Jr),R(as,as.current)}function Yd(){Jr=Cu.current,Y(as),Y(Cu)}var En=z(null),Zn=null;function gi(i){var s=i.alternate;R(Tt,Tt.current&1),R(En,i),Zn===null&&(s===null||as.current!==null||s.memoizedState!==null)&&(Zn=i)}function Jd(i){R(Tt,Tt.current),R(En,i),Zn===null&&(Zn=i)}function qb(i){i.tag===22?(R(Tt,Tt.current),R(En,i),Zn===null&&(Zn=i)):yi()}function yi(){R(Tt,Tt.current),R(En,En.current)}function Tn(i){Y(En),Zn===i&&(Zn=null),Y(Tt)}var Tt=z(0);function Au(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||tp(u)||np(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $r=0,Me=null,nt=null,Rt=null,ku=!1,ss=!1,fa=!1,Ru=0,Mo=0,os=null,_O=0;function St(){throw Error(r(321))}function Xd(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!_n(i[u],s[u]))return!1;return!0}function Kd(i,s,u,f,m,y){return $r=y,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?kv:dh,fa=!1,y=u(f,m),fa=!1,ss&&(y=Gb(s,u,f,m)),Vb(i),y}function Vb(i){P.H=No;var s=nt!==null&&nt.next!==null;if($r=0,Rt=nt=Me=null,ku=!1,Mo=0,os=null,s)throw Error(r(300));i===null||Mt||(i=i.dependencies,i!==null&&vu(i)&&(Mt=!0))}function Gb(i,s,u,f){Me=i;var m=0;do{if(ss&&(os=null),Mo=0,ss=!1,25<=m)throw Error(r(301));if(m+=1,Rt=nt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=Rv,y=s(u,f)}while(ss);return y}function SO(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Oo(s):s,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Me.flags|=1024),s}function Qd(){var i=Ru!==0;return Ru=0,i}function Wd(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function eh(i){if(ku){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ku=!1}$r=0,Rt=nt=Me=null,ss=!1,Mo=Ru=0,os=null}function tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Me.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(nt===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var s=Rt===null?Me.memoizedState:Rt.next;if(s!==null)Rt=s,nt=i;else{if(i===null)throw Me.alternate===null?Error(r(467)):Error(r(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Rt===null?Me.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(i){var s=Mo;return Mo+=1,os===null&&(os=[]),i=Pb(os,i,s),s=Me,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?kv:dh),i}function Ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Oo(i);if(i.$$typeof===A)return Ht(i)}throw Error(r(438,String(i)))}function th(i){var s=null,u=Me.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Me.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Mu(),Me.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),f=0;f<i;f++)u[f]=B;return s.index++,u}function Fr(i,s){return typeof s=="function"?s(i):s}function Iu(i){var s=Ct();return nh(s,nt,i)}function nh(i,s,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var m=i.baseQueue,y=f.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}s.baseQueue=m=y,f.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var k=_=null,N=null,Z=s,J=!1;do{var ee=Z.lane&-536870913;if(ee!==Z.lane?(Be&ee)===ee:($r&ee)===ee){var q=Z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ee===ts&&(J=!0);else if(($r&q)===q){Z=Z.next,q===ts&&(J=!0);continue}else ee={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},N===null?(k=N=ee,_=y):N=N.next=ee,Me.lanes|=q,xi|=q;ee=Z.action,fa&&u(y,ee),y=Z.hasEagerState?Z.eagerState:u(y,ee)}else q={lane:ee,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},N===null?(k=N=q,_=y):N=N.next=q,Me.lanes|=ee,xi|=ee;Z=Z.next}while(Z!==null&&Z!==s);if(N===null?_=y:N.next=k,!_n(y,i.memoizedState)&&(Mt=!0,J&&(u=ns,u!==null)))throw u;i.memoizedState=y,i.baseState=_,i.baseQueue=N,f.lastRenderedState=y}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function rh(i){var s=Ct(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,y=s.memoizedState;if(m!==null){u.pending=null;var _=m=m.next;do y=i(y,_.action),_=_.next;while(_!==m);_n(y,s.memoizedState)||(Mt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),u.lastRenderedState=y}return[y,f]}function Yb(i,s,u){var f=Me,m=Ct(),y=Fe;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=s();var _=!_n((nt||m).memoizedState,u);if(_&&(m.memoizedState=u,Mt=!0),m=m.queue,sh(Kb.bind(null,f,m,i),[i]),m.getSnapshot!==s||_||Rt!==null&&Rt.memoizedState.tag&1){if(f.flags|=2048,ls(9,{destroy:void 0},Xb.bind(null,f,m,u,s),null),ot===null)throw Error(r(349));y||($r&127)!==0||Jb(f,s,u)}return u}function Jb(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Me.updateQueue,s===null?(s=Mu(),Me.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Xb(i,s,u,f){s.value=u,s.getSnapshot=f,Qb(s)&&Wb(i)}function Kb(i,s,u){return u(function(){Qb(s)&&Wb(i)})}function Qb(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!_n(i,u)}catch{return!0}}function Wb(i){var s=na(i,2);s!==null&&yn(s,i,2)}function ih(i){var s=tn();if(typeof i=="function"){var u=i;if(i=u(),fa){cn(!0);try{u()}finally{cn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:i},s}function ev(i,s,u,f){return i.baseState=u,nh(i,nt,typeof f=="function"?f:Fr)}function EO(i,s,u,f,m){if(Du(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};P.T!==null?u(!0):y.isTransition=!1,f(y),u=s.pending,u===null?(y.next=s.pending=y,tv(s,y)):(y.next=u.next,s.pending=u.next=y)}}function tv(i,s){var u=s.action,f=s.payload,m=i.state;if(s.isTransition){var y=P.T,_={};P.T=_;try{var k=u(m,f),N=P.S;N!==null&&N(_,k),nv(i,s,k)}catch(Z){ah(i,s,Z)}finally{y!==null&&_.types!==null&&(y.types=_.types),P.T=y}}else try{y=u(m,f),nv(i,s,y)}catch(Z){ah(i,s,Z)}}function nv(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){rv(i,s,f)},function(f){return ah(i,s,f)}):rv(i,s,u)}function rv(i,s,u){s.status="fulfilled",s.value=u,iv(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,tv(i,u)))}function ah(i,s,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,iv(s),s=s.next;while(s!==f)}i.action=null}function iv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function av(i,s){return s}function sv(i,s){if(Fe){var u=ot.formState;if(u!==null){e:{var f=Me;if(Fe){if(dt){t:{for(var m=dt,y=Hn;m.nodeType!==8;){if(!y){m=null;break t}if(m=qn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){dt=qn(m.nextSibling),f=m.data==="F!";break e}}fi(f)}f=!1}f&&(s=u[0])}}return u=tn(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:av,lastRenderedState:s},u.queue=f,u=Tv.bind(null,Me,f),f.dispatch=u,f=ih(!1),y=fh.bind(null,Me,!1,f.queue),f=tn(),m={state:s,dispatch:null,action:i,pending:null},f.queue=m,u=EO.bind(null,Me,m,y,u),m.dispatch=u,f.memoizedState=i,[s,u,!1]}function ov(i){var s=Ct();return lv(s,nt,i)}function lv(i,s,u){if(s=nh(i,s,av)[0],i=Iu(Fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Oo(s)}catch(_){throw _===rs?_u:_}else f=s;s=Ct();var m=s.queue,y=m.dispatch;return u!==s.memoizedState&&(Me.flags|=2048,ls(9,{destroy:void 0},TO.bind(null,m,u),null)),[f,y,i]}function TO(i,s){i.action=s}function uv(i){var s=Ct(),u=nt;if(u!==null)return lv(s,u,i);Ct(),s=s.memoizedState,u=Ct();var f=u.queue.dispatch;return u.memoizedState=i,[s,f,!1]}function ls(i,s,u,f){return i={tag:i,create:u,deps:f,inst:s,next:null},s=Me.updateQueue,s===null&&(s=Mu(),Me.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i),i}function cv(){return Ct().memoizedState}function Nu(i,s,u,f){var m=tn();Me.flags|=i,m.memoizedState=ls(1|s,{destroy:void 0},u,f===void 0?null:f)}function zu(i,s,u,f){var m=Ct();f=f===void 0?null:f;var y=m.memoizedState.inst;nt!==null&&f!==null&&Xd(f,nt.memoizedState.deps)?m.memoizedState=ls(s,y,u,f):(Me.flags|=i,m.memoizedState=ls(1|s,y,u,f))}function fv(i,s){Nu(8390656,8,i,s)}function sh(i,s){zu(2048,8,i,s)}function CO(i){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=Mu(),Me.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function dv(i){var s=Ct().memoizedState;return CO({ref:s,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function hv(i,s){return zu(4,2,i,s)}function pv(i,s){return zu(4,4,i,s)}function mv(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function gv(i,s,u){u=u!=null?u.concat([i]):null,zu(4,4,mv.bind(null,s,i),u)}function oh(){}function yv(i,s){var u=Ct();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Xd(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function bv(i,s){var u=Ct();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Xd(s,f[1]))return f[0];if(f=i(),fa){cn(!0);try{i()}finally{cn(!1)}}return u.memoizedState=[f,s],f}function lh(i,s,u){return u===void 0||($r&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=vx(),Me.lanes|=i,xi|=i,u)}function vv(i,s,u,f){return _n(u,s)?u:as.current!==null?(i=lh(i,u,f),_n(i,s)||(Mt=!0),i):($r&42)===0||($r&1073741824)!==0&&(Be&261930)===0?(Mt=!0,i.memoizedState=u):(i=vx(),Me.lanes|=i,xi|=i,s)}function xv(i,s,u,f,m){var y=K.p;K.p=y!==0&&8>y?y:8;var _=P.T,k={};P.T=k,fh(i,!1,s,u);try{var N=m(),Z=P.S;if(Z!==null&&Z(k,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=wO(N,f);Io(i,s,J,kn(i))}else Io(i,s,f,kn(i))}catch(ee){Io(i,s,{then:function(){},status:"rejected",reason:ee},kn())}finally{K.p=y,_!==null&&k.types!==null&&(_.types=k.types),P.T=_}}function AO(){}function uh(i,s,u,f){if(i.tag!==5)throw Error(r(476));var m=wv(i).queue;xv(i,m,s,V,u===null?AO:function(){return _v(i),u(f)})}function wv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:V},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function _v(i){var s=wv(i);s.next===null&&(s=i.alternate.memoizedState),Io(i,s.next.queue,{},kn())}function ch(){return Ht(Jo)}function Sv(){return Ct().memoizedState}function Ev(){return Ct().memoizedState}function kO(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=kn();i=pi(u);var f=mi(s,i,u);f!==null&&(yn(f,s,u),Ao(f,s,u)),s={cache:Bd()},i.payload=s;return}s=s.return}}function RO(i,s,u){var f=kn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Du(i)?Cv(s,u):(u=kd(i,s,u,f),u!==null&&(yn(u,i,f),Av(u,s,f)))}function Tv(i,s,u){var f=kn();Io(i,s,u,f)}function Io(i,s,u,f){var m={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Du(i))Cv(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,k=y(_,u);if(m.hasEagerState=!0,m.eagerState=k,_n(k,_))return mu(i,s,m,0),ot===null&&pu(),!1}catch{}if(u=kd(i,s,m,f),u!==null)return yn(u,i,f),Av(u,s,f),!0}return!1}function fh(i,s,u,f){if(f={lane:2,revertLane:Hh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Du(i)){if(s)throw Error(r(479))}else s=kd(i,u,f,2),s!==null&&yn(s,i,2)}function Du(i){var s=i.alternate;return i===Me||s!==null&&s===Me}function Cv(i,s){ss=ku=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Av(i,s,u){if((u&4194048)!==0){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Iy(i,u)}}var No={readContext:Ht,use:Ou,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};No.useEffectEvent=St;var kv={readContext:Ht,use:Ou,useCallback:function(i,s){return tn().memoizedState=[i,s===void 0?null:s],i},useContext:Ht,useEffect:fv,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Nu(4194308,4,mv.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Nu(4194308,4,i,s)},useInsertionEffect:function(i,s){Nu(4,2,i,s)},useMemo:function(i,s){var u=tn();s=s===void 0?null:s;var f=i();if(fa){cn(!0);try{i()}finally{cn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(i,s,u){var f=tn();if(u!==void 0){var m=u(s);if(fa){cn(!0);try{u(s)}finally{cn(!1)}}}else m=s;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=RO.bind(null,Me,i),[f.memoizedState,i]},useRef:function(i){var s=tn();return i={current:i},s.memoizedState=i},useState:function(i){i=ih(i);var s=i.queue,u=Tv.bind(null,Me,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:oh,useDeferredValue:function(i,s){var u=tn();return lh(u,i,s)},useTransition:function(){var i=ih(!1);return i=xv.bind(null,Me,i.queue,!0,!1),tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var f=Me,m=tn();if(Fe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),ot===null)throw Error(r(349));(Be&127)!==0||Jb(f,s,u)}m.memoizedState=u;var y={value:u,getSnapshot:s};return m.queue=y,fv(Kb.bind(null,f,y,i),[i]),f.flags|=2048,ls(9,{destroy:void 0},Xb.bind(null,f,y,u,s),null),u},useId:function(){var i=tn(),s=ot.identifierPrefix;if(Fe){var u=mr,f=pr;u=(f&~(1<<32-st(f)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Ru++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=_O++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ch,useFormState:sv,useActionState:sv,useOptimistic:function(i){var s=tn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=fh.bind(null,Me,!0,u),u.dispatch=s,[i,s]},useMemoCache:th,useCacheRefresh:function(){return tn().memoizedState=kO.bind(null,Me)},useEffectEvent:function(i){var s=tn(),u={impl:i};return s.memoizedState=u,function(){if((Xe&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},dh={readContext:Ht,use:Ou,useCallback:yv,useContext:Ht,useEffect:sh,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:pv,useMemo:bv,useReducer:Iu,useRef:cv,useState:function(){return Iu(Fr)},useDebugValue:oh,useDeferredValue:function(i,s){var u=Ct();return vv(u,nt.memoizedState,i,s)},useTransition:function(){var i=Iu(Fr)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:Oo(i),s]},useSyncExternalStore:Yb,useId:Sv,useHostTransitionStatus:ch,useFormState:ov,useActionState:ov,useOptimistic:function(i,s){var u=Ct();return ev(u,nt,i,s)},useMemoCache:th,useCacheRefresh:Ev};dh.useEffectEvent=dv;var Rv={readContext:Ht,use:Ou,useCallback:yv,useContext:Ht,useEffect:sh,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:pv,useMemo:bv,useReducer:rh,useRef:cv,useState:function(){return rh(Fr)},useDebugValue:oh,useDeferredValue:function(i,s){var u=Ct();return nt===null?lh(u,i,s):vv(u,nt.memoizedState,i,s)},useTransition:function(){var i=rh(Fr)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:Oo(i),s]},useSyncExternalStore:Yb,useId:Sv,useHostTransitionStatus:ch,useFormState:uv,useActionState:uv,useOptimistic:function(i,s){var u=Ct();return nt!==null?ev(u,nt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:th,useCacheRefresh:Ev};Rv.useEffectEvent=dv;function hh(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:g({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ph={enqueueSetState:function(i,s,u){i=i._reactInternals;var f=kn(),m=pi(f);m.payload=s,u!=null&&(m.callback=u),s=mi(i,m,f),s!==null&&(yn(s,i,f),Ao(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=kn(),m=pi(f);m.tag=1,m.payload=s,u!=null&&(m.callback=u),s=mi(i,m,f),s!==null&&(yn(s,i,f),Ao(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=kn(),f=pi(u);f.tag=2,s!=null&&(f.callback=s),s=mi(i,f,u),s!==null&&(yn(s,i,u),Ao(s,i,u))}};function Mv(i,s,u,f,m,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,_):s.prototype&&s.prototype.isPureReactComponent?!vo(u,f)||!vo(m,y):!0}function Ov(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&ph.enqueueReplaceState(s,s.state,null)}function da(i,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(i=i.defaultProps){u===s&&(u=g({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}function Iv(i){hu(i)}function Nv(i){console.error(i)}function zv(i){hu(i)}function ju(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Dv(i,s,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mh(i,s,u){return u=pi(u),u.tag=3,u.payload={element:null},u.callback=function(){ju(i,s)},u}function jv(i){return i=pi(i),i.tag=3,i}function Pv(i,s,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;i.payload=function(){return m(y)},i.callback=function(){Dv(s,u,f)}}var _=u.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Dv(s,u,f),typeof m!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function MO(i,s,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&es(s,u,m,!0),u=En.current,u!==null){switch(u.tag){case 31:case 13:return Zn===null?Yu():u.alternate===null&&Et===0&&(Et=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===Su?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),Uh(i,f,m)),!1;case 22:return u.flags|=65536,f===Su?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),Uh(i,f,m)),!1}throw Error(r(435,u.tag))}return Uh(i,f,m),Yu(),!1}if(Fe)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,f!==zd&&(i=Error(r(422),{cause:f}),_o(Un(i,u)))):(f!==zd&&(s=Error(r(423),{cause:f}),_o(Un(s,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=Un(f,u),m=mh(i.stateNode,f,m),qd(i,m),Et!==4&&(Et=2)),!1;var y=Error(r(520),{cause:f});if(y=Un(y,u),$o===null?$o=[y]:$o.push(y),Et!==4&&(Et=2),s===null)return!0;f=Un(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=mh(u.stateNode,f,i),qd(u,i),!1;case 1:if(s=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=jv(m),Pv(m,i,u,f),qd(u,m),!1}u=u.return}while(u!==null);return!1}var gh=Error(r(461)),Mt=!1;function Zt(i,s,u,f){s.child=i===null?$b(s,null,u,f):ca(s,i.child,u,f)}function Lv(i,s,u,f,m){u=u.render;var y=s.ref;if("ref"in f){var _={};for(var k in f)k!=="ref"&&(_[k]=f[k])}else _=f;return sa(s),f=Kd(i,s,u,_,y,m),k=Qd(),i!==null&&!Mt?(Wd(i,s,m),Hr(i,s,m)):(Fe&&k&&Id(s),s.flags|=1,Zt(i,s,f,m),s.child)}function Bv(i,s,u,f,m){if(i===null){var y=u.type;return typeof y=="function"&&!Rd(y)&&y.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=y,Uv(i,s,y,f,m)):(i=yu(u.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Eh(i,m)){var _=y.memoizedProps;if(u=u.compare,u=u!==null?u:vo,u(_,f)&&i.ref===s.ref)return Hr(i,s,m)}return s.flags|=1,i=Pr(y,f),i.ref=s.ref,i.return=s,s.child=i}function Uv(i,s,u,f,m){if(i!==null){var y=i.memoizedProps;if(vo(y,f)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=f=y,Eh(i,m))(i.flags&131072)!==0&&(Mt=!0);else return s.lanes=i.lanes,Hr(i,s,m)}return yh(i,s,u,f,m)}function $v(i,s,u,f){var m=f.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,i!==null){for(f=s.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~y}else f=0,s.child=null;return Fv(i,s,y,u,f)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&wu(s,y!==null?y.cachePool:null),y!==null?Zb(s,y):Gd(),qb(s);else return f=s.lanes=536870912,Fv(i,s,y!==null?y.baseLanes|u:u,u,f)}else y!==null?(wu(s,y.cachePool),Zb(s,y),yi(),s.memoizedState=null):(i!==null&&wu(s,null),Gd(),yi());return Zt(i,s,m,u),s.child}function zo(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Fv(i,s,u,f,m){var y=$d();return y=y===null?null:{parent:kt._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},i!==null&&wu(s,null),Gd(),qb(s),i!==null&&es(i,s,f,!0),s.childLanes=m,null}function Pu(i,s){return s=Bu({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Hv(i,s,u){return ca(s,i.child,null,u),i=Pu(s,s.pendingProps),i.flags|=2,Tn(s),s.memoizedState=null,i}function OO(i,s,u){var f=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Fe){if(f.mode==="hidden")return i=Pu(s,f),s.lanes=536870912,zo(null,i);if(Jd(s),(i=dt)?(i=tw(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ui!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},u=Cb(i),u.return=s,s.child=u,Ft=s,dt=null)):i=null,i===null)throw fi(s);return s.lanes=536870912,null}return Pu(s,f)}var y=i.memoizedState;if(y!==null){var _=y.dehydrated;if(Jd(s),m)if(s.flags&256)s.flags&=-257,s=Hv(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Mt||es(i,s,u,!1),m=(u&i.childLanes)!==0,Mt||m){if(f=ot,f!==null&&(_=Ny(f,u),_!==0&&_!==y.retryLane))throw y.retryLane=_,na(i,_),yn(f,i,_),gh;Yu(),s=Hv(i,s,u)}else i=y.treeContext,dt=qn(_.nextSibling),Ft=s,Fe=!0,ci=null,Hn=!1,i!==null&&Rb(s,i),s=Pu(s,f),s.flags|=4096;return s}return i=Pr(i.child,{mode:f.mode,children:f.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Lu(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function yh(i,s,u,f,m){return sa(s),u=Kd(i,s,u,f,void 0,m),f=Qd(),i!==null&&!Mt?(Wd(i,s,m),Hr(i,s,m)):(Fe&&f&&Id(s),s.flags|=1,Zt(i,s,u,m),s.child)}function Zv(i,s,u,f,m,y){return sa(s),s.updateQueue=null,u=Gb(s,f,u,m),Vb(i),f=Qd(),i!==null&&!Mt?(Wd(i,s,y),Hr(i,s,y)):(Fe&&f&&Id(s),s.flags|=1,Zt(i,s,u,y),s.child)}function qv(i,s,u,f,m){if(sa(s),s.stateNode===null){var y=Xa,_=u.contextType;typeof _=="object"&&_!==null&&(y=Ht(_)),y=new u(f,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ph,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=f,y.state=s.memoizedState,y.refs={},Hd(s),_=u.contextType,y.context=typeof _=="object"&&_!==null?Ht(_):Xa,y.state=s.memoizedState,_=u.getDerivedStateFromProps,typeof _=="function"&&(hh(s,u,_,f),y.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&ph.enqueueReplaceState(y,y.state,null),Ro(s,f,y,m),ko(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(i===null){y=s.stateNode;var k=s.memoizedProps,N=da(u,k);y.props=N;var Z=y.context,J=u.contextType;_=Xa,typeof J=="object"&&J!==null&&(_=Ht(J));var ee=u.getDerivedStateFromProps;J=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||Z!==_)&&Ov(s,y,f,_),hi=!1;var q=s.memoizedState;y.state=q,Ro(s,f,y,m),ko(),Z=s.memoizedState,k||q!==Z||hi?(typeof ee=="function"&&(hh(s,u,ee,f),Z=s.memoizedState),(N=hi||Mv(s,u,N,f,q,Z,_))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=Z),y.props=f,y.state=Z,y.context=_,f=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{y=s.stateNode,Zd(i,s),_=s.memoizedProps,J=da(u,_),y.props=J,ee=s.pendingProps,q=y.context,Z=u.contextType,N=Xa,typeof Z=="object"&&Z!==null&&(N=Ht(Z)),k=u.getDerivedStateFromProps,(Z=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==ee||q!==N)&&Ov(s,y,f,N),hi=!1,q=s.memoizedState,y.state=q,Ro(s,f,y,m),ko();var G=s.memoizedState;_!==ee||q!==G||hi||i!==null&&i.dependencies!==null&&vu(i.dependencies)?(typeof k=="function"&&(hh(s,u,k,f),G=s.memoizedState),(J=hi||Mv(s,u,J,f,q,G,N)||i!==null&&i.dependencies!==null&&vu(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,G,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,G,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=G),y.props=f,y.state=G,y.context=N,f=J):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&q===i.memoizedState||(s.flags|=1024),f=!1)}return y=f,Lu(i,s),f=(s.flags&128)!==0,y||f?(y=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&f?(s.child=ca(s,i.child,null,m),s.child=ca(s,null,u,m)):Zt(i,s,u,m),s.memoizedState=y.state,i=s.child):i=Hr(i,s,m),i}function Vv(i,s,u,f){return ia(),s.flags|=256,Zt(i,s,u,f),s.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vh(i){return{baseLanes:i,cachePool:Db()}}function xh(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=An),i}function Gv(i,s,u){var f=s.pendingProps,m=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),_&&(m=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Fe){if(m?gi(s):yi(),(i=dt)?(i=tw(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ui!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},u=Cb(i),u.return=s,s.child=u,Ft=s,dt=null)):i=null,i===null)throw fi(s);return np(i)?s.lanes=32:s.lanes=536870912,null}var k=f.children;return f=f.fallback,m?(yi(),m=s.mode,k=Bu({mode:"hidden",children:k},m),f=ra(f,m,u,null),k.return=s,f.return=s,k.sibling=f,s.child=k,f=s.child,f.memoizedState=vh(u),f.childLanes=xh(i,_,u),s.memoizedState=bh,zo(null,f)):(gi(s),wh(s,k))}var N=i.memoizedState;if(N!==null&&(k=N.dehydrated,k!==null)){if(y)s.flags&256?(gi(s),s.flags&=-257,s=_h(i,s,u)):s.memoizedState!==null?(yi(),s.child=i.child,s.flags|=128,s=null):(yi(),k=f.fallback,m=s.mode,f=Bu({mode:"visible",children:f.children},m),k=ra(k,m,u,null),k.flags|=2,f.return=s,k.return=s,f.sibling=k,s.child=f,ca(s,i.child,null,u),f=s.child,f.memoizedState=vh(u),f.childLanes=xh(i,_,u),s.memoizedState=bh,s=zo(null,f));else if(gi(s),np(k)){if(_=k.nextSibling&&k.nextSibling.dataset,_)var Z=_.dgst;_=Z,f=Error(r(419)),f.stack="",f.digest=_,_o({value:f,source:null,stack:null}),s=_h(i,s,u)}else if(Mt||es(i,s,u,!1),_=(u&i.childLanes)!==0,Mt||_){if(_=ot,_!==null&&(f=Ny(_,u),f!==0&&f!==N.retryLane))throw N.retryLane=f,na(i,f),yn(_,i,f),gh;tp(k)||Yu(),s=_h(i,s,u)}else tp(k)?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,dt=qn(k.nextSibling),Ft=s,Fe=!0,ci=null,Hn=!1,i!==null&&Rb(s,i),s=wh(s,f.children),s.flags|=4096);return s}return m?(yi(),k=f.fallback,m=s.mode,N=i.child,Z=N.sibling,f=Pr(N,{mode:"hidden",children:f.children}),f.subtreeFlags=N.subtreeFlags&65011712,Z!==null?k=Pr(Z,k):(k=ra(k,m,u,null),k.flags|=2),k.return=s,f.return=s,f.sibling=k,s.child=f,zo(null,f),f=s.child,k=i.child.memoizedState,k===null?k=vh(u):(m=k.cachePool,m!==null?(N=kt._currentValue,m=m.parent!==N?{parent:N,pool:N}:m):m=Db(),k={baseLanes:k.baseLanes|u,cachePool:m}),f.memoizedState=k,f.childLanes=xh(i,_,u),s.memoizedState=bh,zo(i.child,f)):(gi(s),u=i.child,i=u.sibling,u=Pr(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=u,s.memoizedState=null,u)}function wh(i,s){return s=Bu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Bu(i,s){return i=Sn(22,i,null,s),i.lanes=0,i}function _h(i,s,u){return ca(s,i.child,null,u),i=wh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Yv(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Pd(i.return,s,u)}function Sh(i,s,u,f,m,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m,treeForkCount:y}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m,_.treeForkCount=y)}function Jv(i,s,u){var f=s.pendingProps,m=f.revealOrder,y=f.tail;f=f.children;var _=Tt.current,k=(_&2)!==0;if(k?(_=_&1|2,s.flags|=128):_&=1,R(Tt,_),Zt(i,s,f,u),f=Fe?wo:0,!k&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yv(i,u,s);else if(i.tag===19)Yv(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(u=s.child,m=null;u!==null;)i=u.alternate,i!==null&&Au(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=s.child,s.child=null):(m=u.sibling,u.sibling=null),Sh(s,!1,m,u,y,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Au(i)===null){s.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Sh(s,!0,u,null,y,f);break;case"together":Sh(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Hr(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),xi|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(es(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Pr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Pr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Eh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&vu(i)))}function IO(i,s,u){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),di(s,kt,i.memoizedState.cache),ia();break;case 27:case 5:zt(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:di(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Jd(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(gi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Gv(i,s,u):(gi(s),i=Hr(i,s,u),i!==null?i.sibling:null);gi(s);break;case 19:var m=(i.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(es(i,s,u,!1),f=(u&s.childLanes)!==0),m){if(f)return Jv(i,s,u);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),R(Tt,Tt.current),f)break;return null;case 22:return s.lanes=0,$v(i,s,u,s.pendingProps);case 24:di(s,kt,i.memoizedState.cache)}return Hr(i,s,u)}function Xv(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)Mt=!0;else{if(!Eh(i,u)&&(s.flags&128)===0)return Mt=!1,IO(i,s,u);Mt=(i.flags&131072)!==0}else Mt=!1,Fe&&(s.flags&1048576)!==0&&kb(s,wo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(i=la(s.elementType),s.type=i,typeof i=="function")Rd(i)?(f=da(i,f),s.tag=1,s=qv(null,s,i,f,u)):(s.tag=0,s=yh(null,s,i,f,u));else{if(i!=null){var m=i.$$typeof;if(m===j){s.tag=11,s=Lv(null,s,i,f,u);break e}else if(m===L){s.tag=14,s=Bv(null,s,i,f,u);break e}}throw s=oe(i)||i,Error(r(306,s,""))}}return s;case 0:return yh(i,s,s.type,s.pendingProps,u);case 1:return f=s.type,m=da(f,s.pendingProps),qv(i,s,f,m,u);case 3:e:{if(Ge(s,s.stateNode.containerInfo),i===null)throw Error(r(387));f=s.pendingProps;var y=s.memoizedState;m=y.element,Zd(i,s),Ro(s,f,null,u);var _=s.memoizedState;if(f=_.cache,di(s,kt,f),f!==y.cache&&Ld(s,[kt],u,!0),ko(),f=_.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Vv(i,s,f,u);break e}else if(f!==m){m=Un(Error(r(424)),s),_o(m),s=Vv(i,s,f,u);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,dt=qn(i.firstChild),Ft=s,Fe=!0,ci=null,Hn=!0,u=$b(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ia(),f===m){s=Hr(i,s,u);break e}Zt(i,s,f,u)}s=s.child}return s;case 26:return Lu(i,s),i===null?(u=ow(s.type,null,s.pendingProps,null))?s.memoizedState=u:Fe||(u=s.type,i=s.pendingProps,f=tc(de.current).createElement(u),f[$t]=s,f[fn]=i,qt(f,u,i),Bt(f),s.stateNode=f):s.memoizedState=ow(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return zt(s),i===null&&Fe&&(f=s.stateNode=iw(s.type,s.pendingProps,de.current),Ft=s,Hn=!0,m=dt,Ti(s.type)?(rp=m,dt=qn(f.firstChild)):dt=m),Zt(i,s,s.pendingProps.children,u),Lu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Fe&&((m=f=dt)&&(f=lI(f,s.type,s.pendingProps,Hn),f!==null?(s.stateNode=f,Ft=s,dt=qn(f.firstChild),Hn=!1,m=!0):m=!1),m||fi(s)),zt(s),m=s.type,y=s.pendingProps,_=i!==null?i.memoizedProps:null,f=y.children,Qh(m,y)?f=null:_!==null&&Qh(m,_)&&(s.flags|=32),s.memoizedState!==null&&(m=Kd(i,s,SO,null,null,u),Jo._currentValue=m),Lu(i,s),Zt(i,s,f,u),s.child;case 6:return i===null&&Fe&&((i=u=dt)&&(u=uI(u,s.pendingProps,Hn),u!==null?(s.stateNode=u,Ft=s,dt=null,i=!0):i=!1),i||fi(s)),null;case 13:return Gv(i,s,u);case 4:return Ge(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=ca(s,null,f,u):Zt(i,s,f,u),s.child;case 11:return Lv(i,s,s.type,s.pendingProps,u);case 7:return Zt(i,s,s.pendingProps,u),s.child;case 8:return Zt(i,s,s.pendingProps.children,u),s.child;case 12:return Zt(i,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,di(s,s.type,f.value),Zt(i,s,f.children,u),s.child;case 9:return m=s.type._context,f=s.pendingProps.children,sa(s),m=Ht(m),f=f(m),s.flags|=1,Zt(i,s,f,u),s.child;case 14:return Bv(i,s,s.type,s.pendingProps,u);case 15:return Uv(i,s,s.type,s.pendingProps,u);case 19:return Jv(i,s,u);case 31:return OO(i,s,u);case 22:return $v(i,s,u,s.pendingProps);case 24:return sa(s),f=Ht(kt),i===null?(m=$d(),m===null&&(m=ot,y=Bd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),s.memoizedState={parent:f,cache:m},Hd(s),di(s,kt,m)):((i.lanes&u)!==0&&(Zd(i,s),Ro(s,null,null,u),ko()),m=i.memoizedState,y=s.memoizedState,m.parent!==f?(m={parent:f,cache:f},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),di(s,kt,f)):(f=y.cache,di(s,kt,f),f!==m.cache&&Ld(s,[kt],u,!0))),Zt(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Zr(i){i.flags|=4}function Th(i,s,u,f,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(Sx())i.flags|=8192;else throw ua=Su,Fd}else i.flags&=-16777217}function Kv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dw(s))if(Sx())i.flags|=8192;else throw ua=Su,Fd}function Uu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?My():536870912,i.lanes|=s,ds|=s)}function Do(i,s){if(!Fe)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function NO(i,s,u){var f=s.pendingProps;switch(Nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return u=s.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ur(kt),$e(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Wa(s)?Zr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dd())),ht(s),null;case 26:var m=s.type,y=s.memoizedState;return i===null?(Zr(s),y!==null?(ht(s),Kv(s,y)):(ht(s),Th(s,m,null,f,u))):y?y!==i.memoizedState?(Zr(s),ht(s),Kv(s,y)):(ht(s),s.flags&=-16777217):(i=i.memoizedProps,i!==f&&Zr(s),ht(s),Th(s,m,i,f,u)),null;case 27:if(Qt(s),u=de.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Zr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ht(s),null}i=ae.current,Wa(s)?Mb(s):(i=iw(m,f,u),s.stateNode=i,Zr(s))}return ht(s),null;case 5:if(Qt(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==f&&Zr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ht(s),null}if(y=ae.current,Wa(s))Mb(s);else{var _=tc(de.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof f.is=="string"?_.createElement("select",{is:f.is}):_.createElement("select"),f.multiple?y.multiple=!0:f.size&&(y.size=f.size);break;default:y=typeof f.is=="string"?_.createElement(m,{is:f.is}):_.createElement(m)}}y[$t]=s,y[fn]=f;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=y;e:switch(qt(y,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Zr(s)}}return ht(s),Th(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==f&&Zr(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(i=de.current,Wa(s)){if(i=s.stateNode,u=s.memoizedProps,f=null,m=Ft,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[$t]=s,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Gx(i.nodeValue,u)),i||fi(s,!0)}else i=tc(i).createTextNode(f),i[$t]=s,s.stateNode=i}return ht(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(f=Wa(s),u!==null){if(i===null){if(!f)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[$t]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),i=!1}else u=Dd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(Tn(s),s):(Tn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ht(s),null;case 13:if(f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Wa(s),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[$t]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),m=!1}else m=Dd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Tn(s),s):(Tn(s),null)}return Tn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=f!==null,i=i!==null&&i.memoizedState!==null,u&&(f=s.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),Uu(s,s.updateQueue),ht(s),null);case 4:return $e(),i===null&&Gh(s.stateNode.containerInfo),ht(s),null;case 10:return Ur(s.type),ht(s),null;case 19:if(Y(Tt),f=s.memoizedState,f===null)return ht(s),null;if(m=(s.flags&128)!==0,y=f.rendering,y===null)if(m)Do(f,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Au(i),y!==null){for(s.flags|=128,Do(f,!1),i=y.updateQueue,s.updateQueue=i,Uu(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Tb(u,i),u=u.sibling;return R(Tt,Tt.current&1|2),Fe&&Lr(s,f.treeForkCount),s.child}i=i.sibling}f.tail!==null&&Wt()>qu&&(s.flags|=128,m=!0,Do(f,!1),s.lanes=4194304)}else{if(!m)if(i=Au(y),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Uu(s,i),Do(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Fe)return ht(s),null}else 2*Wt()-f.renderingStartTime>qu&&u!==536870912&&(s.flags|=128,m=!0,Do(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(i=f.last,i!==null?i.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Wt(),i.sibling=null,u=Tt.current,R(Tt,m?u&1|2:u&1),Fe&&Lr(s,f.treeForkCount),i):(ht(s),null);case 22:case 23:return Tn(s),Yd(),f=s.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),u=s.updateQueue,u!==null&&Uu(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),i!==null&&Y(oa),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ur(kt),ht(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function zO(i,s){switch(Nd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ur(kt),$e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Qt(s),null;case 31:if(s.memoizedState!==null){if(Tn(s),s.alternate===null)throw Error(r(340));ia()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Tn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ia()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(Tt),null;case 4:return $e(),null;case 10:return Ur(s.type),null;case 22:case 23:return Tn(s),Yd(),i!==null&&Y(oa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ur(kt),null;case 25:return null;default:return null}}function Qv(i,s){switch(Nd(s),s.tag){case 3:Ur(kt),$e();break;case 26:case 27:case 5:Qt(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&Tn(s);break;case 13:Tn(s);break;case 19:Y(Tt);break;case 10:Ur(s.type);break;case 22:case 23:Tn(s),Yd(),i!==null&&Y(oa);break;case 24:Ur(kt)}}function jo(i,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){f=void 0;var y=u.create,_=u.inst;f=y(),_.destroy=f}u=u.next}while(u!==m)}}catch(k){We(s,s.return,k)}}function bi(i,s,u){try{var f=s.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&i)===i){var _=f.inst,k=_.destroy;if(k!==void 0){_.destroy=void 0,m=s;var N=u,Z=k;try{Z()}catch(J){We(m,N,J)}}}f=f.next}while(f!==y)}}catch(J){We(s,s.return,J)}}function Wv(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{Hb(s,u)}catch(f){We(i,i.return,f)}}}function ex(i,s,u){u.props=da(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){We(i,s,f)}}function Po(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(m){We(i,s,m)}}function gr(i,s){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){We(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){We(i,s,m)}else u.current=null}function tx(i){var s=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){We(i,i.return,m)}}function Ch(i,s,u){try{var f=i.stateNode;nI(f,i.type,u,s),f[fn]=s}catch(m){We(i,i.return,m)}}function nx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function Ah(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||nx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function kh(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Dr));else if(f!==4&&(f===27&&Ti(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(kh(i,s,u),i=i.sibling;i!==null;)kh(i,s,u),i=i.sibling}function $u(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(f===27&&Ti(i.type)&&(u=i.stateNode),i=i.child,i!==null))for($u(i,s,u),i=i.sibling;i!==null;)$u(i,s,u),i=i.sibling}function rx(i){var s=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);qt(s,f,u),s[$t]=i,s[fn]=u}catch(y){We(i,i.return,y)}}var qr=!1,Ot=!1,Rh=!1,ix=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function DO(i,s){if(i=i.containerInfo,Xh=lc,i=gb(i),_d(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var _=0,k=-1,N=-1,Z=0,J=0,ee=i,q=null;t:for(;;){for(var G;ee!==u||m!==0&&ee.nodeType!==3||(k=_+m),ee!==y||f!==0&&ee.nodeType!==3||(N=_+f),ee.nodeType===3&&(_+=ee.nodeValue.length),(G=ee.firstChild)!==null;)q=ee,ee=G;for(;;){if(ee===i)break t;if(q===u&&++Z===m&&(k=_),q===y&&++J===f&&(N=_),(G=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=G}u=k===-1||N===-1?null:{start:k,end:N}}else u=null}u=u||{start:0,end:0}}else u=null;for(Kh={focusedElem:i,selectionRange:u},lc=!1,Ut=s;Ut!==null;)if(s=Ut,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ut=i;else for(;Ut!==null;){switch(s=Ut,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)m=i[u],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=s,m=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var pe=da(u.type,m);i=f.getSnapshotBeforeUpdate(pe,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(Ee){We(u,u.return,Ee)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)ep(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ep(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ut=i;break}Ut=s.return}}function ax(i,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Gr(i,u),f&4&&jo(5,u);break;case 1:if(Gr(i,u),f&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(_){We(u,u.return,_)}else{var m=da(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){We(u,u.return,_)}}f&64&&Wv(u),f&512&&Po(u,u.return);break;case 3:if(Gr(i,u),f&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Hb(i,s)}catch(_){We(u,u.return,_)}}break;case 27:s===null&&f&4&&rx(u);case 26:case 5:Gr(i,u),s===null&&f&4&&tx(u),f&512&&Po(u,u.return);break;case 12:Gr(i,u);break;case 31:Gr(i,u),f&4&&lx(i,u);break;case 13:Gr(i,u),f&4&&ux(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=ZO.bind(null,u),cI(i,u))));break;case 22:if(f=u.memoizedState!==null||qr,!f){s=s!==null&&s.memoizedState!==null||Ot,m=qr;var y=Ot;qr=f,(Ot=s)&&!y?Yr(i,u,(u.subtreeFlags&8772)!==0):Gr(i,u),qr=m,Ot=y}break;case 30:break;default:Gr(i,u)}}function sx(i){var s=i.alternate;s!==null&&(i.alternate=null,sx(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ad(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vt=null,hn=!1;function Vr(i,s,u){for(u=u.child;u!==null;)ox(i,s,u),u=u.sibling}function ox(i,s,u){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(en,u)}catch{}switch(u.tag){case 26:Ot||gr(u,s),Vr(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ot||gr(u,s);var f=vt,m=hn;Ti(u.type)&&(vt=u.stateNode,hn=!1),Vr(i,s,u),Vo(u.stateNode),vt=f,hn=m;break;case 5:Ot||gr(u,s);case 6:if(f=vt,m=hn,vt=null,Vr(i,s,u),vt=f,hn=m,vt!==null)if(hn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(u.stateNode)}catch(y){We(u,s,y)}else try{vt.removeChild(u.stateNode)}catch(y){We(u,s,y)}break;case 18:vt!==null&&(hn?(i=vt,Wx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),xs(i)):Wx(vt,u.stateNode));break;case 4:f=vt,m=hn,vt=u.stateNode.containerInfo,hn=!0,Vr(i,s,u),vt=f,hn=m;break;case 0:case 11:case 14:case 15:bi(2,u,s),Ot||bi(4,u,s),Vr(i,s,u);break;case 1:Ot||(gr(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&ex(u,s,f)),Vr(i,s,u);break;case 21:Vr(i,s,u);break;case 22:Ot=(f=Ot)||u.memoizedState!==null,Vr(i,s,u),Ot=f;break;default:Vr(i,s,u)}}function lx(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{xs(i)}catch(u){We(s,s.return,u)}}}function ux(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xs(i)}catch(u){We(s,s.return,u)}}function jO(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new ix),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new ix),s;default:throw Error(r(435,i.tag))}}function Fu(i,s){var u=jO(i);s.forEach(function(f){if(!u.has(f)){u.add(f);var m=qO.bind(null,i,f);f.then(m,m)}})}function pn(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],y=i,_=s,k=_;e:for(;k!==null;){switch(k.tag){case 27:if(Ti(k.type)){vt=k.stateNode,hn=!1;break e}break;case 5:vt=k.stateNode,hn=!1;break e;case 3:case 4:vt=k.stateNode.containerInfo,hn=!0;break e}k=k.return}if(vt===null)throw Error(r(160));ox(y,_,m),vt=null,hn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)cx(s,i),s=s.sibling}var tr=null;function cx(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(s,i),mn(i),f&4&&(bi(3,i,i.return),jo(3,i),bi(5,i,i.return));break;case 1:pn(s,i),mn(i),f&512&&(Ot||u===null||gr(u,u.return)),f&64&&qr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=tr;if(pn(s,i),mn(i),f&512&&(Ot||u===null||gr(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[uo]||y[$t]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),qt(y,f,u),y[$t]=i,Bt(y),f=y;break e;case"link":var _=cw("link","href",m).get(f+(u.href||""));if(_){for(var k=0;k<_.length;k++)if(y=_[k],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){_.splice(k,1);break t}}y=m.createElement(f),qt(y,f,u),m.head.appendChild(y);break;case"meta":if(_=cw("meta","content",m).get(f+(u.content||""))){for(k=0;k<_.length;k++)if(y=_[k],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){_.splice(k,1);break t}}y=m.createElement(f),qt(y,f,u),m.head.appendChild(y);break;default:throw Error(r(468,f))}y[$t]=i,Bt(y),f=y}i.stateNode=f}else fw(m,i.type,i.stateNode);else i.stateNode=uw(m,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?fw(m,i.type,i.stateNode):uw(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Ch(i,i.memoizedProps,u.memoizedProps)}break;case 27:pn(s,i),mn(i),f&512&&(Ot||u===null||gr(u,u.return)),u!==null&&f&4&&Ch(i,i.memoizedProps,u.memoizedProps);break;case 5:if(pn(s,i),mn(i),f&512&&(Ot||u===null||gr(u,u.return)),i.flags&32){m=i.stateNode;try{Ha(m,"")}catch(pe){We(i,i.return,pe)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,Ch(i,m,u!==null?u.memoizedProps:m)),f&1024&&(Rh=!0);break;case 6:if(pn(s,i),mn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(pe){We(i,i.return,pe)}}break;case 3:if(ic=null,m=tr,tr=nc(s.containerInfo),pn(s,i),tr=m,mn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{xs(s.containerInfo)}catch(pe){We(i,i.return,pe)}Rh&&(Rh=!1,fx(i));break;case 4:f=tr,tr=nc(i.stateNode.containerInfo),pn(s,i),mn(i),tr=f;break;case 12:pn(s,i),mn(i);break;case 31:pn(s,i),mn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Fu(i,f)));break;case 13:pn(s,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zu=Wt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Fu(i,f)));break;case 22:m=i.memoizedState!==null;var N=u!==null&&u.memoizedState!==null,Z=qr,J=Ot;if(qr=Z||m,Ot=J||N,pn(s,i),Ot=J,qr=Z,mn(i),f&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(u===null||N||qr||Ot||ha(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){N=u=s;try{if(y=N.stateNode,m)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{k=N.stateNode;var ee=N.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;k.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pe){We(N,N.return,pe)}}}else if(s.tag===6){if(u===null){N=s;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(pe){We(N,N.return,pe)}}}else if(s.tag===18){if(u===null){N=s;try{var G=N.stateNode;m?ew(G,!0):ew(N.stateNode,!1)}catch(pe){We(N,N.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Fu(i,u))));break;case 19:pn(s,i),mn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Fu(i,f)));break;case 30:break;case 21:break;default:pn(s,i),mn(i)}}function mn(i){var s=i.flags;if(s&2){try{for(var u,f=i.return;f!==null;){if(nx(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var m=u.stateNode,y=Ah(i);$u(i,y,m);break;case 5:var _=u.stateNode;u.flags&32&&(Ha(_,""),u.flags&=-33);var k=Ah(i);$u(i,k,_);break;case 3:case 4:var N=u.stateNode.containerInfo,Z=Ah(i);kh(i,Z,N);break;default:throw Error(r(161))}}catch(J){We(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function fx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;fx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Gr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ax(i,s.alternate,s),s=s.sibling}function ha(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:bi(4,s,s.return),ha(s);break;case 1:gr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&ex(s,s.return,u),ha(s);break;case 27:Vo(s.stateNode);case 26:case 5:gr(s,s.return),ha(s);break;case 22:s.memoizedState===null&&ha(s);break;case 30:ha(s);break;default:ha(s)}i=i.sibling}}function Yr(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,m=i,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Yr(m,y,u),jo(4,y);break;case 1:if(Yr(m,y,u),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Z){We(f,f.return,Z)}if(f=y,m=f.updateQueue,m!==null){var k=f.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)Fb(N[m],k)}catch(Z){We(f,f.return,Z)}}u&&_&64&&Wv(y),Po(y,y.return);break;case 27:rx(y);case 26:case 5:Yr(m,y,u),u&&f===null&&_&4&&tx(y),Po(y,y.return);break;case 12:Yr(m,y,u);break;case 31:Yr(m,y,u),u&&_&4&&lx(m,y);break;case 13:Yr(m,y,u),u&&_&4&&ux(m,y);break;case 22:y.memoizedState===null&&Yr(m,y,u),Po(y,y.return);break;case 30:break;default:Yr(m,y,u)}s=s.sibling}}function Mh(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&So(u))}function Oh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&So(i))}function nr(i,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dx(i,s,u,f),s=s.sibling}function dx(i,s,u,f){var m=s.flags;switch(s.tag){case 0:case 11:case 15:nr(i,s,u,f),m&2048&&jo(9,s);break;case 1:nr(i,s,u,f);break;case 3:nr(i,s,u,f),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&So(i)));break;case 12:if(m&2048){nr(i,s,u,f),i=s.stateNode;try{var y=s.memoizedProps,_=y.id,k=y.onPostCommit;typeof k=="function"&&k(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){We(s,s.return,N)}}else nr(i,s,u,f);break;case 31:nr(i,s,u,f);break;case 13:nr(i,s,u,f);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?nr(i,s,u,f):Lo(i,s):y._visibility&2?nr(i,s,u,f):(y._visibility|=2,us(i,s,u,f,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Mh(_,s);break;case 24:nr(i,s,u,f),m&2048&&Oh(s.alternate,s);break;default:nr(i,s,u,f)}}function us(i,s,u,f,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,_=s,k=u,N=f,Z=_.flags;switch(_.tag){case 0:case 11:case 15:us(y,_,k,N,m),jo(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?us(y,_,k,N,m):Lo(y,_):(J._visibility|=2,us(y,_,k,N,m)),m&&Z&2048&&Mh(_.alternate,_);break;case 24:us(y,_,k,N,m),m&&Z&2048&&Oh(_.alternate,_);break;default:us(y,_,k,N,m)}s=s.sibling}}function Lo(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,f=s,m=f.flags;switch(f.tag){case 22:Lo(u,f),m&2048&&Mh(f.alternate,f);break;case 24:Lo(u,f),m&2048&&Oh(f.alternate,f);break;default:Lo(u,f)}s=s.sibling}}var Bo=8192;function cs(i,s,u){if(i.subtreeFlags&Bo)for(i=i.child;i!==null;)hx(i,s,u),i=i.sibling}function hx(i,s,u){switch(i.tag){case 26:cs(i,s,u),i.flags&Bo&&i.memoizedState!==null&&_I(u,tr,i.memoizedState,i.memoizedProps);break;case 5:cs(i,s,u);break;case 3:case 4:var f=tr;tr=nc(i.stateNode.containerInfo),cs(i,s,u),tr=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Bo,Bo=16777216,cs(i,s,u),Bo=f):cs(i,s,u));break;default:cs(i,s,u)}}function px(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Uo(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Ut=f,gx(f,i)}px(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mx(i),i=i.sibling}function mx(i){switch(i.tag){case 0:case 11:case 15:Uo(i),i.flags&2048&&bi(9,i,i.return);break;case 3:Uo(i);break;case 12:Uo(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hu(i)):Uo(i);break;default:Uo(i)}}function Hu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Ut=f,gx(f,i)}px(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:bi(8,s,s.return),Hu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Hu(s));break;default:Hu(s)}i=i.sibling}}function gx(i,s){for(;Ut!==null;){var u=Ut;switch(u.tag){case 0:case 11:case 15:bi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:So(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ut=f;else e:for(u=i;Ut!==null;){f=Ut;var m=f.sibling,y=f.return;if(sx(f),f===u){Ut=null;break e}if(m!==null){m.return=y,Ut=m;break e}Ut=y}}}var PO={getCacheForType:function(i){var s=Ht(kt),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return Ht(kt).controller.signal}},LO=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,je=null,Be=0,Qe=0,Cn=null,vi=!1,fs=!1,Ih=!1,Jr=0,Et=0,xi=0,pa=0,Nh=0,An=0,ds=0,$o=null,gn=null,zh=!1,Zu=0,yx=0,qu=1/0,Vu=null,wi=null,jt=0,_i=null,hs=null,Xr=0,Dh=0,jh=null,bx=null,Fo=0,Ph=null;function kn(){return(Xe&2)!==0&&Be!==0?Be&-Be:P.T!==null?Hh():zy()}function vx(){if(An===0)if((Be&536870912)===0||Fe){var i=eu;eu<<=1,(eu&3932160)===0&&(eu=262144),An=i}else An=536870912;return i=En.current,i!==null&&(i.flags|=32),An}function yn(i,s,u){(i===ot&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(ps(i,0),Si(i,Be,An,!1)),lo(i,u),((Xe&2)===0||i!==ot)&&(i===ot&&((Xe&2)===0&&(pa|=u),Et===4&&Si(i,Be,An,!1)),yr(i))}function xx(i,s,u){if((Xe&6)!==0)throw Error(r(327));var f=!u&&(s&127)===0&&(s&i.expiredLanes)===0||oo(i,s),m=f?$O(i,s):Bh(i,s,!0),y=f;do{if(m===0){fs&&!f&&Si(i,s,0,!1);break}else{if(u=i.current.alternate,y&&!BO(u)){m=Bh(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var k=i;m=$o;var N=k.current.memoizedState.isDehydrated;if(N&&(ps(k,_).flags|=256),_=Bh(k,_,!1),_!==2){if(Ih&&!N){k.errorRecoveryDisabledLanes|=y,pa|=y,m=4;break e}y=gn,gn=m,y!==null&&(gn===null?gn=y:gn.push.apply(gn,y))}m=_}if(y=!1,m!==2)continue}}if(m===1){ps(i,0),Si(i,s,0,!0);break}e:{switch(f=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Si(f,s,An,!vi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Zu+300-Wt(),10<m)){if(Si(f,s,An,!vi),nu(f,0,!0)!==0)break e;Xr=s,f.timeoutHandle=Kx(wx.bind(null,f,u,gn,Vu,zh,s,An,pa,ds,vi,y,"Throttled",-0,0),m);break e}wx(f,u,gn,Vu,zh,s,An,pa,ds,vi,y,null,-0,0)}}break}while(!0);yr(i)}function wx(i,s,u,f,m,y,_,k,N,Z,J,ee,q,G){if(i.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dr},hx(s,y,ee);var pe=(y&62914560)===y?Zu-Wt():(y&4194048)===y?yx-Wt():0;if(pe=SI(ee,pe),pe!==null){Xr=y,i.cancelPendingCommit=pe(Rx.bind(null,i,s,y,u,f,m,_,k,N,J,ee,null,q,G)),Si(i,y,_,!Z);return}}Rx(i,s,y,u,f,m,_,k,N)}function BO(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],y=m.getSnapshot;m=m.value;try{if(!_n(y(),m))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(i,s,u,f){s&=~Nh,s&=~pa,i.suspendedLanes|=s,i.pingedLanes&=~s,f&&(i.warmLanes|=s),f=i.expirationTimes;for(var m=s;0<m;){var y=31-st(m),_=1<<y;f[y]=-1,m&=~_}u!==0&&Oy(i,u,s)}function Gu(){return(Xe&6)===0?(Ho(0),!1):!0}function Lh(){if(je!==null){if(Qe===0)var i=je.return;else i=je,Br=aa=null,eh(i),is=null,To=0,i=je;for(;i!==null;)Qv(i.alternate,i),i=i.return;je=null}}function ps(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,aI(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Xr=0,Lh(),ot=i,je=u=Pr(i.current,null),Be=s,Qe=0,Cn=null,vi=!1,fs=oo(i,s),Ih=!1,ds=An=Nh=pa=xi=Et=0,gn=$o=null,zh=!1,(s&8)!==0&&(s|=s&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=s;0<f;){var m=31-st(f),y=1<<m;s|=i[m],f&=~y}return Jr=s,pu(),u}function _x(i,s){Me=null,P.H=No,s===rs||s===_u?(s=Lb(),Qe=3):s===Fd?(s=Lb(),Qe=4):Qe=s===gh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,je===null&&(Et=1,ju(i,Un(s,i.current)))}function Sx(){var i=En.current;return i===null?!0:(Be&4194048)===Be?Zn===null:(Be&62914560)===Be||(Be&536870912)!==0?i===Zn:!1}function Ex(){var i=P.H;return P.H=No,i===null?No:i}function Tx(){var i=P.A;return P.A=PO,i}function Yu(){Et=4,vi||(Be&4194048)!==Be&&En.current!==null||(fs=!0),(xi&134217727)===0&&(pa&134217727)===0||ot===null||Si(ot,Be,An,!1)}function Bh(i,s,u){var f=Xe;Xe|=2;var m=Ex(),y=Tx();(ot!==i||Be!==s)&&(Vu=null,ps(i,s)),s=!1;var _=Et;e:do try{if(Qe!==0&&je!==null){var k=je,N=Cn;switch(Qe){case 8:Lh(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var Z=Qe;if(Qe=0,Cn=null,ms(i,k,N,Z),u&&fs){_=0;break e}break;default:Z=Qe,Qe=0,Cn=null,ms(i,k,N,Z)}}UO(),_=Et;break}catch(J){_x(i,J)}while(!0);return s&&i.shellSuspendCounter++,Br=aa=null,Xe=f,P.H=m,P.A=y,je===null&&(ot=null,Be=0,pu()),_}function UO(){for(;je!==null;)Cx(je)}function $O(i,s){var u=Xe;Xe|=2;var f=Ex(),m=Tx();ot!==i||Be!==s?(Vu=null,qu=Wt()+500,ps(i,s)):fs=oo(i,s);e:do try{if(Qe!==0&&je!==null){s=je;var y=Cn;t:switch(Qe){case 1:Qe=0,Cn=null,ms(i,s,y,1);break;case 2:case 9:if(jb(y)){Qe=0,Cn=null,Ax(s);break}s=function(){Qe!==2&&Qe!==9||ot!==i||(Qe=7),yr(i)},y.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:jb(y)?(Qe=0,Cn=null,Ax(s)):(Qe=0,Cn=null,ms(i,s,y,7));break;case 5:var _=null;switch(je.tag){case 26:_=je.memoizedState;case 5:case 27:var k=je;if(_?dw(_):k.stateNode.complete){Qe=0,Cn=null;var N=k.sibling;if(N!==null)je=N;else{var Z=k.return;Z!==null?(je=Z,Ju(Z)):je=null}break t}}Qe=0,Cn=null,ms(i,s,y,5);break;case 6:Qe=0,Cn=null,ms(i,s,y,6);break;case 8:Lh(),Et=6;break e;default:throw Error(r(462))}}FO();break}catch(J){_x(i,J)}while(!0);return Br=aa=null,P.H=f,P.A=m,Xe=u,je!==null?0:(ot=null,Be=0,pu(),Et)}function FO(){for(;je!==null&&!Qf();)Cx(je)}function Cx(i){var s=Xv(i.alternate,i,Jr);i.memoizedProps=i.pendingProps,s===null?Ju(i):je=s}function Ax(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=Zv(u,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=Zv(u,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:eh(s);default:Qv(u,s),s=je=Tb(s,Jr),s=Xv(u,s,Jr)}i.memoizedProps=i.pendingProps,s===null?Ju(i):je=s}function ms(i,s,u,f){Br=aa=null,eh(s),is=null,To=0;var m=s.return;try{if(MO(i,m,s,u,Be)){Et=1,ju(i,Un(u,i.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Et=1,ju(i,Un(u,i.current)),je=null;return}s.flags&32768?(Fe||f===1?i=!0:fs||(Be&536870912)!==0?i=!1:(vi=i=!0,(f===2||f===9||f===3||f===6)&&(f=En.current,f!==null&&f.tag===13&&(f.flags|=16384))),kx(s,i)):Ju(s)}function Ju(i){var s=i;do{if((s.flags&32768)!==0){kx(s,vi);return}i=s.return;var u=NO(s.alternate,s,Jr);if(u!==null){je=u;return}if(s=s.sibling,s!==null){je=s;return}je=s=i}while(s!==null);Et===0&&(Et=5)}function kx(i,s){do{var u=zO(i.alternate,i);if(u!==null){u.flags&=32767,je=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){je=i;return}je=i=u}while(i!==null);Et=6,je=null}function Rx(i,s,u,f,m,y,_,k,N){i.cancelPendingCommit=null;do Xu();while(jt!==0);if((Xe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Ad,wM(i,u,y,_,k,N),i===ot&&(je=ot=null,Be=0),hs=s,_i=i,Xr=u,Dh=y,jh=m,bx=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VO(Ce,function(){return zx(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,m=K.p,K.p=2,_=Xe,Xe|=4;try{DO(i,s,u)}finally{Xe=_,K.p=m,P.T=f}}jt=1,Mx(),Ox(),Ix()}}function Mx(){if(jt===1){jt=0;var i=_i,s=hs,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=P.T,P.T=null;var f=K.p;K.p=2;var m=Xe;Xe|=4;try{cx(s,i);var y=Kh,_=gb(i.containerInfo),k=y.focusedElem,N=y.selectionRange;if(_!==k&&k&&k.ownerDocument&&mb(k.ownerDocument.documentElement,k)){if(N!==null&&_d(k)){var Z=N.start,J=N.end;if(J===void 0&&(J=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(J,k.value.length);else{var ee=k.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var G=q.getSelection(),pe=k.textContent.length,Ee=Math.min(N.start,pe),it=N.end===void 0?Ee:Math.min(N.end,pe);!G.extend&&Ee>it&&(_=it,it=Ee,Ee=_);var U=pb(k,Ee),D=pb(k,it);if(U&&D&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var H=ee.createRange();H.setStart(U.node,U.offset),G.removeAllRanges(),Ee>it?(G.addRange(H),G.extend(D.node,D.offset)):(H.setEnd(D.node,D.offset),G.addRange(H))}}}}for(ee=[],G=k;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ee.length;k++){var W=ee[k];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}lc=!!Xh,Kh=Xh=null}finally{Xe=m,K.p=f,P.T=u}}i.current=s,jt=2}}function Ox(){if(jt===2){jt=0;var i=_i,s=hs,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=P.T,P.T=null;var f=K.p;K.p=2;var m=Xe;Xe|=4;try{ax(i,s.alternate,s)}finally{Xe=m,K.p=f,P.T=u}}jt=3}}function Ix(){if(jt===4||jt===3){jt=0,Wf();var i=_i,s=hs,u=Xr,f=bx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jt=5:(jt=0,hs=_i=null,Nx(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(wi=null),rd(u),s=s.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(en,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=P.T,m=K.p,K.p=2,P.T=null;try{for(var y=i.onRecoverableError,_=0;_<f.length;_++){var k=f[_];y(k.value,{componentStack:k.stack})}}finally{P.T=s,K.p=m}}(Xr&3)!==0&&Xu(),yr(i),m=i.pendingLanes,(u&261930)!==0&&(m&42)!==0?i===Ph?Fo++:(Fo=0,Ph=i):Fo=0,Ho(0)}}function Nx(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,So(s)))}function Xu(){return Mx(),Ox(),Ix(),zx()}function zx(){if(jt!==5)return!1;var i=_i,s=Dh;Dh=0;var u=rd(Xr),f=P.T,m=K.p;try{K.p=32>u?32:u,P.T=null,u=jh,jh=null;var y=_i,_=Xr;if(jt=0,hs=_i=null,Xr=0,(Xe&6)!==0)throw Error(r(331));var k=Xe;if(Xe|=4,mx(y.current),dx(y,y.current,_,u),Xe=k,Ho(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(en,y)}catch{}return!0}finally{K.p=m,P.T=f,Nx(i,s)}}function Dx(i,s,u){s=Un(u,s),s=mh(i.stateNode,s,2),i=mi(i,s,2),i!==null&&(lo(i,2),yr(i))}function We(i,s,u){if(i.tag===3)Dx(i,i,u);else for(;s!==null;){if(s.tag===3){Dx(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))){i=Un(u,i),u=jv(2),f=mi(s,u,2),f!==null&&(Pv(u,f,s,i),lo(f,2),yr(f));break}}s=s.return}}function Uh(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new LO;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(u)||(Ih=!0,m.add(u),i=HO.bind(null,i,s,u),s.then(i,i))}function HO(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,ot===i&&(Be&u)===u&&(Et===4||Et===3&&(Be&62914560)===Be&&300>Wt()-Zu?(Xe&2)===0&&ps(i,0):Nh|=u,ds===Be&&(ds=0)),yr(i)}function jx(i,s){s===0&&(s=My()),i=na(i,s),i!==null&&(lo(i,s),yr(i))}function ZO(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),jx(i,u)}function qO(i,s){var u=0;switch(i.tag){case 31:case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),jx(i,u)}function VO(i,s){return ja(i,s)}var Ku=null,gs=null,$h=!1,Qu=!1,Fh=!1,Ei=0;function yr(i){i!==gs&&i.next===null&&(gs===null?Ku=gs=i:gs=gs.next=i),Qu=!0,$h||($h=!0,YO())}function Ho(i,s){if(!Fh&&Qu){Fh=!0;do for(var u=!1,f=Ku;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var _=f.suspendedLanes,k=f.pingedLanes;y=(1<<31-st(42|i)+1)-1,y&=m&~(_&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Ux(f,y))}else y=Be,y=nu(f,f===ot?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||oo(f,y)||(u=!0,Ux(f,y));f=f.next}while(u);Fh=!1}}function GO(){Px()}function Px(){Qu=$h=!1;var i=0;Ei!==0&&iI()&&(i=Ei);for(var s=Wt(),u=null,f=Ku;f!==null;){var m=f.next,y=Lx(f,s);y===0?(f.next=null,u===null?Ku=m:u.next=m,m===null&&(gs=u)):(u=f,(i!==0||(y&3)!==0)&&(Qu=!0)),f=m}jt!==0&&jt!==5||Ho(i),Ei!==0&&(Ei=0)}function Lx(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-st(y),k=1<<_,N=m[_];N===-1?((k&u)===0||(k&f)!==0)&&(m[_]=xM(k,s)):N<=s&&(i.expiredLanes|=k),y&=~k}if(s=ot,u=Be,u=nu(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&so(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||oo(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(f!==null&&so(f),rd(u)){case 2:case 8:u=ue;break;case 32:u=Ce;break;case 268435456:u=Ke;break;default:u=Ce}return f=Bx.bind(null,i),u=ja(u,f),i.callbackPriority=s,i.callbackNode=u,s}return f!==null&&f!==null&&so(f),i.callbackPriority=2,i.callbackNode=null,2}function Bx(i,s){if(jt!==0&&jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Xu()&&i.callbackNode!==u)return null;var f=Be;return f=nu(i,i===ot?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(xx(i,f,s),Lx(i,Wt()),i.callbackNode!=null&&i.callbackNode===u?Bx.bind(null,i):null)}function Ux(i,s){if(Xu())return null;xx(i,s,!0)}function YO(){sI(function(){(Xe&6)!==0?ja(Q,GO):Px()})}function Hh(){if(Ei===0){var i=ts;i===0&&(i=Wl,Wl<<=1,(Wl&261888)===0&&(Wl=256)),Ei=i}return Ei}function $x(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:su(""+i)}function Fx(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function JO(i,s,u,f,m){if(s==="submit"&&u&&u.stateNode===m){var y=$x((m[fn]||null).action),_=f.submitter;_&&(s=(s=_[fn]||null)?$x(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var k=new cu("action","action",null,f,m);i.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ei!==0){var N=_?Fx(m,_):new FormData(m);uh(u,{pending:!0,data:N,method:m.method,action:y},null,N)}}else typeof y=="function"&&(k.preventDefault(),N=_?Fx(m,_):new FormData(m),uh(u,{pending:!0,data:N,method:m.method,action:y},y,N))},currentTarget:m}]})}}for(var Zh=0;Zh<Cd.length;Zh++){var qh=Cd[Zh],XO=qh.toLowerCase(),KO=qh[0].toUpperCase()+qh.slice(1);er(XO,"on"+KO)}er(vb,"onAnimationEnd"),er(xb,"onAnimationIteration"),er(wb,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(hO,"onTransitionRun"),er(pO,"onTransitionStart"),er(mO,"onTransitionCancel"),er(_b,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Hx(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var y=void 0;if(s)for(var _=f.length-1;0<=_;_--){var k=f[_],N=k.instance,Z=k.currentTarget;if(k=k.listener,N!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=Z;try{y(m)}catch(J){hu(J)}m.currentTarget=null,y=N}else for(_=0;_<f.length;_++){if(k=f[_],N=k.instance,Z=k.currentTarget,k=k.listener,N!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=Z;try{y(m)}catch(J){hu(J)}m.currentTarget=null,y=N}}}}function Pe(i,s){var u=s[id];u===void 0&&(u=s[id]=new Set);var f=i+"__bubble";u.has(f)||(Zx(s,i,2,!1),u.add(f))}function Vh(i,s,u){var f=0;s&&(f|=4),Zx(u,i,f,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Gh(i){if(!i[Wu]){i[Wu]=!0,Py.forEach(function(u){u!=="selectionchange"&&(QO.has(u)||Vh(u,!1,i),Vh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Vh("selectionchange",!1,s))}}function Zx(i,s,u,f){switch(vw(s)){case 2:var m=CI;break;case 8:m=AI;break;default:m=lp}u=m.bind(null,s,u,i),m=void 0,!hd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,u,{capture:!0,passive:m}):i.addEventListener(s,u,!0):m!==void 0?i.addEventListener(s,u,{passive:m}):i.addEventListener(s,u,!1)}function Yh(i,s,u,f,m){var y=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var k=f.stateNode.containerInfo;if(k===m)break;if(_===4)for(_=f.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;k!==null;){if(_=La(k),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){f=y=_;continue e}k=k.parentNode}}f=f.return}Jy(function(){var Z=y,J=fd(u),ee=[];e:{var q=Sb.get(i);if(q!==void 0){var G=cu,pe=i;switch(i){case"keypress":if(lu(u)===0)break e;case"keydown":case"keyup":G=qM;break;case"focusin":pe="focus",G=yd;break;case"focusout":pe="blur",G=yd;break;case"beforeblur":case"afterblur":G=yd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=NM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=YM;break;case vb:case xb:case wb:G=jM;break;case _b:G=XM;break;case"scroll":case"scrollend":G=OM;break;case"wheel":G=QM;break;case"copy":case"cut":case"paste":G=LM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=eb;break;case"toggle":case"beforetoggle":G=eO}var Ee=(s&4)!==0,it=!Ee&&(i==="scroll"||i==="scrollend"),U=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var D=Z,H;D!==null;){var W=D;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=fo(D,U),W!=null&&Ee.push(qo(D,W,H))),it)break;D=D.return}0<Ee.length&&(q=new G(q,pe,null,u,J),ee.push({event:q,listeners:Ee}))}}if((s&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",q&&u!==cd&&(pe=u.relatedTarget||u.fromElement)&&(La(pe)||pe[Pa]))break e;if((G||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,G?(pe=u.relatedTarget||u.toElement,G=Z,pe=pe?La(pe):null,pe!==null&&(it=o(pe),Ee=pe.tag,pe!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(G=null,pe=Z),G!==pe)){if(Ee=Qy,W="onMouseLeave",U="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(Ee=eb,W="onPointerLeave",U="onPointerEnter",D="pointer"),it=G==null?q:co(G),H=pe==null?q:co(pe),q=new Ee(W,D+"leave",G,u,J),q.target=it,q.relatedTarget=H,W=null,La(J)===Z&&(Ee=new Ee(U,D+"enter",pe,u,J),Ee.target=H,Ee.relatedTarget=it,W=Ee),it=W,G&&pe)t:{for(Ee=WO,U=G,D=pe,H=0,W=U;W;W=Ee(W))H++;W=0;for(var we=D;we;we=Ee(we))W++;for(;0<H-W;)U=Ee(U),H--;for(;0<W-H;)D=Ee(D),W--;for(;H--;){if(U===D||D!==null&&U===D.alternate){Ee=U;break t}U=Ee(U),D=Ee(D)}Ee=null}else Ee=null;G!==null&&qx(ee,q,G,Ee,!1),pe!==null&&it!==null&&qx(ee,it,pe,Ee,!0)}}e:{if(q=Z?co(Z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ye=lb;else if(sb(q))if(ub)Ye=cO;else{Ye=lO;var ye=oO}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?Z&&ud(Z.elementType)&&(Ye=lb):Ye=uO;if(Ye&&(Ye=Ye(i,Z))){ob(ee,Ye,u,J);break e}ye&&ye(i,q,Z),i==="focusout"&&Z&&q.type==="number"&&Z.memoizedProps.value!=null&&ld(q,"number",q.value)}switch(ye=Z?co(Z):window,i){case"focusin":(sb(ye)||ye.contentEditable==="true")&&(Ga=ye,Sd=Z,xo=null);break;case"focusout":xo=Sd=Ga=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,yb(ee,u,J);break;case"selectionchange":if(dO)break;case"keydown":case"keyup":yb(ee,u,J)}var Oe;if(vd)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Va?ib(i,u)&&(Ue="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(tb&&u.locale!=="ko"&&(Va||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Va&&(Oe=Xy()):(li=J,pd="value"in li?li.value:li.textContent,Va=!0)),ye=ec(Z,Ue),0<ye.length&&(Ue=new Wy(Ue,i,null,u,J),ee.push({event:Ue,listeners:ye}),Oe?Ue.data=Oe:(Oe=ab(u),Oe!==null&&(Ue.data=Oe)))),(Oe=nO?rO(i,u):iO(i,u))&&(Ue=ec(Z,"onBeforeInput"),0<Ue.length&&(ye=new Wy("onBeforeInput","beforeinput",null,u,J),ee.push({event:ye,listeners:Ue}),ye.data=Oe)),JO(ee,i,Z,u,J)}Hx(ee,s)})}function qo(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ec(i,s){for(var u=s+"Capture",f=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=fo(i,u),m!=null&&f.unshift(qo(i,m,y)),m=fo(i,s),m!=null&&f.push(qo(i,m,y))),i.tag===3)return f;i=i.return}return[]}function WO(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qx(i,s,u,f,m){for(var y=s._reactName,_=[];u!==null&&u!==f;){var k=u,N=k.alternate,Z=k.stateNode;if(k=k.tag,N!==null&&N===f)break;k!==5&&k!==26&&k!==27||Z===null||(N=Z,m?(Z=fo(u,y),Z!=null&&_.unshift(qo(u,Z,N))):m||(Z=fo(u,y),Z!=null&&_.push(qo(u,Z,N)))),u=u.return}_.length!==0&&i.push({event:s,listeners:_})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function Vx(i){return(typeof i=="string"?i:""+i).replace(eI,`
`).replace(tI,"")}function Gx(i,s){return s=Vx(s),Vx(i)===s}function rt(i,s,u,f,m,y){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Ha(i,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Ha(i,""+f);break;case"className":iu(i,"class",f);break;case"tabIndex":iu(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":iu(i,u,f);break;case"style":Gy(i,f,y);break;case"data":if(s!=="object"){iu(i,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=su(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(s!=="input"&&rt(i,s,"name",m.name,m,null),rt(i,s,"formEncType",m.formEncType,m,null),rt(i,s,"formMethod",m.formMethod,m,null),rt(i,s,"formTarget",m.formTarget,m,null)):(rt(i,s,"encType",m.encType,m,null),rt(i,s,"method",m.method,m,null),rt(i,s,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=su(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Dr);break;case"onScroll":f!=null&&Pe("scroll",i);break;case"onScrollEnd":f!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=su(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),ru(i,"popover",f);break;case"xlinkActuate":zr(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":zr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":zr(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":zr(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":zr(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":zr(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":zr(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":zr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":zr(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ru(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=RM.get(u)||u,ru(i,u,f))}}function Jh(i,s,u,f,m,y){switch(u){case"style":Gy(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Ha(i,f):(typeof f=="number"||typeof f=="bigint")&&Ha(i,""+f);break;case"onScroll":f!=null&&Pe("scroll",i);break;case"onScrollEnd":f!=null&&Pe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ly.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),s=u.slice(2,m?u.length-7:void 0),y=i[fn]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,f,m);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):ru(i,u,f)}}}function qt(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var f=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var _=u[y];if(_!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,y,_,u,null)}}m&&rt(i,s,"srcSet",u.srcSet,u,null),f&&rt(i,s,"src",u.src,u,null);return;case"input":Pe("invalid",i);var k=y=_=m=null,N=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var J=u[f];if(J!=null)switch(f){case"name":m=J;break;case"type":_=J;break;case"checked":N=J;break;case"defaultChecked":Z=J;break;case"value":y=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:rt(i,s,f,J,u,null)}}Hy(i,y,k,N,Z,_,m,!1);return;case"select":Pe("invalid",i),f=_=y=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":_=k;break;case"multiple":f=k;default:rt(i,s,m,k,u,null)}s=y,u=_,i.multiple=!!f,s!=null?Fa(i,!!f,s,!1):u!=null&&Fa(i,!!f,u,!0);return;case"textarea":Pe("invalid",i),y=m=f=null;for(_ in u)if(u.hasOwnProperty(_)&&(k=u[_],k!=null))switch(_){case"value":f=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:rt(i,s,_,k,u,null)}qy(i,f,m,y);return;case"option":for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null)&&(N==="selected"?i.selected=f&&typeof f!="function"&&typeof f!="symbol":rt(i,s,N,f,u,null));return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(f=0;f<Zo.length;f++)Pe(Zo[f],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,Z,f,u,null)}return;default:if(ud(s)){for(J in u)u.hasOwnProperty(J)&&(f=u[J],f!==void 0&&Jh(i,s,J,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&rt(i,s,k,f,u,null))}function nI(i,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,_=null,k=null,N=null,Z=null,J=null;for(G in u){var ee=u[G];if(u.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=ee;default:f.hasOwnProperty(G)||rt(i,s,G,null,f,ee)}}for(var q in f){var G=f[q];if(ee=u[q],f.hasOwnProperty(q)&&(G!=null||ee!=null))switch(q){case"type":y=G;break;case"name":m=G;break;case"checked":Z=G;break;case"defaultChecked":J=G;break;case"value":_=G;break;case"defaultValue":k=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==ee&&rt(i,s,q,G,f,ee)}}od(i,_,k,N,Z,J,y,m);return;case"select":G=_=k=q=null;for(y in u)if(N=u[y],u.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":G=N;default:f.hasOwnProperty(y)||rt(i,s,y,null,f,N)}for(m in f)if(y=f[m],N=u[m],f.hasOwnProperty(m)&&(y!=null||N!=null))switch(m){case"value":q=y;break;case"defaultValue":k=y;break;case"multiple":_=y;default:y!==N&&rt(i,s,m,y,f,N)}s=k,u=_,f=G,q!=null?Fa(i,!!u,q,!1):!!f!=!!u&&(s!=null?Fa(i,!!u,s,!0):Fa(i,!!u,u?[]:"",!1));return;case"textarea":G=q=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:rt(i,s,k,null,f,m)}for(_ in f)if(m=f[_],y=u[_],f.hasOwnProperty(_)&&(m!=null||y!=null))switch(_){case"value":q=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&rt(i,s,_,m,f,y)}Zy(i,q,G);return;case"option":for(var pe in u)q=u[pe],u.hasOwnProperty(pe)&&q!=null&&!f.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:rt(i,s,pe,null,f,q));for(N in f)q=f[N],G=u[N],f.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null)&&(N==="selected"?i.selected=q&&typeof q!="function"&&typeof q!="symbol":rt(i,s,N,q,f,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in u)q=u[Ee],u.hasOwnProperty(Ee)&&q!=null&&!f.hasOwnProperty(Ee)&&rt(i,s,Ee,null,f,q);for(Z in f)if(q=f[Z],G=u[Z],f.hasOwnProperty(Z)&&q!==G&&(q!=null||G!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:rt(i,s,Z,q,f,G)}return;default:if(ud(s)){for(var it in u)q=u[it],u.hasOwnProperty(it)&&q!==void 0&&!f.hasOwnProperty(it)&&Jh(i,s,it,void 0,f,q);for(J in f)q=f[J],G=u[J],!f.hasOwnProperty(J)||q===G||q===void 0&&G===void 0||Jh(i,s,J,q,f,G);return}}for(var U in u)q=u[U],u.hasOwnProperty(U)&&q!=null&&!f.hasOwnProperty(U)&&rt(i,s,U,null,f,q);for(ee in f)q=f[ee],G=u[ee],!f.hasOwnProperty(ee)||q===G||q==null&&G==null||rt(i,s,ee,q,f,G)}function Yx(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var m=u[f],y=m.transferSize,_=m.initiatorType,k=m.duration;if(y&&k&&Yx(_)){for(_=0,k=m.responseEnd,f+=1;f<u.length;f++){var N=u[f],Z=N.startTime;if(Z>k)break;var J=N.transferSize,ee=N.initiatorType;J&&Yx(ee)&&(N=N.responseEnd,_+=J*(N<k?1:(k-Z)/(N-Z)))}if(--f,s+=8*(y+_)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Xh=null,Kh=null;function tc(i){return i.nodeType===9?i:i.ownerDocument}function Jx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xx(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Qh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wh=null;function iI(){var i=window.event;return i&&i.type==="popstate"?i===Wh?!1:(Wh=i,!0):(Wh=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(i){return Qx.resolve(null).then(i).catch(oI)}:Kx;function oI(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function Wx(i,s){var u=s,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"||u==="/&"){if(f===0){i.removeChild(m),xs(s);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Vo(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Vo(u);for(var y=u.firstChild;y;){var _=y.nextSibling,k=y.nodeName;y[uo]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=_}}else u==="body"&&Vo(i.ownerDocument.body);u=m}while(u);xs(s)}function ew(i,s){var u=i;i=0;do{var f=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=f}while(u)}function ep(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ep(u),ad(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function lI(i,s,u,f){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[uo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function uI(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=qn(i.nextSibling),i===null))return null;return i}function tw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=qn(i.nextSibling),i===null))return null;return i}function tp(i){return i.data==="$?"||i.data==="$~"}function np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cI(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var rp=null;function nw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return qn(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function rw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function iw(i,s,u){switch(s=tc(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Vo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ad(i)}var Vn=new Map,aw=new Set;function nc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kr=K.d;K.d={f:fI,r:dI,D:hI,C:pI,L:mI,m:gI,X:bI,S:yI,M:vI};function fI(){var i=Kr.f(),s=Gu();return i||s}function dI(i){var s=Ba(i);s!==null&&s.tag===5&&s.type==="form"?_v(s):Kr.r(i)}var ys=typeof document>"u"?null:document;function sw(i,s,u){var f=ys;if(f&&typeof s=="string"&&s){var m=Ln(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),aw.has(m)||(aw.add(m),i={rel:i,crossOrigin:u,href:s},f.querySelector(m)===null&&(s=f.createElement("link"),qt(s,"link",i),Bt(s),f.head.appendChild(s)))}}function hI(i){Kr.D(i),sw("dns-prefetch",i,null)}function pI(i,s){Kr.C(i,s),sw("preconnect",i,s)}function mI(i,s,u){Kr.L(i,s,u);var f=ys;if(f&&i&&s){var m='link[rel="preload"][as="'+Ln(s)+'"]';s==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Ln(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Ln(u.imageSizes)+'"]')):m+='[href="'+Ln(i)+'"]';var y=m;switch(s){case"style":y=bs(i);break;case"script":y=vs(i)}Vn.has(y)||(i=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Vn.set(y,i),f.querySelector(m)!==null||s==="style"&&f.querySelector(Go(y))||s==="script"&&f.querySelector(Yo(y))||(s=f.createElement("link"),qt(s,"link",i),Bt(s),f.head.appendChild(s)))}}function gI(i,s){Kr.m(i,s);var u=ys;if(u&&i){var f=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ln(f)+'"][href="'+Ln(i)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vs(i)}if(!Vn.has(y)&&(i=g({rel:"modulepreload",href:i},s),Vn.set(y,i),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Yo(y)))return}f=u.createElement("link"),qt(f,"link",i),Bt(f),u.head.appendChild(f)}}}function yI(i,s,u){Kr.S(i,s,u);var f=ys;if(f&&i){var m=Ua(f).hoistableStyles,y=bs(i);s=s||"default";var _=m.get(y);if(!_){var k={loading:0,preload:null};if(_=f.querySelector(Go(y)))k.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Vn.get(y))&&ip(i,u);var N=_=f.createElement("link");Bt(N),qt(N,"link",i),N._p=new Promise(function(Z,J){N.onload=Z,N.onerror=J}),N.addEventListener("load",function(){k.loading|=1}),N.addEventListener("error",function(){k.loading|=2}),k.loading|=4,rc(_,s,f)}_={type:"stylesheet",instance:_,count:1,state:k},m.set(y,_)}}}function bI(i,s){Kr.X(i,s);var u=ys;if(u&&i){var f=Ua(u).hoistableScripts,m=vs(i),y=f.get(m);y||(y=u.querySelector(Yo(m)),y||(i=g({src:i,async:!0},s),(s=Vn.get(m))&&ap(i,s),y=u.createElement("script"),Bt(y),qt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function vI(i,s){Kr.M(i,s);var u=ys;if(u&&i){var f=Ua(u).hoistableScripts,m=vs(i),y=f.get(m);y||(y=u.querySelector(Yo(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Vn.get(m))&&ap(i,s),y=u.createElement("script"),Bt(y),qt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function ow(i,s,u,f){var m=(m=de.current)?nc(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=bs(u.href),u=Ua(m).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=bs(u.href);var y=Ua(m).hoistableStyles,_=y.get(i);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=m.querySelector(Go(i)))&&!y._p&&(_.instance=y,_.state.loading=5),Vn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Vn.set(i,u),y||xI(m,i,u,_.state))),s&&f===null)throw Error(r(528,""));return _}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vs(u),u=Ua(m).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function bs(i){return'href="'+Ln(i)+'"'}function Go(i){return'link[rel="stylesheet"]['+i+"]"}function lw(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function xI(i,s,u,f){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=i.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),qt(s,"link",u),Bt(s),i.head.appendChild(s))}function vs(i){return'[src="'+Ln(i)+'"]'}function Yo(i){return"script[async]"+i}function uw(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=i.querySelector('style[data-href~="'+Ln(u.href)+'"]');if(f)return s.instance=f,Bt(f),f;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Bt(f),qt(f,"style",m),rc(f,u.precedence,i),s.instance=f;case"stylesheet":m=bs(u.href);var y=i.querySelector(Go(m));if(y)return s.state.loading|=4,s.instance=y,Bt(y),y;f=lw(u),(m=Vn.get(m))&&ip(f,m),y=(i.ownerDocument||i).createElement("link"),Bt(y);var _=y;return _._p=new Promise(function(k,N){_.onload=k,_.onerror=N}),qt(y,"link",f),s.state.loading|=4,rc(y,u.precedence,i),s.instance=y;case"script":return y=vs(u.src),(m=i.querySelector(Yo(y)))?(s.instance=m,Bt(m),m):(f=u,(m=Vn.get(y))&&(f=g({},u),ap(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),Bt(m),qt(m,"link",f),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,rc(f,u.precedence,i));return s.instance}function rc(i,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,_=0;_<f.length;_++){var k=f[_];if(k.dataset.precedence===s)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function ip(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ap(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ic=null;function cw(i,s,u){if(ic===null){var f=new Map,m=ic=new Map;m.set(u,f)}else m=ic,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var y=u[m];if(!(y[uo]||y[$t]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=i+_;var k=f.get(_);k?k.push(y):f.set(_,[y])}}return f}function fw(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function wI(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function dw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _I(i,s,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var m=bs(f.href),y=s.querySelector(Go(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ac.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=y,Bt(y);return}y=s.ownerDocument||s,f=lw(f),(m=Vn.get(m))&&ip(f,m),y=y.createElement("link"),Bt(y);var _=y;_._p=new Promise(function(k,N){_.onload=k,_.onerror=N}),qt(y,"link",f),u.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=ac.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var sp=0;function SI(i,s){return i.stylesheets&&i.count===0&&oc(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var f=setTimeout(function(){if(i.stylesheets&&oc(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&sp===0&&(sp=62500*rI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&oc(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>sp?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sc=null;function oc(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sc=new Map,s.forEach(EI,i),sc=null,ac.call(i))}function EI(i,s){if(!(s.state.loading&4)){var u=sc.get(i);if(u)var f=u.get(null);else{u=new Map,sc.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var _=m[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(u.set(_.dataset.precedence,_),f=_)}f&&u.set(null,f)}m=s.instance,_=m.getAttribute("data-precedence"),y=u.get(_)||f,y===f&&u.set(null,m),u.set(_,m),this.count++,f=ac.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Jo={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function TI(i,s,u,f,m,y,_,k,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=td(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.hiddenUpdates=td(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function hw(i,s,u,f,m,y,_,k,N,Z,J,ee){return i=new TI(i,s,u,_,N,Z,J,ee,k),s=1,y===!0&&(s|=24),y=Sn(3,null,null,s),i.current=y,y.stateNode=i,s=Bd(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:s},Hd(y),i}function pw(i){return i?(i=Xa,i):Xa}function mw(i,s,u,f,m,y){m=pw(m),f.context===null?f.context=m:f.pendingContext=m,f=pi(s),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=mi(i,f,s),u!==null&&(yn(u,i,s),Ao(u,i,s))}function gw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function op(i,s){gw(i,s),(i=i.alternate)&&gw(i,s)}function yw(i){if(i.tag===13||i.tag===31){var s=na(i,67108864);s!==null&&yn(s,i,67108864),op(i,67108864)}}function bw(i){if(i.tag===13||i.tag===31){var s=kn();s=nd(s);var u=na(i,s);u!==null&&yn(u,i,s),op(i,s)}}var lc=!0;function CI(i,s,u,f){var m=P.T;P.T=null;var y=K.p;try{K.p=2,lp(i,s,u,f)}finally{K.p=y,P.T=m}}function AI(i,s,u,f){var m=P.T;P.T=null;var y=K.p;try{K.p=8,lp(i,s,u,f)}finally{K.p=y,P.T=m}}function lp(i,s,u,f){if(lc){var m=up(f);if(m===null)Yh(i,s,f,uc,u),xw(i,f);else if(RI(m,i,s,u,f))f.stopPropagation();else if(xw(i,f),s&4&&-1<kI.indexOf(i)){for(;m!==null;){var y=Ba(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ki(y.pendingLanes);if(_!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;_;){var N=1<<31-st(_);k.entanglements[1]|=N,_&=~N}yr(y),(Xe&6)===0&&(qu=Wt()+500,Ho(0))}}break;case 31:case 13:k=na(y,2),k!==null&&yn(k,y,2),Gu(),op(y,2)}if(y=up(f),y===null&&Yh(i,s,f,uc,u),y===m)break;m=y}m!==null&&f.stopPropagation()}else Yh(i,s,f,null,u)}}function up(i){return i=fd(i),cp(i)}var uc=null;function cp(i){if(uc=null,i=La(i),i!==null){var s=o(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return uc=i,null}function vw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ed()){case Q:return 2;case ue:return 8;case Ce:case De:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var fp=!1,Ci=null,Ai=null,ki=null,Xo=new Map,Ko=new Map,Ri=[],kI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(i,s){switch(i){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Xo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(s.pointerId)}}function Qo(i,s,u,f,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Ba(s),s!==null&&yw(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function RI(i,s,u,f,m){switch(s){case"focusin":return Ci=Qo(Ci,i,s,u,f,m),!0;case"dragenter":return Ai=Qo(Ai,i,s,u,f,m),!0;case"mouseover":return ki=Qo(ki,i,s,u,f,m),!0;case"pointerover":var y=m.pointerId;return Xo.set(y,Qo(Xo.get(y)||null,i,s,u,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ko.set(y,Qo(Ko.get(y)||null,i,s,u,f,m)),!0}return!1}function ww(i){var s=La(i.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Dy(i.priority,function(){bw(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,Dy(i.priority,function(){bw(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=up(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);cd=f,u.target.dispatchEvent(f),cd=null}else return s=Ba(u),s!==null&&yw(s),i.blockedOn=u,!1;s.shift()}return!0}function _w(i,s,u){cc(i)&&u.delete(s)}function MI(){fp=!1,Ci!==null&&cc(Ci)&&(Ci=null),Ai!==null&&cc(Ai)&&(Ai=null),ki!==null&&cc(ki)&&(ki=null),Xo.forEach(_w),Ko.forEach(_w)}function fc(i,s){i.blockedOn===s&&(i.blockedOn=null,fp||(fp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MI)))}var dc=null;function Sw(i){dc!==i&&(dc=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dc===i&&(dc=null);for(var s=0;s<i.length;s+=3){var u=i[s],f=i[s+1],m=i[s+2];if(typeof f!="function"){if(cp(f||u)===null)continue;break}var y=Ba(u);y!==null&&(i.splice(s,3),s-=3,uh(y,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function xs(i){function s(N){return fc(N,i)}Ci!==null&&fc(Ci,i),Ai!==null&&fc(Ai,i),ki!==null&&fc(ki,i),Xo.forEach(s),Ko.forEach(s);for(var u=0;u<Ri.length;u++){var f=Ri[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Ri.length&&(u=Ri[0],u.blockedOn===null);)ww(u),u.blockedOn===null&&Ri.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],y=u[f+1],_=m[fn]||null;if(typeof y=="function")_||Sw(u);else if(_){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,_=y[fn]||null)k=_.formAction;else if(cp(m)!==null)continue}else k=_.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),Sw(u)}}}function Ew(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function dp(i){this._internalRoot=i}hc.prototype.render=dp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=kn();mw(u,f,i,s,null,null)},hc.prototype.unmount=dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;mw(i.current,2,null,i,null,null),Gu(),s[Pa]=null}};function hc(i){this._internalRoot=i}hc.prototype.unstable_scheduleHydration=function(i){if(i){var s=zy();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Ri.length&&s!==0&&s<Ri[u].priority;u++);Ri.splice(u,0,i),u===0&&ww(i)}};var Tw=t.version;if(Tw!=="19.2.4")throw Error(r(527,Tw,"19.2.4"));K.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var OI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{en=pc.inject(OI),Dt=pc}catch{}}return el.createRoot=function(i,s){if(!a(i))throw Error(r(299));var u=!1,f="",m=Iv,y=Nv,_=zv;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=hw(i,1,!1,null,null,u,f,null,m,y,_,Ew),i[Pa]=s.current,Gh(i),new dp(s)},el.hydrateRoot=function(i,s,u){if(!a(i))throw Error(r(299));var f=!1,m="",y=Iv,_=Nv,k=zv,N=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.formState!==void 0&&(N=u.formState)),s=hw(i,1,!0,s,u??null,f,m,N,y,_,k,Ew),s.context=pw(null),u=s.current,f=kn(),f=nd(f),m=pi(f),m.callback=null,mi(u,m,f),u=f,s.current.lanes=u,lo(s,u),yr(s),i[Pa]=s.current,Gh(i),new hc(s)},el.version="19.2.4",el}var Dw;function $I(){if(Dw)return mp.exports;Dw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=UI(),mp.exports}var FI=$I();function HI(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function ZI(e){const t=[];for(const n of e.cells)if(n?.type==="effect"&&(n.deps=null,n.cleanup))try{n.cleanup?.()}catch(r){t.push(r)}finally{n.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during cleanup")}}let fl=null;function qI(e,t){e.currentIndex=0;const n=fl;fl=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{fl=n}}function rg(){if(!fl)throw new Error("No resource fiber available");return fl}function VI(e){return null}function P0(e,t){const n=e[L0];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const L0=Symbol("fnSymbol");function vl(e,t,n=VI()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function Ns(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,ZI(e)}function Pi(e,t){const n={commitTasks:[],props:t,output:void 0};return qI(e,()=>{e.renderContext=n;try{n.output=P0(e.type,t)}finally{e.renderContext=void 0}}),n}function xl(e,t){e.isMounted=!0,e.isNeverMounted=!1,HI(t)}const GI=()=>null,YI=(e,t)=>e+(t()?1:0);function JI(e){const[,t]=w.useReducer(YI,0),n=GI(),r=w.useMemo(()=>vl(e.type,t,n),[e.type,e.key]),a=Pi(r,e.props);return w.useLayoutEffect(()=>()=>Ns(r),[r]),w.useLayoutEffect(()=>{xl(r,a)}),a.output}function tt(e){const t=n=>({type:t,props:n});return t[L0]=e,t}function ti(e,t){return{...t,key:e}}const XI=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function KI(e){const t=rg(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:l=>{XI(t,()=>{const c=o.value,h=typeof l=="function"?l(c):l;return Object.is(c,h)?!1:(o.value=h,!0)})}};return t.cells[n]=o,o}function lr(e){const t=KI(e);return[t.value,t.set]}const B0=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},QI=(e,t)=>{const n=rg(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let a=n.cells[r];if(a||(a=t(),n.cells[r]=a),a.type!==e)throw new Error("Hook order changed between renders");return a},WI=e=>{rg().renderContext.commitTasks.push(e)},eN=()=>({type:"effect",cleanup:void 0,deps:null});function Gt(e,t){const n=QI("effect",eN);if(!(t&&n.deps&&B0(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");WI(()=>{const r=[];try{n.cleanup?.()}catch(a){r.push(a)}finally{n.cleanup=void 0}try{const a=e();if(a!==void 0&&typeof a!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof a}`);n.cleanup=a}catch(a){r.push(a)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const a of r)console.error(a);throw new AggregateError(r,"Errors during commit")}})}}function ji(e){const[t]=lr(()=>({current:e}));return t}function Ls(e,t){const[n]=lr(e);return n}const Ve=(e,t)=>{const n=ji();return n.current||(n.current={value:e(),deps:t}),B0(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},U0=(e,t)=>Ve(()=>e,t);function ig(e){const t=ji(e);return Gt(()=>{t.current=e}),t.current}function $0(e,t){const[n,r]=lr(0),a=Ls(()=>()=>r(c=>c+1)),o=Ve(()=>(e.key,vl(e.type,c=>{c()&&a()})),[e.type,e.key]),l=t?Ve(()=>Pi(o,e.props),[o,...t,n]):Pi(o,e.props);return Gt(()=>()=>Ns(o),[o]),Gt(()=>{xl(o,l)},[o,l]),l.output}function Ar(e){return P0(e.type,e.props)}function ag(e,t){const[n,r]=lr(0),a=Ls(()=>()=>r(h=>h+1)),o=Ls(()=>new Map),l=t?U0(e,t):e,c=Ve(()=>{const h=l(),d=new Set,p=[];let g=0;for(let b=0;b<h.length;b++){const v=h[b],E=v.key;if(E===void 0)throw new Error(`tapResources did not provide a key for array at index ${b}`);if(d.has(E))throw new Error(`Duplicate key ${E} in tapResources`);d.add(E);let S=o.get(E);if(S)if(S.fiber.type!==v.type){const T=vl(v.type,O=>{O()&&a()}),C=Pi(T,v.props);S.next=[T,C],p.push(C.output)}else S.next=Pi(S.fiber,v.props),p.push(S.next.output);else{const T=vl(v.type,O=>{O()&&a()}),C=Pi(T,v.props);S={fiber:T,next:C},g++,o.set(E,S),p.push(C.output)}}if(o.size>p.length-g)for(const b of o.keys())d.has(b)||(o.get(b).next="delete");return p},[l,n]);return Gt(()=>()=>{for(const h of o.keys()){const d=o.get(h).fiber;Ns(d)}},[]),Gt(()=>{for(const[h,d]of o.entries())d.next==="delete"?(d.fiber.isMounted&&Ns(d.fiber),o.delete(h)):Array.isArray(d.next)?(Ns(d.fiber),d.fiber=d.next[0],xl(d.fiber,d.next[1])):xl(d.fiber,d.next)},[c]),c}const tN=50;let _r={schedulers:new Set([]),isScheduled:!1};class nN{_task;_isDirty=!1;constructor(t){this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,_r.schedulers.add(this),rN()}runTask(){this._isDirty=!1,this._task()}}const rN=()=>{_r.isScheduled||(_r.isScheduled=!0,queueMicrotask(F0))},F0=()=>{try{const e=[];let t=0;for(const n of _r.schedulers)if(_r.schedulers.delete(n),!!n.isDirty){if(t++,t>tN)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{_r.schedulers.clear(),_r.isScheduled=!1}},H0=e=>{const t=_r;_r={schedulers:new Set([]),isScheduled:!0};try{const n=e();return F0(),n}finally{_r=t}},iN=e=>{const t=Ls(()=>new nN(()=>{r.current=null,h()})),n=Ve(()=>(e.key,vl(e.type,d=>{d()&&t.markDirty()})),[e.type,e.key]),r=ji(null);r.current=Pi(n,e.props);const a=ji(!1),o=ji(e.props),l=ji(r.current.output),c=Ls(()=>new Set),h=ig(()=>{a.current&&(r.current===null&&(r.current=Pi(n,o.current)),!t.isDirty&&(o.current=r.current.props,xl(n,r.current),!(t.isDirty||l.current===r.current.output)&&(l.current=r.current.output,c.forEach(d=>d()))))});return Gt(()=>(a.current=!0,()=>{a.current=!1,Ns(n)}),[n]),Gt(()=>{H0(h)}),Ve(()=>({getValue:()=>l.current,subscribe:d=>(c.add(d),()=>c.delete(d))}),[])},dl=Symbol("tap.Context"),Z0=e=>({[dl]:e}),q0=(e,t,n)=>{const r=e[dl];e[dl]=t;try{return n()}finally{e[dl]=r}},V0=e=>e[dl],mm=Symbol("assistant-ui.store.clientIndex"),aN=e=>e[mm],G0=Z0([]),sg=()=>V0(G0),sN=(e,t)=>{const n=sg(),r=Ve(()=>[...n,e],[n,e]);return q0(G0,r,t)},oN=new Set(["$$typeof","nodeType","then"]),yf=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!oN.has(e))return!1}};class og{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const Y0=e=>{const t=tt(e);return n=>{const r=t(n);return n.key===void 0?r:ti(n.key,r)}},qc=Symbol("assistant-ui.store.getValue"),lN=e=>{const t=e[qc];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},jw=new Map;function uN(e){let t=jw.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[qc];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const a=r.methods[e];if(!a)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof a!="function")throw new Error(`"${String(e)}" is not a function.`);return a(...n)},jw.set(e,t)),t}class cN extends og{outputRef;index;boundFns;cachedReceiver;constructor(t,n){super(),this.outputRef=t,this.index=n}get(t,n,r){if(n===qc)return this.outputRef.current;if(n===mm)return this.index;const a=yf(n,"ClientProxy");if(a!==!1)return a;const o=this.outputRef.current.methods[n];if(typeof o=="function"){this.cachedReceiver!==r&&(this.boundFns=new Map,this.cachedReceiver=r);let l=this.boundFns.get(n);return l||(l=uN(n).bind(r),this.boundFns.set(n,l)),l}return o}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(t,n){return n===qc||n===mm?!0:n in this.outputRef.current.methods}}const J0=Y0(e=>{const t=ji(null),n=sg().length,r=Ve(()=>new Proxy({},new cN(t,n)),[n]),a=sN(r,()=>$0(e));return t.current||(t.current=a),Gt(()=>{t.current=a}),{methods:r,state:a.state,key:e.key}}),bf=e=>Ar(J0(e)),hl=Symbol("assistant-ui.store.proxiedAssistantState"),vp=e=>e==="on"||e==="subscribe"||typeof e=="symbol",X0=e=>{class t extends og{get(r,a){const o=yf(a,"AssistantState");if(o!==!1)return o;const l=a;if(!vp(l))return lN(e[l]())}ownKeys(){return Object.keys(e).filter(r=>!vp(r))}has(r,a){return!vp(a)&&a in e}}return new Proxy({},new t)},fN=e=>e[hl],Pw=()=>()=>{},K0=e=>{const t=(()=>{throw new Error(e)});return t.source=null,t.query=null,t};class dN extends og{get(t,n){if(n==="subscribe"||n==="on")return Pw;if(n===hl)return hN;const r=yf(n,"DefaultAssistantClient");return r!==!1?r:K0("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",hl]}has(t,n){return n==="subscribe"||n==="on"||n===hl}}const vf=new Proxy({},new dN),hN=X0(vf),pN=()=>new Proxy({},{get(e,t){const n=yf(t,"AssistantClient");return n!==!1?n:K0(`The current scope does not have a "${String(t)}" property.`)}}),Q0=w.createContext(vf),mN=()=>w.useContext(Q0),kr=({value:e,children:t})=>x.jsx(Q0.Provider,{value:e,children:t}),On=tt(e=>null),gm=Symbol("assistant-ui.default-peers");function W0(e,t){const n=e,r=n[gm]??{};for(const a of Object.keys(t))if(a in r)throw new Error(`Default peer "${a}" is already attached to this resource`);n[gm]={...r,...t}}function gN(e){return e[gm]}function yN(e,t){const n={},r={};for(const[o,l]of Object.entries(e))l.type===On?r[o]=l:n[o]=l;const a=(o,l=new Set)=>{if(l.has(o))return[];l.add(o);const c=gN(o.type);if(!c)return[];const h=[];for(const[d,p]of Object.entries(c))if(h.push([d,p]),p.type!==On){const g=a(p,l);h.push(...g)}return h};for(const[o,l]of Object.entries(n)){const c=a(l);for(const[h,d]of c)h in n||h in r||t[h].source!==null||(d.type===On?r[h]=d:n[h]=d)}return{rootClients:n,derivedClients:r}}const Lw=e=>Ve(()=>e,[...Object.entries(e).flat()]),bN=(e,t)=>{const{rootClients:n,derivedClients:r}=yN(e,t);return{rootClients:Lw(n),derivedClients:Lw(r)}},eE=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},vN=tt(()=>Ls(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,a){const o=a;if(r==="*")return t.add(o),()=>t.delete(o);let l=e.get(r);return l||(l=new Set,e.set(r,l)),l.add(o),()=>{l.delete(o),l.size===0&&e.delete(r)}},emit(r,a,o){const l=e.get(r);!l&&t.size===0||queueMicrotask(()=>{const c=[];if(l)for(const h of l)try{h(a,o)}catch(d){c.push(d)}if(t.size>0){const h={event:r,payload:a};for(const d of t)try{d(h,o)}catch(p){c.push(p)}}if(c.length>0){if(c.length===1)throw c[0];for(const h of c)console.error(h);throw new AggregateError(c,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(a){console.error("NotificationManager: subscriber callback error",a)}}}})),tE=Z0(null),xN=(e,t)=>q0(tE,e,t),nE=()=>{const e=V0(tE);if(!e)throw new Error("AssistantTapContext is not available");return e},rE=()=>nE().clientRef,lg=()=>{const{emit:e}=nE(),t=sg();return ig((n,r)=>{e(n,r,t)})},iE=e=>Ve(()=>e,e),wN=tt(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:a}=xN({clientRef:n,emit:t},()=>bf(e));return Ve(()=>({state:a,methods:r}),[r,a])}),_N=tt(({element:e,notifications:t,clientRef:n,name:r})=>{const a=iN(wN({element:e,emit:t.emit,clientRef:n}));return Gt(()=>a.subscribe(t.notifySubscribers),[a,t]),Ve(()=>{const o=()=>a.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[a,r])}),SN=tt(()=>Ve(()=>({clients:[],subscribe:void 0,on:void 0}),[])),EN=tt(({clients:e,clientRef:t})=>{const n=Ar(vN());Gt(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=iE(ag(()=>Object.keys(e).map(a=>ti(a,_N({element:e[a],notifications:n,clientRef:t,name:a}))),[e,n,t]));return Ve(()=>({clients:r,subscribe:n.subscribe,on:function(a,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:l,event:c}=eE(a);if(l!=="*"&&this[l].source===null)throw new Error(`Scope "${l}" is not available. Use { scope: "*", event: "${c}" } to listen globally.`);const h=n.on(c,(p,g)=>{if(l==="*"){o(p);return}const b=this[l](),v=aN(b);b===g[v]&&o(p)});if(l!=="*"&&t.parent[l].source===null)return h;const d=t.parent.on(a,o);return()=>{h(),d()}}}),[r,n,t])}),Bw=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},TN=tt(({element:e,clientRef:t,name:n})=>{const r=ig(()=>e.props);return Ve(()=>{const a=()=>r().get(t.current),o={};return Object.defineProperties(a,{source:{get:()=>Bw(r(),t,o).source},query:{get:()=>Bw(r(),t,o).query},name:{value:n,configurable:!0}}),a},[t,n])}),CN=tt(({clients:e,clientRef:t})=>iE(ag(()=>Object.keys(e).map(n=>ti(n,TN({element:e[n],clientRef:t,name:n}))),[e,t]))),AN=tt(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=bN(t,e),a=ji({parent:e,current:null}).current;Gt(()=>{a.current=c});const o=$0(Object.keys(n).length>0?EN({clients:n,clientRef:a}):SN()),l=Ar(CN({clients:r,clientRef:a})),c=Ve(()=>{const h=e===vf?pN():e,d=Object.create(h);Object.assign(d,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[hl]:X0(d)});for(const p of o.clients)d[p.name]=p;for(const p of l)d[p.name]=p;return d},[e,o,l]);return a.current===null&&(a.current=c),c});function ze(e,{parent:t}={parent:mN()}){if(e)return JI(AN({parent:t??vf,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const xe=e=>{const t=ze(),n=fN(t),r=w.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return w.useDebugValue(r),r},kN=At.createContext(!0);function Uw(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const RN="use"in At?()=>{try{return At.use(kN)}catch{return!1}}:()=>!1;function MN(e){const t=At.useRef(Uw);return At.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{RN()&&Uw();const r=t.current;return r(...n)}}const xp=(e,t)=>{const n=ze(),r=MN(t),{scope:a,event:o}=eE(e);w.useEffect(()=>n.on({scope:a,event:o},r),[n,a,o,r])},$i=({children:e,condition:t})=>xe(t)?e:null;$i.displayName="AuiIf";const ON=Y0(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Ar(J0(e))});function Bs(e,t){const n=ag(()=>e().map(l=>ON(l)),t),r=Ve(()=>Object.keys(n),[n]),a=Ve(()=>n.reduce((l,c,h)=>(l[c.key]=h,l),{}),[n]);return{state:Ve(()=>n.map(l=>l.state),[n]),get:l=>{if("index"in l){if(l.index<0||l.index>=r.length)throw new Error(`tapClientLookup: Index ${l.index} out of bounds (length: ${r.length})`);return n[l.index].methods}const c=a[l.key];if(c===void 0)throw new Error(`tapClientLookup: Key "${l.key}" not found`);return n[c].methods}}}const IN=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[a,o]of Object.entries(r.tools)){const l=n.tools?.[a];if(l&&l!==o)throw new Error(`You tried to define a tool with the name ${a}, but it already exists.`);n.tools||(n.tools={}),n.tools[a]=o}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class ug{_providers=new Set;getModelContext(){return IN(this._providers)}registerModelContextProvider(t){this._providers.add(t);const n=t.subscribe?.(()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n?.(),this.notifySubscribers()}}_subscribers=new Set;notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class cg{_contextProvider=new ug;registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class xf{_subscribers=new Set;subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const NN=e=>e.status.type==="complete";class aE extends xf{isEditing=!0;get attachmentAccept(){return this.getAttachmentAdapter()?.accept??"*"}_attachments=[];get attachments(){return this._attachments}setAttachments(t){this._attachments=t,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}_text="";get text(){return this._text}_role="user";get role(){return this._role}_runConfig={};get runConfig(){return this._runConfig}setText(t){if(this._text!==t){if(this._text=t,this._dictation){this._dictationBaseText=t,this._currentInterimText="";const{status:n,inputDisabled:r}=this._dictation;this._dictation=r?{status:n,inputDisabled:r}:{status:n}}this._notifySubscribers()}}setRole(t){this._role!==t&&(this._role=t,this._notifySubscribers())}setRunConfig(t){this._runConfig!==t&&(this._runConfig=t,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const t=this.getAttachmentAdapter();t&&await Promise.all(this._attachments.map(n=>t.remove(n)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const t=this._onClearAttachments();this._emptyTextAndAttachments(),await t}async clearAttachments(){const t=this._onClearAttachments();this.setAttachments([]),await t}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const t=this.getAttachmentAdapter(),n=t&&this.attachments.length>0?Promise.all(this.attachments.map(async o=>NN(o)?o:await t.send(o))):[],r=this.text;this._emptyTextAndAttachments();const a={createdAt:new Date,role:this.role,content:r?[{type:"text",text:r}]:[],attachments:await n,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(a),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(t){const n=this.getAttachmentAdapter();if(!n)throw new Error("Attachments are not supported");const r=o=>{const l=this._attachments.findIndex(c=>c.id===o.id);l!==-1?this._attachments=[...this._attachments.slice(0,l),o,...this._attachments.slice(l+1)]:this._attachments=[...this._attachments,o],this._notifySubscribers()},a=n.add({file:t});if(Symbol.asyncIterator in a)for await(const o of a)r(o);else r(await a);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(t){const n=this.getAttachmentAdapter();if(!n)throw new Error("Attachments are not supported");const r=this._attachments.findIndex(o=>o.id===t);if(r===-1)throw new Error("Attachment not found");const a=this._attachments[r];await n.remove(a),this._attachments=[...this._attachments.slice(0,r),...this._attachments.slice(r+1)],this._notifySubscribers()}_dictation;_dictationSession;_dictationUnsubscribes=[];_dictationBaseText="";_currentInterimText="";_dictationSessionIdCounter=0;_activeDictationSessionId;_isCleaningDictation=!1;get dictation(){return this._dictation}_isActiveSession(t,n){return this._activeDictationSessionId===t&&this._dictationSession===n}startDictation(){const t=this.getDictationAdapter();if(!t)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const p of this._dictationUnsubscribes)p();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const n=t.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const r=t.listen();this._dictationSession=r;const a=++this._dictationSessionIdCounter;this._activeDictationSessionId=a,this._dictation={status:r.status,inputDisabled:n},this._notifySubscribers();const o=r.onSpeech(d=>{if(!this._isActiveSession(a,r))return;const p=d.isFinal!==!1,b=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(p){if(this._dictationBaseText=this._dictationBaseText+b+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:v,...E}=this._dictation;this._dictation=E}this._notifySubscribers()}else this._currentInterimText=b+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(o);const l=r.onSpeechStart(()=>{this._isActiveSession(a,r)&&(this._dictation={status:{type:"running"},inputDisabled:n,...this._dictation?.transcript&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(l);const c=r.onSpeechEnd(()=>{this._cleanupDictation({sessionId:a})});this._dictationUnsubscribes.push(c);const h=setInterval(()=>{this._isActiveSession(a,r)&&r.status.type==="ended"&&this._cleanupDictation({sessionId:a})},100);this._dictationUnsubscribes.push(()=>clearInterval(h))}stopDictation(){if(!this._dictationSession)return;const t=this._dictationSession,n=this._activeDictationSessionId;t.stop().finally(()=>{this._cleanupDictation({sessionId:n})})}_cleanupDictation(t){if(!(t?.sessionId!==void 0&&t.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const r of this._dictationUnsubscribes)r();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_eventSubscribers=new Map;_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}unstable_on(t,n){const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{const a=this._eventSubscribers.get(t);a&&a.delete(n)}}}class sE extends aE{runtime;_canCancel=!1;get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){return this.runtime.adapters?.attachments}getDictationAdapter(){return this.runtime.adapters?.dictation}constructor(t){super(),this.runtime=t,this.connect()}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(t){this.runtime.append({...t,parentId:this.runtime.messages.at(-1)?.id??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let zN=(e,t=21)=>(n=t)=>{let r="",a=n|0;for(;a--;)r+=e[Math.random()*e.length|0];return r};const Xs=zN("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),DN="__optimistic__",jN=()=>`${DN}${Xs()}`,PN="__error__",LN=()=>`${PN}${Xs()}`,Ks=Symbol("autoStatus"),BN=Object.freeze(Object.assign({type:"running"},{[Ks]:!0})),UN=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Ks]:!0})),$N=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Ks]:!0})),FN=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Ks]:!0})),oE=e=>e[Ks]===!0,jl=(e,t,n,r,a)=>e&&a?Object.assign({type:"incomplete",reason:"error",error:a},{[Ks]:!0}):e&&t?BN:n?FN:r?$N:UN;var ma={exports:{}},$w;function HN(){if($w)return ma.exports;$w=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(c,h,d){d==null&&h!==null&&typeof h=="object"&&(d=h,h=void 0),e&&Buffer.isBuffer(c)&&(c=c.toString()),c&&c.charCodeAt(0)===65279&&(c=c.slice(1));const p=JSON.parse(c,h);if(p===null||typeof p!="object")return p;const g=d&&d.protoAction||"error",b=d&&d.constructorAction||"error";if(g==="ignore"&&b==="ignore")return p;if(g!=="ignore"&&b!=="ignore"){if(t.test(c)===!1&&n.test(c)===!1)return p}else if(g!=="ignore"&&b==="ignore"){if(t.test(c)===!1)return p}else if(n.test(c)===!1)return p;return a(p,{protoAction:g,constructorAction:b,safe:d&&d.safe})}function a(c,{protoAction:h="error",constructorAction:d="error",safe:p}={}){let g=[c];for(;g.length;){const b=g;g=[];for(const v of b){if(h!=="ignore"&&Object.prototype.hasOwnProperty.call(v,"__proto__")){if(p===!0)return null;if(h==="error")throw new SyntaxError("Object contains forbidden prototype property");delete v.__proto__}if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(v,"constructor")&&v.constructor!==null&&typeof v.constructor=="object"&&Object.prototype.hasOwnProperty.call(v.constructor,"prototype")){if(p===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete v.constructor}for(const E in v){const S=v[E];S&&typeof S=="object"&&g.push(S)}}}return c}function o(c,h,d){const{stackTraceLimit:p}=Error;Error.stackTraceLimit=0;try{return r(c,h,d)}finally{Error.stackTraceLimit=p}}function l(c,h){const{stackTraceLimit:d}=Error;Error.stackTraceLimit=0;try{return r(c,h,{safe:!0})}catch{return}finally{Error.stackTraceLimit=d}}return ma.exports=o,ma.exports.default=o,ma.exports.parse=o,ma.exports.safeParse=l,ma.exports.scan=a,ma.exports}var ZN=HN();const ym=Ca(ZN);function qN(e){const t=["ROOT"];let n=-1,r=null;const a=[];let o;function l(){o!==void 0&&(a.push(JSON.parse(`"${o}"`)),o=void 0)}function c(g,b,v){switch(g){case'"':{n=b,t.pop(),t.push(v),t.push("INSIDE_STRING"),l();break}case"f":case"t":case"n":{n=b,r=b,t.pop(),t.push(v),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(v),t.push("INSIDE_NUMBER"),l();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=b,t.pop(),t.push(v),t.push("INSIDE_NUMBER"),l();break}case"{":{n=b,t.pop(),t.push(v),t.push("INSIDE_OBJECT_START"),l();break}case"[":{n=b,t.pop(),t.push(v),t.push("INSIDE_ARRAY_START"),l();break}}}function h(g,b){switch(g){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=b,t.pop(),o=a.pop();break}}}function d(g,b){switch(g){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=b,t.pop(),o=a.pop();break}}}for(let g=0;g<e.length;g++){const b=e[g];switch(t[t.length-1]){case"ROOT":c(b,g,"FINISH");break;case"INSIDE_OBJECT_START":{switch(b){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=g,t.pop(),o=a.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{b==='"'&&(t.pop(),t.push("INSIDE_OBJECT_KEY"),o="");break}case"INSIDE_OBJECT_KEY":{switch(b){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=b;break}default:{o+=b;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{b===":"&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break}case"INSIDE_OBJECT_BEFORE_VALUE":{c(b,g,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{h(b,g);break}case"INSIDE_STRING":{switch(b){case'"':{t.pop(),n=g,o=a.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=g}break}case"INSIDE_ARRAY_START":{b==="]"?(n=g,t.pop(),o=a.pop()):(n=g,o="0",c(b,g,"INSIDE_ARRAY_AFTER_VALUE"));break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(b){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=g,t.pop(),o=a.pop();break}default:{n=g;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{c(b,g,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=g:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=b);break}case"INSIDE_NUMBER":{switch(b){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=g;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=a.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(b,g),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&h(b,g);break}case"}":{t.pop(),o=a.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&h(b,g);break}case"]":{t.pop(),o=a.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(b,g);break}default:{t.pop(),o=a.pop();break}}break}case"INSIDE_LITERAL":{const E=e.substring(r,g+1);!"false".startsWith(E)&&!"true".startsWith(E)&&!"null".startsWith(E)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?h(b,g):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&d(b,g)):n=g;break}}}let p=e.slice(0,n+1);for(let g=t.length-1;g>=0;g--)switch(t[g]){case"INSIDE_STRING":{p+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{p+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{p+="]";break}case"INSIDE_LITERAL":{const v=e.substring(r,e.length);"true".startsWith(v)?p+="true".slice(v.length):"false".startsWith(v)?p+="false".slice(v.length):"null".startsWith(v)&&(p+="null".slice(v.length))}}return[p,a]}const Dc=Symbol("aui.parse-partial-json-object.meta"),VN=e=>e?.[Dc],Vc=e=>{if(e.length===0)return{[Dc]:{state:"partial",partialPath:[]}};try{const t=ym.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[Dc]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=qN(e),r=ym.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[Dc]={state:"partial",partialPath:n},r}catch{return}}},lE=(e,t,n)=>{if(typeof e!="object"||e===null)return t.state;if(t.state==="complete")return"complete";if(n.length===0)return t.state;const[r,...a]=n;if(!Object.prototype.hasOwnProperty.call(e,r))return"partial";const[o,...l]=t.partialPath;if(r!==o)return"complete";const c=e[r];return lE(c,{state:"partial",partialPath:l},a)},Us=(e,t)=>{const n=VN(e);if(!n)throw new Error("unable to determine object state");return lE(e,n,t.map(String))};async function*GN(){const e=this.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{e.releaseLock()}}function wp(e){return e[Symbol.asyncIterator]??=GN,e}const bm={toResponse(e,t){return new Response(bm.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return bm.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},fg=function(){let e,t;const n=new Promise((r,a)=>{e=r,t=a});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},YN=()=>{const e=[];let t=!1,n,r;const a=l=>{l.promise||(l.promise=l.reader.read().then(({done:c,value:h})=>{l.promise=void 0,c?(e.splice(e.indexOf(l),1),t&&e.length===0&&n.close()):n.enqueue(h),r?.resolve(),r=void 0}).catch(c=>{console.error(c),e.forEach(h=>{h.reader.cancel()}),e.length=0,n.error(c),r?.reject(c),r=void 0}))};return{readable:new ReadableStream({start(l){n=l},pull(){return r=fg(),e.forEach(l=>{a(l)}),r.promise},cancel(){e.forEach(l=>{l.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(l){if(t)throw new Error("Cannot add streams after the run callback has settled.");const c={reader:l.getReader()};e.push(c),a(c)},enqueue(l){this.addStream(new ReadableStream({start(c){c.enqueue(l),c.close()}}))}}};class Fw{_controller;_isClosed=!1;constructor(t){this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const uE=e=>new ReadableStream({start(t){return e.start?.(new Fw(t))},pull(t){return e.pull?.(new Fw(t))},cancel(t){return e.cancel?.(t)}}),Hw=()=>{let e;return[uE({start(n){e=n}}),e]};class Zw{_controller;_isClosed=!1;_mergeTask;constructor(t){this._controller=t;const n=uE({start:a=>{this._argsTextController=a}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:a=>{switch(a.type){case"text-delta":r=!0,this._controller.enqueue(a);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${a.type}`)}}}))}get argsText(){return this._argsTextController}_argsTextController;async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const JN=e=>new ReadableStream({start(t){return e.start?.(new Zw(t))},pull(t){return e.pull?.(new Zw(t))},cancel(t){return e.cancel?.(t)}}),XN=()=>{let e;return[JN({start(n){e=n}}),e]};class cE{value=-1;up(){return++this.value}}class KN extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class aK extends TransformStream{constructor(t){super({transform(n,r){const{path:[a,...o]}=n;if(t!==a)throw new Error(`Path mismatch: expected ${t}, got ${a}`);r.enqueue({...n,path:o})}})}}class QN extends TransformStream{constructor(t){const n=new cE,r=new Map;super({transform(a,o){a.type==="part-start"&&a.path.length===0&&r.set(n.up(),t.up());const[l,...c]=a.path;if(l===void 0){o.enqueue(a);return}const h=r.get(l);if(h===void 0)throw new Error("Path not found");o.enqueue({...a,path:[h,...c]})}})}}class fE extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}class dE extends TransformStream{constructor(){const t=[];super({transform(n,r){if(n.type==="part-start"){if(n.path.length!==0){r.error(new Error("Nested parts are not supported"));return}t.push(n.part),r.enqueue(n);return}if(n.type==="text-delta"||n.type==="result"||n.type==="part-finish"||n.type==="tool-call-args-text-finish"){if(n.path.length!==1){r.error(new Error(`${n.type} chunks must have a path of length 1`));return}const a=n.path[0];if(a<0||a>=t.length){r.error(new Error(`Invalid path index: ${a}`));return}const o=t[a];r.enqueue({...n,meta:o});return}r.enqueue(n)}})}}let WN=(e,t=21)=>(n=t)=>{let r="",a=n|0;for(;a--;)r+=e[Math.random()*e.length|0];return r};const hE=WN("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class dg{_state;_parentId;constructor(t){this._state=t||{merger:YN(),contentCounter:new cE}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new KN(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new QN(this._state.contentCounter)))}appendText(t){this._state.append?.kind!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){this._state.append?.kind!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=Hw();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=Hw();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,a=n.toolCallId??hE(),[o,l]=XN();return this._addPart({type:"tool-call",toolName:r,toolCallId:a,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(l.argsText.append(n.argsText),l.argsText.close()),n.args!==void 0&&(l.argsText.append(JSON.stringify(n.args)),l.argsText.close()),n.response!==void 0&&l.setResponse(n.response),l}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new dg(this._state);return n._parentId=t,n}close(){this._state.append?.controller?.close(),this._state.merger.seal(),this._state.closeSubscriber?.()}}function ez(e){const t=new dg;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function pE(){const{resolve:e,promise:t}=fg();let n;return[ez(a=>(n=a,n.__internal_subscribeToClose(e),t)),n]}class tz extends TransformStream{constructor(t,n,r){const[a,o]=pE();let l;super({start(c){return l=a.pipeTo(new WritableStream({write(h){c.enqueue(h)},abort(h){c.error(h)},close(){c.terminate()}})).catch(h=>{c.error(h)}),t.start?.(o)},transform(c){return t.transform?.(c,o)},async flush(){await t.flush?.(o),o.close(),await l}},n,r)}}const Aa=(e,t,n)=>{const{role:r,id:a,createdAt:o,attachments:l,status:c,metadata:h}=e,d={id:a??t,createdAt:o??new Date},p=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,g=({image:b,...v})=>b.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...v,image:b}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&l?.length)throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&c)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&h?.steps)throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...d,role:r,content:p.map(b=>{const v=b.type;switch(v){case"text":case"reasoning":return b.text.trim().length===0?null:b;case"file":case"source":return b;case"image":return g(b);case"data":return b;case"tool-call":{const{parentId:E,messages:S,...T}=b,C={...T,toolCallId:b.toolCallId??`tool-${Xs()}`,...E!==void 0&&{parentId:E},...S!==void 0&&{messages:S}};return b.args?{...C,args:b.args,argsText:b.argsText??JSON.stringify(b.args)}:{...C,args:Vc(b.argsText??"")??{},argsText:b.argsText??""}}default:{const E=v;throw new Error(`Unsupported assistant message part type: ${E}`)}}}).filter(b=>!!b),status:c??n,metadata:{unstable_state:h?.unstable_state??null,unstable_annotations:h?.unstable_annotations??[],unstable_data:h?.unstable_data??[],custom:h?.custom??{},steps:h?.steps??[],...h?.submittedFeedback&&{submittedFeedback:h.submittedFeedback}}};case"user":return{...d,role:r,content:p.map(b=>{const v=b.type;switch(v){case"text":case"image":case"audio":case"file":return b;default:{const E=v;throw new Error(`Unsupported user message part type: ${E}`)}}}),attachments:l??[],metadata:{custom:h?.custom??{}}};case"system":if(p.length!==1||p[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...d,role:r,content:p,metadata:{custom:h?.custom??{}}};default:{const b=r;throw new Error(`Unknown message role: ${b}`)}}},hg={fromArray:e=>{const t=e.map(n=>Aa(n,Xs(),jl(!1,!1,!1,!1,void 0)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},jc=e=>e.next?jc(e.next):"current"in e?e:null;class nz{func;_value=null;constructor(t){this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}let pg=class{messages=new Map;head=null;root={children:[],next:null};updateLevels(t,n){t.level=n;for(const r of t.children){const a=this.messages.get(r);a&&this.updateLevels(a,n+1)}}performOp(t,n,r){const a=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&a===o)){if(r!=="link"&&(a.children=a.children.filter(l=>l!==n.current.id),a.next===n)){const l=a.children.at(-1),c=l?this.messages.get(l):null;if(c===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");a.next=c}if(r!=="cut"){for(let c=t;c;c=c.prev)if(c.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(jc(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const l=t?t.level+1:0;this.updateLevels(n,l)}}}_messages=new nz(()=>{const t=new Array((this.head?.level??-1)+1);for(let n=this.head;n;n=n.prev)t[n.level]=n.current;return t});get headId(){return this.head?.current.id??null}getMessages(t){if(t===void 0||t===this.head?.current.id)return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let a=n;a;a=a.prev)r[a.level]=a.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),a=t?this.messages.get(t):null;if(a===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(a,r,"relink"),this._messages.dirty();return}const o={prev:a,current:n,next:null,children:[],level:a?a.level+1:0};this.messages.set(n.id,o),this.performOp(a,o,"link"),this.head===a&&(this.head=o),this._messages.dirty()}getMessage(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:n.prev?.current.id??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=jN();while(this.messages.has(r));return this.addOrUpdateMessage(t,Aa(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const a=n===void 0?r.prev:n===null?null:this.messages.get(n);if(a===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const l=this.messages.get(o);if(!l)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(a,l,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=jc(a??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=jc(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=a=>{for(const o of a.children){const l=this.messages.get(o);l&&(r(l),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){const t=[];for(const[,n]of this.messages)t.push({message:n.current,parentId:n.prev?.current.id??null});return{headId:this.head?.current.id??null,messages:t}}import({headId:t,messages:n}){for(const{message:r,parentId:a}of n)this.addOrUpdateMessage(a,r);this.resetHead(t??n.at(-1)?.message.id??null)}};class wf{_subscriptions=new Set;_connection;get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else this._connection?.(),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const ur=Symbol("skip-update");class mg extends wf{binding;get path(){return this.binding.path}constructor(t){super(),this.binding=t}_previousStateDirty=!0;_previousState;getState=()=>{if(!this.isConnected||this._previousStateDirty){const t=this.binding.getState();t!==ur&&(this._previousState=t),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState};_connect(){const t=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(t)}}class mc{_core;_threadListBinding;get path(){return this._core.path}constructor(t,n){this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,a=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),l=o.isMain,c=o.id;r===l&&a===c||(r=l,a=c,!(t==="switchedTo"&&!l)&&(t==="switchedAway"&&l||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function rz(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],a=t[n];if(!Object.is(r,a))return!1}return!0}class ar extends wf{binding;get path(){return this.binding.path}constructor(t){super(),this.binding=t;const n=t.getState();if(n===ur)throw new Error("Entry not available in the store");this._previousState=n}_previousState;getState=()=>(this.isConnected||this._syncState(),this._previousState);_syncState(){const t=this.binding.getState();return t===ur||rz(t,this._previousState)?!1:(this._previousState=t,!0)}_connect(){const t=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(t)}}const Vt=Symbol("innerMessage"),_p=Symbol("innerMessages"),iz=e=>e[Vt],az=[],Li=e=>{const t="messages"in e?e.messages:e,n=t[_p]||t[Vt];return n?Array.isArray(n)?n:(t[_p]=[n],t[_p]):az},wl=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class mE{_core;get path(){return this._core.path}constructor(t){this._core=t,this.__internal_bindMethods()}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class gE extends mE{_composerApi;constructor(t,n){super(t),this._composerApi=n}remove(){const t=this._composerApi.getState();if(!t)throw new Error("Composer is not available");return t.removeAttachment(this.getState().id)}}class sz extends gE{get source(){return"thread-composer"}}class oz extends gE{get source(){return"edit-composer"}}class lz extends mE{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class yE extends wf{config;constructor(t){super(),this.config=t}getState(){return this.config.binding.getState()}outerSubscribe(t){return this.config.binding.subscribe(t)}_connect(){const t=()=>{this.notifySubscribers()};let n=this.config.binding.getState(),r=n?.unstable_on(this.config.event,t);const a=()=>{const l=this.config.binding.getState();l!==n&&(n=l,r?.(),r=this.config.binding.getState()?.unstable_on(this.config.event,t))},o=this.outerSubscribe(a);return()=>{o?.(),r?.()}}}const bE=Object.freeze([]),vE=Object.freeze({}),uz=e=>Object.freeze({type:"thread",isEditing:e?.isEditing??!1,canCancel:e?.canCancel??!1,isEmpty:e?.isEmpty??!0,attachments:e?.attachments??bE,text:e?.text??"",role:e?.role??"user",runConfig:e?.runConfig??vE,attachmentAccept:e?.attachmentAccept??"",dictation:e?.dictation,value:e?.text??""}),cz=e=>Object.freeze({type:"edit",isEditing:e?.isEditing??!1,canCancel:e?.canCancel??!1,isEmpty:e?.isEmpty??!0,text:e?.text??"",role:e?.role??"user",attachments:e?.attachments??bE,runConfig:e?.runConfig??vE,attachmentAccept:e?.attachmentAccept??"",dictation:e?.dictation,value:e?.text??""});class xE{_core;get path(){return this._core.path}constructor(t){this._core=t}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}_eventSubscriptionSubjects=new Map;unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new yE({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class fz extends xE{get path(){return this._core.path}get type(){return"thread"}_getState;constructor(t){const n=new mg({path:t.path,getState:()=>uz(t.getState()),subscribe:r=>t.subscribe(r)});super({path:t.path,getState:()=>t.getState(),subscribe:r=>n.subscribe(r)}),this._getState=n.getState.bind(n),this.__internal_bindMethods()}getState(){return this._getState()}getAttachmentByIndex(t){return new sz(new ar({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:t},ref:`${this.path.ref}.attachments[${t}]`},getState:()=>{const r=this.getState().attachments[t];return r?{...r,source:"thread-composer"}:ur},subscribe:n=>this._core.subscribe(n)}),this._core)}}class dz extends xE{_beginEdit;get path(){return this._core.path}get type(){return"edit"}_getState;constructor(t,n){const r=new mg({path:t.path,getState:()=>cz(t.getState()),subscribe:a=>t.subscribe(a)});super({path:t.path,getState:()=>t.getState(),subscribe:a=>r.subscribe(a)}),this._beginEdit=n,this._getState=r.getState.bind(r),this.__internal_bindMethods()}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(t){return new oz(new ar({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:t},ref:`${this.path.ref}.attachments[${t}]`},getState:()=>{const r=this.getState().attachments[t];return r?{...r,source:"edit-composer"}:ur},subscribe:n=>this._core.subscribe(n)}),this._core)}}class pl{_state;constructor(t=null){this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>pl.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return pl.updatePath(t,n.path,()=>n.value);case"append-text":return pl.updatePath(t,n.path,a=>{if(typeof a!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return a+n.value});default:{const a=r;throw new Error(`Invalid operation type: ${a}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??={},typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[a,...o]=n;if(Array.isArray(t)){const c=Number(a);if(Number.isNaN(c))throw new Error(`Expected array index at [${n.join(", ")}]`);if(c>t.length||c<0)throw new Error("Insert array index out of bounds");const h=[...t];return h[c]=this.updatePath(h[c],o,r),h}const l={...t};return l[a]=this.updatePath(l[a],o,r),l}}const hz=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),_f=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],a=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),a,...e.parts.slice(r+1)],get content(){return this.parts}}},pz=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},mz=(e,t)=>_f(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),gz=(e,t)=>_f(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),yz=(e,t)=>_f(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,a=Vc(r)??n.args;return{...n,argsText:r,args:a}}else throw new Error("text-delta received but part is neither text nor tool-call")}),bz=(e,t)=>_f(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),qw=(e,t)=>{if(e.status?.type==="incomplete"&&e.status?.reason==="error")return e;const n=vz(t);return{...e,status:n}},vz=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},xz=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),wz=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),_z=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),Sz=(e,t)=>{const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&n[r]?.state==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:hE(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},Ez=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),Tz=(e,t)=>{const n=new pl(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},Cz=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class Az extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let a=t??hz(),o;const l=n?Cz(()=>{o?.enqueue(a)}):()=>{o?.enqueue(a)};super({start(c){o=c},transform(c){const h=c.type;switch(h){case"part-start":a=pz(a,c);break;case"tool-call-args-text-finish":a=mz(a,c);break;case"part-finish":a=gz(a,c);break;case"text-delta":a=yz(a,c);break;case"result":a=bz(a,c);break;case"message-finish":a=qw(a,c);break;case"annotations":a=xz(a,c);break;case"data":a=wz(a,c);break;case"step-start":a=_z(a,c);break;case"step-finish":a=Sz(a,c);break;case"error":a=Ez(a,c),r?.(c.error);break;case"update-state":a=Tz(a,c);break;default:{const d=h;throw new Error(`Unsupported chunk type: ${d}`)}}l()},flush(c){if(a.status?.type==="running"){const h=a.parts?.some(d=>d.type==="tool-call"&&(d.state==="call"||d.state==="partial-call")&&d.result===void 0)??!1;a=qw(a,{finishReason:h?"tool-calls":"unknown"}),c.enqueue(a)}}})}}class kz extends fE{constructor(){super(t=>{const n=new tz({transform(r,a){a.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class ml{readable;constructor(t){this.readable=t,this.readable=t}static fromAssistantStream(t){return new ml(t.pipeThrough(new Az))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new ml(t),new ml(n)]}}const Vw=Symbol.for("aui.tool-response");class sr{get[Vw](){return!0}artifact;result;isError;constructor(t){t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&Vw in t}static toResponse(t){return t instanceof sr?t:new sr({result:t===void 0?"<no result>":t})}}function Rz(e,t,n){try{const r=e();if(typeof r=="object"&&r!==null&&"then"in r)return r.then(t,n);t(r)}catch(r){n(r)}}function Pl(e,t){let n=e;for(const r of t){if(n==null)return;n=n[r]}return n}class Mz{resolve;reject;disposed=!1;fieldPath;constructor(t,n,r){this.resolve=t,this.reject=n,this.fieldPath=r}update(t){if(!this.disposed)try{if(Us(t,this.fieldPath)==="complete"){const n=Pl(t,this.fieldPath);n!==void 0&&(this.resolve(n),this.dispose())}}catch(n){this.reject(n),this.dispose()}}dispose(){this.disposed=!0}}class Gw{controller;disposed=!1;fieldPath;constructor(t,n){this.controller=t,this.fieldPath=n}update(t){if(!this.disposed)try{const n=Pl(t,this.fieldPath);n!==void 0&&this.controller.enqueue(n),Us(t,this.fieldPath)==="complete"&&(this.controller.close(),this.dispose())}catch(n){this.controller.error(n),this.dispose()}}dispose(){this.disposed=!0}}class Yw{controller;disposed=!1;fieldPath;lastValue=void 0;constructor(t,n){this.controller=t,this.fieldPath=n}update(t){if(!this.disposed)try{const n=Pl(t,this.fieldPath);if(n!==void 0&&typeof n=="string"){const r=n.substring(this.lastValue?.length||0);this.lastValue=n,this.controller.enqueue(r)}Us(t,this.fieldPath)==="complete"&&(this.controller.close(),this.dispose())}catch(n){this.controller.error(n),this.dispose()}}dispose(){this.disposed=!0}}class Jw{controller;disposed=!1;fieldPath;processedIndexes=new Set;constructor(t,n){this.controller=t,this.fieldPath=n}update(t){if(!this.disposed)try{const n=Pl(t,this.fieldPath);if(!Array.isArray(n))return;for(let r=0;r<n.length;r++)if(!this.processedIndexes.has(r)){const a=[...this.fieldPath,r];Us(t,a)==="complete"&&(this.controller.enqueue(n[r]),this.processedIndexes.add(r))}Us(t,this.fieldPath)==="complete"&&(this.controller.close(),this.dispose())}catch(n){this.controller.error(n),this.dispose()}}dispose(){this.disposed=!0}}class Oz{argTextDeltas;handles=new Set;args=Vc("");constructor(t){this.argTextDeltas=t,this.processStream()}async processStream(){try{let t="";const n=this.argTextDeltas.getReader();for(;;){const{value:r,done:a}=await n.read();if(a)break;t+=r;const o=Vc(t);if(o!==void 0){this.args=o;for(const l of this.handles)l.update(o)}}}catch(t){console.error("Error processing argument stream:",t);for(const n of this.handles)n.dispose()}}get(...t){return new Promise((n,r)=>{const a=new Mz(n,r,t);if(this.args&&Us(this.args,t)==="complete"){const o=Pl(this.args,t);if(o!==void 0){n(o);return}}this.handles.add(a),a.update(this.args)})}streamValues(...t){const n=t,r=new ReadableStream({start:a=>{const o=new Gw(a,n);this.handles.add(o),o.update(this.args)},cancel:()=>{for(const a of this.handles)if(a instanceof Gw){a.dispose(),this.handles.delete(a);break}}});return wp(r)}streamText(...t){const n=t,r=new ReadableStream({start:a=>{const o=new Yw(a,n);this.handles.add(o),o.update(this.args)},cancel:()=>{for(const a of this.handles)if(a instanceof Yw){a.dispose(),this.handles.delete(a);break}}});return wp(r)}forEach(...t){const n=t,r=new ReadableStream({start:a=>{const o=new Jw(a,n);this.handles.add(o),o.update(this.args)},cancel:()=>{for(const a of this.handles)if(a instanceof Jw){a.dispose(),this.handles.delete(a);break}}});return wp(r)}}class Iz{promise;constructor(t){this.promise=t}get(){return this.promise}}class Nz{args;response;writable;resolve;argsText="";constructor(){const t=new TransformStream;this.writable=t.writable,this.args=new Oz(t.readable);const{promise:n,resolve:r}=fg();this.resolve=r,this.response=new Iz(n)}async appendArgsTextDelta(t){const n=this.writable.getWriter();try{await n.write(t)}catch(r){console.warn(r)}finally{n.releaseLock()}this.argsText+=t}setResponse(t){this.resolve(t)}result={get:async()=>(await this.response.get()).result}}class zz extends fE{constructor(t){const n=new Map,r=new Map;super(a=>{const o=new TransformStream({transform(l,c){switch((l.type!=="part-finish"||l.meta.type!=="tool-call")&&c.enqueue(l),l.type){case"part-start":if(l.part.type==="tool-call"){const d=new Nz;r.set(l.part.toolCallId,d),t.streamCall({reader:d,toolCallId:l.part.toolCallId,toolName:l.part.toolName})}break;case"text-delta":{if(l.meta.type==="tool-call"){const d=l.meta.toolCallId,p=r.get(d);if(!p)throw new Error("No controller found for tool call");p.appendArgsTextDelta(l.textDelta)}break}case"result":{if(l.meta.type!=="tool-call")break;const{toolCallId:d}=l.meta,p=r.get(d);if(!p)throw new Error("No controller found for tool call");p.setResponse(new sr({result:l.result,artifact:l.artifact,isError:l.isError}));break}case"tool-call-args-text-finish":{if(l.meta.type!=="tool-call")break;const{toolCallId:d,toolName:p}=l.meta,g=r.get(d);if(!g)throw new Error("No controller found for tool call");let b=!1;const v=Rz(()=>{let E;try{E=ym.parse(g.argsText)}catch(T){throw new Error(`Function parameter parsing failed. ${JSON.stringify(T.message)}`)}const S=t.execute({toolCallId:d,toolName:p,args:E});return S!==void 0&&(b=!0,t.onExecutionStart?.(d,p)),S},E=>{if(b&&t.onExecutionEnd?.(d,p),E===void 0)return;const S=new sr({artifact:E.artifact,result:E.result,isError:E.isError});g.setResponse(S),c.enqueue({type:"result",path:l.path,...S})},E=>{b&&t.onExecutionEnd?.(d,p);const S=new sr({result:String(E),isError:!0});g.setResponse(S),c.enqueue({type:"result",path:l.path,...S})});v&&n.set(d,v);break}case"part-finish":{if(l.meta.type!=="tool-call")break;const{toolCallId:d}=l.meta,p=n.get(d);p?p.then(()=>{n.delete(d),r.delete(d),c.enqueue(l)}):c.enqueue(l)}}},async flush(){await Promise.all(n.values())}});return a.pipeThrough(new dE).pipeThrough(o)})}}const Dz=e=>typeof e=="object"&&e!==null&&"~standard"in e&&e["~standard"].version===1;function jz(e,t,n,r){const a=e?.[n.toolName];return!a||!a.execute?void 0:(async l=>{if(t.aborted)return new sr({result:"Tool execution was cancelled.",isError:!0});let c=l;if(Dz(a.parameters)){let p=a.parameters["~standard"].validate(n.args);p instanceof Promise&&(p=await p),p.issues&&(c=a.experimental_onSchemaValidationError??(()=>{throw new Error(`Function parameter validation failed. ${JSON.stringify(p.issues)}`)}))}const h=new Promise(p=>{const g=()=>{queueMicrotask(()=>{queueMicrotask(()=>{p(new sr({result:"Tool execution was cancelled.",isError:!0}))})})};t.aborted?g():t.addEventListener("abort",g,{once:!0})}),d=(async()=>{const p=await c(n.args,{toolCallId:n.toolCallId,abortSignal:t,human:g=>r(n.toolCallId,g)});return sr.toResponse(p)})();return Promise.race([d,h])})(a.execute)}function Pz(e,t,n,r,a){e?.[r.toolName]?.streamCall?.(n,{toolCallId:r.toolCallId,abortSignal:t,human:o=>a(r.toolCallId,o)})}function Lz(e,t,n,r){const a=typeof e=="function"?e:()=>e,o=typeof t=="function"?t:()=>t;return new zz({execute:l=>jz(a(),o(),l,n),streamCall:({reader:l,...c})=>Pz(a(),o(),l,c,n),onExecutionStart:r?.onExecutionStart,onExecutionEnd:r?.onExecutionEnd})}function Bz(e){return typeof e=="object"&&e!==null&&"~standard"in e&&typeof e["~standard"]=="object"}function Uz(e){return typeof e=="object"&&e!==null&&"toJSONSchema"in e&&typeof e.toJSONSchema=="function"}function $z(e){return typeof e=="object"&&e!==null&&"toJSON"in e&&typeof e.toJSON=="function"}function Fz(e){if(Bz(e)){const t=e["~standard"].toJSONSchema;if(typeof t=="function")return t()}return Uz(e)?e.toJSONSchema():$z(e)?e.toJSON():e}function Hz(e,t){return!t.disabled&&t.type!=="backend"}function Zz(e,t={}){if(!e)return{};const n=t.filter??Hz;return Object.fromEntries(Object.entries(e).filter(([r,a])=>n(r,a)&&a.parameters).map(([r,a])=>[r,{...a.description&&{description:a.description},parameters:Fz(a.parameters)}]))}class Xw{contentBinding;messageApi;threadApi;get path(){return this.contentBinding.path}constructor(t,n,r){this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const a=n.toolName,o=n.toolCallId,l=sr.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:a,toolCallId:o,result:l.result,artifact:l.artifact,isError:l.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class Gc extends wf{binding;get path(){return this.binding.path}constructor(t){super(),this.binding=t}getState(){return this.binding.getState()}outerSubscribe(t){return this.binding.subscribe(t)}_connect(){const t=()=>{this.notifySubscribers()};let n=this.binding.getState(),r=n?.subscribe(t);const a=()=>{const l=this.binding.getState();l!==n&&(n=l,r?.(),r=this.binding.getState()?.subscribe(t),t())},o=this.outerSubscribe(a);return()=>{o?.(),r?.()}}}const gc=Object.freeze({type:"complete"}),qz=(e,t,n)=>{if(e.role!=="assistant")return gc;if(n.type==="tool-call")return n.result?gc:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?gc:r?e.status:gc},Kw=(e,t)=>{const n=e.content[t];if(!n)return ur;const r=qz(e,t,n);return Object.freeze({...n,[Vt]:n[Vt],status:r})};class Vz{_core;_threadBinding;get path(){return this._core.path}constructor(t,n){this._core=t,this._threadBinding=n,this.composer=new dz(new Gc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}composer;_getEditComposerRuntimeCore=()=>this._threadBinding.getState().getEditComposer(this._core.getState().id);getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,a=n??r,{runConfig:o=a.runConfig}=t,l=this._core.getState();if(l.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:l.parentId,sourceId:l.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){const t=this._core.getState();if(this._threadBinding.getState().speech?.messageId===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let l=n;if(t==="previous"?l=o[r.branchNumber-2]:t==="next"&&(l=o[r.branchNumber]),!l)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(l)}unstable_getCopyText(){return wl(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new Xw(new ar({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>Kw(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new Xw(new ar({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(a=>a.type==="tool-call"&&a.toolCallId===t);return r===-1?ur:Kw(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new lz(new ar({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const r=this.getState().attachments?.[t];return r?{...r,source:"message"}:ur},subscribe:n=>this._core.subscribe(n)}))}}const Gz=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),Yz=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),Jz=(e,t)=>typeof t=="string"?{createdAt:new Date,parentId:e.at(-1)?.id??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??e.at(-1)?.id??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun},Xz=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:n?.role!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class wE{get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}_threadBinding;constructor(t,n){const r=new ar({path:t.path,getState:()=>Xz(t.getState(),n.getState()),subscribe:a=>{const o=t.subscribe(a),l=n.subscribe(a);return()=>{o(),l()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:a=>t.outerSubscribe(a),subscribe:a=>t.subscribe(a)},this.composer=new fz(new Gc({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:a=>this._threadBinding.subscribe(a)})),this.__internal_bindMethods()}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}composer;getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(Jz(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(Yz(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(Gz(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:n[t-1]?.id??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new Vz(new ar({path:t,getState:()=>{const{message:r,parentId:a,index:o}=n()??{},{messages:l,speech:c}=this._threadBinding.getState();if(!r||a===void 0||o===void 0)return ur;const d=this._threadBinding.getState().getBranches(r.id),p=r.metadata.submittedFeedback;return{...r,[Vt]:r[Vt],index:o,isLast:l.at(-1)?.id===r.id,parentId:a,branchNumber:d.indexOf(r.id)+1,branchCount:d.length,speech:c?.messageId===r.id?c:void 0,submittedFeedback:p}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}_eventSubscriptionSubjects=new Map;unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new yE({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const Kz=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),yc=(e,t)=>{if(t===void 0)return ur;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:ur};class _E{_core;_runtimeFactory;_getState;constructor(t,n=wE){this._core=t,this._runtimeFactory=n;const r=new mg({path:{},getState:()=>Kz(t),subscribe:a=>t.subscribe(a)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new mc(new ar({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>yc(this._core,this._core.mainThreadId),subscribe:a=>this._core.subscribe(a)}),this._core),this.main=new n(new Gc({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:a=>t.subscribe(a)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}_mainThreadListItemRuntime;main;get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new Gc({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new mc(new ar({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>yc(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new mc(new ar({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>yc(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new mc(new ar({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>yc(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const Qz=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class Wz{cloud;accept="*";constructor(t){this.cloud=t}uploadedUrls=new Map;async*add({file:t}){const n=crypto.randomUUID(),r=Qz(t.type);let a={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield a;try{const{signedUrl:o,publicUrl:l}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,l),a={...a,status:{type:"requires-action",reason:"composer-send"}},yield a}catch{a={...a,status:{type:"incomplete",reason:"error"}},yield a}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const vm=w.createContext(null),SE=({adapters:e,children:t})=>{const n=w.useContext(vm);return x.jsx(vm.Provider,{value:{...n,...e},children:t})},EE=()=>w.useContext(vm),ga=Object.freeze([]),wa="DEFAULT_THREAD_ID",eD=Object.freeze([wa]),TE=Object.freeze({id:wa,remoteId:void 0,externalId:void 0,status:"regular"}),tD=Promise.resolve(),Qw=Object.freeze({[wa]:TE});class nD{adapter;threadFactory;_mainThreadId=wa;_threads=eD;_archivedThreads=ga;_threadData=Qw;get isLoading(){return this.adapter.isLoading??!1}get newThreadId(){}get threadIds(){return this._threads}get archivedThreadIds(){return this._archivedThreads}get threadItems(){return this._threadData}getLoadThreadsPromise(){return tD}_mainThread;get mainThreadId(){return this._mainThreadId}constructor(t={},n){this.adapter=t,this.threadFactory=n,this._mainThread=this.threadFactory(),this.__internal_setAdapter(t,!0)}getMainThreadRuntimeCore(){return this._mainThread}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getItemById(t){for(const n of this.adapter.threads??[])if(n.id===t)return n;for(const n of this.adapter.archivedThreads??[])if(n.id===t)return n;if(t===wa)return TE}__internal_setAdapter(t,n=!1){const r=this.adapter;this.adapter=t;const a=t.threadId??wa,o=t.threads??ga,l=t.archivedThreads??ga,c=r.threadId??wa,h=r.threads??ga,d=r.archivedThreads??ga;!n&&c===a&&h===o&&d===l||(this._threadData={...Qw,...Object.fromEntries(t.threads?.map(p=>[p.id,{...p,remoteId:p.remoteId,externalId:p.externalId,status:"regular"}])??[]),...Object.fromEntries(t.archivedThreads?.map(p=>[p.id,{...p,remoteId:p.remoteId,externalId:p.externalId,status:"archived"}])??[])},h!==o&&(this._threads=this.adapter.threads?.map(p=>p.id)??ga),d!==l&&(this._archivedThreads=this.adapter.archivedThreads?.map(p=>p.id)??ga),c!==a&&(this._mainThreadId=a,this._mainThread=this.threadFactory()),this._notifySubscribers())}async switchToThread(t){if(this._mainThreadId===t)return;const n=this.adapter.onSwitchToThread;if(!n)throw new Error("External store adapter does not support switching to thread");n(t)}async switchToNewThread(){const t=this.adapter.onSwitchToNewThread;if(!t)throw new Error("External store adapter does not support switching to new thread");t()}async rename(t,n){const r=this.adapter.onRename;if(!r)throw new Error("External store adapter does not support renaming");r(t,n)}async detach(){}async archive(t){const n=this.adapter.onArchive;if(!n)throw new Error("External store adapter does not support archiving");n(t)}async unarchive(t){const n=this.adapter.onUnarchive;if(!n)throw new Error("External store adapter does not support unarchiving");n(t)}async delete(t){const n=this.adapter.onDelete;if(!n)throw new Error("External store adapter does not support deleting");n(t)}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}_subscriptions=new Set;subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}_notifySubscribers(){for(const t of this._subscriptions)t()}}class xm{cache=new WeakMap;convertMessages(t,n){return t.map((r,a)=>{const o=this.cache.get(r),l=n(o,r,a);return this.cache.set(r,l),l})}}class rD extends aE{runtime;endEditCallback;get canCancel(){return!0}getAttachmentAdapter(){return this.runtime.adapters?.attachments}getDictationAdapter(){return this.runtime.adapters?.dictation}_nonTextParts;_previousText;_parentId;_sourceId;constructor(t,n,{parentId:r,message:a}){super(),this.runtime=t,this.endEditCallback=n,this._parentId=r,this._sourceId=a.id,this._previousText=wl(a),this.setText(this._previousText),this.setRole(a.role),this.setAttachments(a.attachments??[]),this._nonTextParts=a.content.filter(o=>o.type!=="text"),this.setRunConfig({...t.composer.runConfig})}async handleSend(t){wl(t)!==this._previousText&&this.runtime.append({...t,content:[...t.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class iD{_contextProvider;_subscriptions=new Set;_isInitialized=!1;repository=new pg;get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return t?.metadata.unstable_state??null}composer=new sE(this);constructor(t){this._contextProvider=t}getModelContext(){return this._contextProvider.getModelContext()}_editComposers=new Map;getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new rD(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){const r=this.adapters?.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:a,parentId:o}=this.repository.getMessage(t);if(r.submit({message:a,type:n}),a.role==="assistant"){const l={...a,metadata:{...a.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,l)}this._notifySubscribers()}_stopSpeaking;speech;speak(t){const n=this.adapters?.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);this._stopSpeaking?.();const a=n.speak(wl(r)),o=a.subscribe(()=>{a.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:a.status},this._notifySubscribers()});this.speech={messageId:t,status:a.status},this._notifySubscribers(),this._stopSpeaking=()=>{a.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(hg.fromArray(t??[]))}_eventSubscribers=new Map;unstable_on(t,n){if(t==="modelContextUpdate")return this._contextProvider.subscribe?.(n)??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}const aD=Object.freeze([]),sD=(e,t)=>e&&t[t.length-1]?.role!=="assistant";class oD extends iD{_assistantOptimisticId=null;_capabilities={switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1};get capabilities(){return this._capabilities}_messages;isDisabled;get isLoading(){return this._store.isLoading??!1}get messages(){return this._messages}get state(){return this._store.state??super.state}get adapters(){return this._store.adapters}suggestions=[];extras=void 0;_converter=new xm;_store;beginEdit(t){if(!this._store.onEdit)throw new Error("Runtime does not support editing.");super.beginEdit(t)}constructor(t,n){super(t),this.__internal_setAdapter(n)}__internal_setAdapter(t){if(this._store===t)return;const n=t.isRunning??!1;this.isDisabled=t.isDisabled??!1;const r=this._store;this._store=t,this.extras=t.extras,this.suggestions=t.suggestions??aD,this._capabilities={switchToBranch:this._store.setMessages!==void 0,switchBranchDuringRun:!1,edit:this._store.onEdit!==void 0,reload:this._store.onReload!==void 0,cancel:this._store.onCancel!==void 0,speech:this._store.adapters?.speech!==void 0,dictation:this._store.adapters?.dictation!==void 0,unstable_copy:this._store.unstable_capabilities?.copy!==!1,attachments:!!this._store.adapters?.attachments,feedback:!!this._store.adapters?.feedback};let a;if(t.messageRepository){if(r&&r.isRunning===t.isRunning&&r.messageRepository===t.messageRepository){this._notifySubscribers();return}this.repository.clear(),this._assistantOptimisticId=null,this.repository.import(t.messageRepository),a=this.repository.getMessages()}else if(t.messages){if(r){if(r.convertMessage!==t.convertMessage)this._converter=new xm;else if(r.isRunning===t.isRunning&&r.messages===t.messages){this._notifySubscribers();return}}a=t.convertMessage?this._converter.convertMessages(t.messages,(o,l,c)=>{if(!t.convertMessage)return l;const h=c===(t.messages?.length??0)-1,d=jl(h,n,!1,!1,void 0);if(o&&(o.role!=="assistant"||!oE(o.status)||o.status===d))return o;const p=t.convertMessage(l,c),g=Aa(p,c.toString(),d);return g[Vt]=l,g}):t.messages;for(let o=0;o<a.length;o++){const l=a[o],c=a[o-1];this.repository.addOrUpdateMessage(c?.id??null,l)}}else throw new Error("ExternalStoreAdapter must provide either 'messages' or 'messageRepository'");a.length>0&&this.ensureInitialized(),(r?.isRunning??!1)!==(t.isRunning??!1)&&(t.isRunning?this._notifyEventSubscribers("runStart"):this._notifyEventSubscribers("runEnd")),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null),sD(n,a)&&(this._assistantOptimisticId=this.repository.appendOptimisticMessage(a.at(-1)?.id??null,{role:"assistant",content:[]})),this.repository.resetHead(this._assistantOptimisticId??a.at(-1)?.id??null),this._messages=this.repository.getMessages(),this._notifySubscribers()}switchToBranch(t){if(!this._store.setMessages)throw new Error("Runtime does not support switching branches.");this._store.isRunning||(this.repository.switchToBranch(t),this.updateMessages(this.repository.getMessages()))}async append(t){if(t.parentId!==(this.messages.at(-1)?.id??null)){if(!this._store.onEdit)throw new Error("Runtime does not support editing messages.");await this._store.onEdit(t)}else await this._store.onNew(t)}async startRun(t){if(!this._store.onReload)throw new Error("Runtime does not support reloading messages.");await this._store.onReload(t.parentId,t)}async resumeRun(t){if(!this._store.onResume)throw new Error("Runtime does not support resuming runs.");await this._store.onResume(t)}exportExternalState(){if(!this._store.onExportExternalState)throw new Error("Runtime does not support exporting external states.");return this._store.onExportExternalState()}importExternalState(t){if(!this._store.onLoadExternalState)throw new Error("Runtime does not support importing external states.");this._store.onLoadExternalState(t)}unstable_loadExternalState(t){this.importExternalState(t)}cancelRun(){if(!this._store.onCancel)throw new Error("Runtime does not support cancelling runs.");this._store.onCancel(),this._assistantOptimisticId&&(this.repository.deleteMessage(this._assistantOptimisticId),this._assistantOptimisticId=null);let t=this.repository.getMessages();const n=t[t.length-1];n?.role==="user"&&n.id===t.at(-1)?.id?(this.repository.deleteMessage(n.id),this.composer.text.trim()||this.composer.setText(wl(n)),t=this.repository.getMessages()):this._notifySubscribers(),setTimeout(()=>{this.updateMessages(t)},0)}addToolResult(t){if(!this._store.onAddToolResult&&!this._store.onAddToolResult)throw new Error("Runtime does not support tool results.");this._store.onAddToolResult?.(t)}resumeToolCall(t){if(!this._store.onResumeToolCall)throw new Error("Runtime does not support resuming tool calls.");this._store.onResumeToolCall(t)}reset(t){const n=new pg;n.import(hg.fromArray(t??[])),this.updateMessages(n.getMessages())}import(t){this._assistantOptimisticId=null,super.import(t),this._store.onImport&&this._store.onImport(this.repository.getMessages())}updateMessages=t=>{this._store.convertMessage!==void 0?this._store.setMessages?.(t.flatMap(iz).filter(r=>r!=null)):this._store.setMessages?.(t)}}const Ww=e=>e.adapters?.threadList??{};class lD extends cg{threads;constructor(t){super(),this.threads=new nD(Ww(t),()=>new oD(this._contextProvider,t))}setAdapter(t){this.threads.__internal_setAdapter(Ww(t)),this.threads.getMainThreadRuntimeCore().__internal_setAdapter(t)}}const uD=e=>{const[t]=w.useState(()=>new lD(e));w.useEffect(()=>{t.setAdapter(e)});const{modelContext:n}=EE()??{};return w.useEffect(()=>{if(n)return t.registerModelContextProvider(n)},[n,t]),w.useMemo(()=>new gg(t),[t])},Sp=e=>{try{return JSON.parse(e),!0}catch{return!1}};function CE({state:e,getTools:t,onResult:n,setToolStatuses:r}){const a=w.useRef({}),o=w.useRef(new Map),l=w.useRef(new AbortController),c=w.useRef(0),h=w.useRef([]),[d]=w.useState(()=>{const[v,E]=pE(),S=Lz(t,()=>l.current?.signal??new AbortController().signal,(T,C)=>new Promise((O,A)=>{const j=o.current.get(T);j&&j.reject(new Error("Human input request was superseded by a new request")),o.current.set(T,{resolve:O,reject:A}),r(F=>({...F,[T]:{type:"interrupt",payload:{type:"human",payload:C}}}))}),{onExecutionStart:T=>{c.current++,r(C=>({...C,[T]:{type:"executing"}}))},onExecutionEnd:T=>{c.current--,r(C=>{const O={...C};return delete O[T],O}),c.current===0&&(h.current.forEach(C=>C()),h.current=[])}});return v.pipeThrough(S).pipeThrough(new dE).pipeTo(new WritableStream({write(T){if(T.type==="result"){if(a.current[T.meta.toolCallId]?.hasResult)return;n({type:"add-tool-result",toolCallId:T.meta.toolCallId,toolName:T.meta.toolName,result:T.result,isError:T.isError,...T.artifact&&{artifact:T.artifact}})}}})),E}),p=w.useRef(new Set),g=w.useRef(!0);w.useEffect(()=>{const v=E=>{E.forEach(S=>{S.content.forEach(T=>{if(T.type==="tool-call"){if(g.current)p.current.add(T.toolCallId);else{if(p.current.has(T.toolCallId))return;let C=a.current[T.toolCallId];if(C||(C={argsText:"",hasResult:!1,argsComplete:!1,controller:d.addToolCallPart({toolName:T.toolName,toolCallId:T.toolCallId})},a.current[T.toolCallId]=C),T.argsText!==C.argsText&&!C.argsComplete){if(!T.argsText.startsWith(C.argsText)){if(Sp(C.argsText)&&Sp(T.argsText)){C.controller.argsText.close(),a.current[T.toolCallId]={argsText:T.argsText,hasResult:C.hasResult,argsComplete:!0,controller:C.controller};return}throw new Error(`Tool call argsText can only be appended, not updated: ${T.argsText} does not start with ${C.argsText}`)}const O=T.argsText.slice(C.argsText.length);C.controller.argsText.append(O);const A=Sp(T.argsText);A&&C.controller.argsText.close(),a.current[T.toolCallId]={argsText:T.argsText,hasResult:C.hasResult,argsComplete:A,controller:C.controller}}T.result!==void 0&&!C.hasResult&&(C.controller.setResponse(new sr({result:T.result,artifact:T.artifact,isError:T.isError})),C.controller.close(),a.current[T.toolCallId]={hasResult:!0,argsComplete:!0,argsText:C.argsText,controller:C.controller})}T.messages&&v(T.messages)}})})};v(e.messages),g.current&&(g.current=!1)},[e,d]);const b=()=>(o.current.forEach(({reject:v})=>{v(new Error("Tool execution aborted"))}),o.current.clear(),l.current.abort(),l.current=new AbortController,c.current===0?Promise.resolve():new Promise(v=>{h.current.push(v)}));return{reset:()=>{b(),g.current=!0},abort:b,resume:(v,E)=>{const S=o.current.get(v);if(S)o.current.delete(v),r(T=>({...T,[v]:{type:"executing"}})),S.resolve(E);else throw new Error(`Tool call ${v} is not waiting for human input`)}}}class cD{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const AE=e=>{const t={role:"assistant",content:[]};for(const n of e)if(n.role==="tool"){const r=t.content.findIndex(a=>a.type==="tool-call"&&a.toolCallId===n.toolCallId);if(r!==-1){const a=t.content[r];if(n.toolName!==void 0&&a.toolName!==n.toolName)throw new Error(`Tool call name ${n.toolCallId} ${n.toolName} does not match existing tool call ${a.toolName}`);t.content[r]={...a,[Vt]:[...a[Vt]??[],n],result:n.result,artifact:n.artifact,isError:n.isError,messages:n.messages}}else throw new Error(`Tool call ${n.toolCallId} ${n.toolName} not found in assistant message`)}else{const r=n.role,a=(typeof n.content=="string"?[{type:"text",text:n.content}]:n.content).map(o=>({...o,[Vt]:[n]}));switch(r){case"system":case"user":return{...n,content:a};case"assistant":t.content.length===0&&(t.id=n.id,t.createdAt??=n.createdAt,t.status??=n.status,n.attachments&&(t.attachments=[...t.attachments??[],...n.attachments]),n.metadata&&(t.metadata??={},n.metadata.unstable_state&&(t.metadata.unstable_state=n.metadata.unstable_state),n.metadata.unstable_annotations&&(t.metadata.unstable_annotations=[...t.metadata.unstable_annotations??[],...n.metadata.unstable_annotations]),n.metadata.unstable_data&&(t.metadata.unstable_data=[...t.metadata.unstable_data??[],...n.metadata.unstable_data]),n.metadata.steps&&(t.metadata.steps=[...t.metadata.steps??[],...n.metadata.steps]),n.metadata.custom&&(t.metadata.custom={...t.metadata.custom??{},...n.metadata.custom}),n.metadata.submittedFeedback&&(t.metadata.submittedFeedback=n.metadata.submittedFeedback)));for(const o of a){if(o.type==="reasoning"&&"parentId"in o&&o.parentId){const l=t.content.findIndex(c=>c.type==="reasoning"&&"parentId"in c&&c.parentId===o.parentId);if(l!==-1){const c=t.content[l];t.content[l]={...c,text:`${c.text}

${o.text}`,[Vt]:[...c[Vt]??[],...o[Vt]??[]]};continue}}t.content.push(o)}break;default:{const o=r;throw new Error(`Unknown message role: ${o}`)}}}return t},kE=(e,t)=>{const n=[];let r=!1,a=!1,o=[],l=[];const c=()=>{l.length&&n.push({inputs:o,outputs:l}),o=[],l=[],r=!1,a=!1};for(const h of e)for(const d of h.outputs)(a&&d.role!=="tool"||!r||d.role==="user"||d.role==="system")&&c(),r=d.role==="assistant"||d.role==="tool",o.at(-1)!==h.input&&o.push(h.input),l.push(d),d.role==="assistant"&&(d.convertConfig?.joinStrategy==="none"||t==="none")&&(a=!0);return c(),n};function RE(e){return Object.assign({id:LN(),role:"assistant",content:[],status:{type:"incomplete",reason:"error",error:e},createdAt:new Date,metadata:{unstable_state:null,unstable_annotations:[],unstable_data:[],custom:{},steps:[]}},{[Vt]:[]})}const fD=(e,t,n,r)=>{const a=[];for(const c of e){const h=t(c,r),d=Array.isArray(h)?h:[h],p={input:c,outputs:d};a.push(p)}const o=kE(a),l=o.map((c,h)=>{const d=h===o.length-1,p=AE(c.outputs),g=typeof p.content=="object"&&p.content.some(E=>E.type==="tool-call"&&E.result===void 0),b=jl(d,n,g,g,d?r.error:void 0),v=Aa(p,h.toString(),b);return v[Vt]=c.inputs,v});if(r.error){const c=l.at(-1);(!c||c.role!=="assistant")&&l.push(RE(r.error))}return l},dD=({callback:e,messages:t,isRunning:n,joinStrategy:r,metadata:a})=>{const o=w.useMemo(()=>({metadata:a??{},callback:e,callbackCache:new WeakMap,chunkCache:new WeakMap,converterCache:new xm}),[e,a]);return w.useMemo(()=>{const l=[];for(const d of t){let p=o.callbackCache.get(d);if(!p){const g=o.callback(d,o.metadata),b=Array.isArray(g)?g:[g];p={input:d,outputs:b},o.callbackCache.set(d,p)}l.push(p)}const c=kE(l,r).map(d=>{const p=d.outputs[0];if(!p)return d;const g=o.chunkCache.get(p);return g&&e_(g.outputs,d.outputs)?g:(o.chunkCache.set(p,d),d)}),h=o.converterCache.convertMessages(c,(d,p,g)=>{const b=g===c.length-1,v=AE(p.outputs),E=typeof v.content=="object"&&v.content.some(O=>O.type==="tool-call"&&O.result===void 0),S=typeof v.content=="object"&&v.content.some(O=>O.type==="tool-call"&&O.result===void 0),T=jl(b,n,E,S,b?o.metadata.error:void 0);if(d&&(d.role!=="assistant"||!oE(d.status)||d.status===T)){const O=Li(d);if(e_(O,p.inputs))return d}const C=Aa(v,g.toString(),T);return C[Vt]=p.inputs,C});if(h[Vt]=t,o.metadata.error){const d=h.at(-1);(!d||d.role!=="assistant")&&h.push(RE(o.metadata.error))}return h},[o,t,n,r])},e_=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},hD=e=>{const t={useThreadMessages:({messages:n,isRunning:r,joinStrategy:a,metadata:o})=>dD({callback:e,messages:n,isRunning:r,joinStrategy:a,metadata:o}),toThreadMessages:(n,r=!1,a={})=>fD(n,e,r,a),toOriginalMessages:n=>{const r=Li(n);if(r.length===0)throw new Error("No original messages found");return r},toOriginalMessage:n=>t.toOriginalMessages(n)[0],useOriginalMessage:()=>t.useOriginalMessages()[0],useOriginalMessages:()=>{const n=ze(),r=xe(l=>{if(n.part.source)return Li(l.part)}),a=xe(({message:l})=>Li(l)),o=r??a;if(o.length===0)throw new Error("No original messages found");return o}};return t},t_=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const a=atob(r),l=JSON.parse(a).exp;if(!l||typeof l!="number")throw new Error('JWT does not contain a valid "exp" field');return l*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};class ME{strategy="jwt";cachedToken=null;tokenExpiry=null;#e;constructor(t){this.#e=t}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await this.#e();return n?(this.cachedToken=n,this.tokenExpiry=t_(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,a]=n.split(" ");if(r!=="Bearer"||!a)throw new Error("Invalid auth header received");this.cachedToken=a,this.tokenExpiry=t_(a)}}class pD{strategy="api-key";#e;#t;#n;constructor(t,n,r){this.#e=t,this.#t=n,this.#n=r}async getAuthHeaders(){return{Authorization:`Bearer ${this.#e}`,"Aui-User-Id":this.#t,"Aui-Workspace-Id":this.#n}}readAuthHeaders(){}}const bc="aui:refresh_token";class mD{strategy="anon";baseUrl;jwtStrategy;constructor(t){this.baseUrl=t,this.jwtStrategy=new ME(async()=>{const n=Date.now(),r=localStorage.getItem(bc),a=r?JSON.parse(r):void 0;if(a)if(new Date(a.expires_at).getTime()-n>30*1e3){const p=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:a.token})});if(p.ok){const g=await p.json(),{access_token:b,refresh_token:v}=g;return v&&localStorage.setItem(bc,JSON.stringify(v)),b}}else localStorage.removeItem(bc);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const l=await o.json(),{access_token:c,refresh_token:h}=l;return!c||!h?null:(localStorage.setItem(bc,JSON.stringify(h)),c)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class gD extends Error{constructor(t){super(t),this.name="APIError"}}class yD{_auth;_baseUrl;constructor(t){if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new ME(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new pD(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new mD(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const a={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[h,d]of Object.entries(n.query))d!==!1&&(d===!0?o.set(h,"true"):o.set(h,d.toString()));const l=new URL(`${this._baseUrl}/v1${t}`);l.search=o.toString();const c=await fetch(l,{method:n.method??"GET",headers:a,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(c.headers),!c.ok){const h=await c.text();try{const d=JSON.parse(h);throw new gD(d.message)}catch{throw new Error(`Request failed with status ${c.status}, ${h}`)}}return c}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class bD{cloud;constructor(t){this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class vD{cloud;constructor(t){this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return bm.fromResponse(n,new kz)}}class xD{cloud;constructor(t){this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class wD{cloud;messages;constructor(t){this.cloud=t,this.messages=new xD(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class _D{cloud;constructor(t){this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class SD{threads;auth;runs;files;constructor(t){const n=new yD(t);this.threads=new wD(n),this.auth={tokens:new bD(n)},this.runs=new vD(n),this.files=new _D(n)}}function wm(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>wm(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&wm(r,t+1)):!1}const ED=e=>({role:e.role,content:e.content.map(t=>{const n=t.type;switch(n){case"text":return{type:"text",text:t.text};case"reasoning":return{type:"reasoning",text:t.text};case"source":return{type:"source",sourceType:t.sourceType,id:t.id,url:t.url,...t.title?{title:t.title}:void 0};case"tool-call":return wm(t.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(t)}`),{type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,...JSON.stringify(t.args)===t.argsText?{args:t.args}:{argsText:t.argsText},...t.result?{result:t.result}:{},...t.isError?{isError:!0}:{}};case"image":return{type:"image",image:t.image};case"file":return{type:"file",data:t.data,mimeType:t.mimeType,...t.filename?{filename:t.filename}:void 0};default:{const r=n;throw new Error(`Message part type not supported by aui/v0: ${r}`)}}}),metadata:e.metadata,...e.status?{status:e.status?.type==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}),TD=e=>{const t=e.content,n=Aa({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},Ep=new WeakMap;class CD{parent;formatAdapter;constructor(t,n){this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class AD{cloudRef;aui;constructor(t,n){this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return Ep.has(this.aui.threadListItem())||Ep.set(this.aui.threadListItem(),{}),Ep.get(this.aui.threadListItem())}withFormat(t){return new CD(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),a=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:ED(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=a,a.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(a=>a.format==="aui/v0").map(TD).reverse()}}async _appendWithFormat(t,n,r,a){const{remoteId:o}=await this.aui.threadListItem().initialize(),l=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:a}).then(({message_id:c})=>(this._getIdForLocalId[n]=c,c));return this._getIdForLocalId[n]=l,l.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:a}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:a.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const kD=e=>{const t=ze(),[n]=w.useState(()=>new AD(e,t));return n};var RD={};const n_=typeof process<"u"&&RD?.NEXT_PUBLIC_ASSISTANT_BASE_URL,Tp=n_?new SD({baseUrl:n_,anonymous:!0}):void 0,MD=e=>{const t=w.useRef(e);w.useEffect(()=>{t.current=e},[e]);const n=w.useCallback(function({children:o}){const l=kD({get current(){return t.current.cloud??Tp}}),c=t.current.cloud??Tp,h=w.useMemo(()=>new Wz(c),[c]),d=w.useMemo(()=>({history:l,attachments:h}),[l,h]);return x.jsx(SE,{adapters:d,children:o})},[]),r=e.cloud??Tp;return r?{list:async()=>{const{threads:a}=await r.threads.list();return{threads:a.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{const o=await(e.create?.()??Promise.resolve()),l=o?o.externalId:void 0,{thread_id:c}=await r.threads.create({last_message_at:new Date,external_id:l});return{externalId:l,remoteId:c}},rename:async(a,o)=>r.threads.update(a,{title:o}),archive:async a=>r.threads.update(a,{is_archived:!0}),unarchive:async a=>r.threads.update(a,{is_archived:!1}),delete:async a=>(await e.delete?.(a),r.threads.delete(a)),generateTitle:async(a,o)=>{const l=o.map(c=>({...c,content:c.content.filter(h=>h.type==="text"||h.type==="tool-call")}));return r.runs.stream({thread_id:a,assistant_id:"system/thread_title",messages:l})},fetch:async a=>{const o=await r.threads.get(a);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new cD};class gg{_core;threads;get threadList(){return this.threads}_thread;constructor(t){this._core=t,this.threads=new _E(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(hg.fromArray(t??[]))}}function Xt(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>t.current?.(...n),[])}const r_=e=>{let t;const n=new Set,r=(d,p)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const b=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(v=>v(t,b))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>h,subscribe:d=>(n.add(d),()=>n.delete(d))},h=t=e(r,a,c);return c},OD=(e=>e?r_(e):r_),ID=e=>e;function ND(e,t=ID){const n=At.useSyncExternalStore(e.subscribe,At.useCallback(()=>t(e.getState()),[e,t]),At.useCallback(()=>t(e.getInitialState()),[e,t]));return At.useDebugValue(n),n}const i_=e=>{const t=OD(e),n=r=>ND(t,r);return Object.assign(n,t),n},$s=(e=>e?i_(e):i_);function OE(e,t){function n(a){const o=e(a);return o?o[t]:null}function r(a){let o=!1,l;typeof a=="function"?l=a:a&&typeof a=="object"&&(o=!!a.optional,l=a.selector);const c=n({optional:o});return c?l?c(l):c():null}return{[t]:r,[`${t}Store`]:n}}const IE=w.createContext(null),zD=e=>({useSmoothStatus:$s(()=>e)}),DD=({children:e})=>{const t=NE({optional:!0}),n=ze(),[r]=w.useState(()=>zD(n.part().getState().status));return t?e:x.jsx(IE.Provider,{value:r,children:e})},jD=e=>{const t=w.forwardRef((n,r)=>x.jsx(DD,{children:x.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function NE(e){const t=w.useContext(IE);if(!e?.optional&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:PD,useSmoothStatusStore:LD}=OE(NE,"useSmoothStatus"),_l=e=>e;class BD{currentText;setText;animationFrameId=null;lastUpdateTime=Date.now();targetText="";constructor(t,n){this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}animate=()=>{const t=Date.now();let r=t-this.lastUpdateTime;const a=this.targetText.length-this.currentText.length,o=Math.min(5,250/a);let l=0;for(;r>=o&&l<a;)l++,r-=o;l!==a?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,l!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+l),this.lastUpdateTime=t-r,this.setText(this.currentText))}}const Cp=Object.freeze({type:"running"}),zE=(e,t=!1)=>{const{text:n}=e,r=xe(({message:p})=>p.id),a=w.useRef(r),[o,l]=w.useState(n),c=LD({optional:!0}),h=Xt(p=>{if(l(p),c){const g=o!==p||e.status.type==="running"?Cp:e.status;_l(c).setState(g,!0)}});w.useEffect(()=>{if(c){const p=t&&(o!==n||e.status.type==="running")?Cp:e.status;_l(c).setState(p,!0)}},[c,t,n,o,e.status]);const[d]=w.useState(new BD(n,h));return w.useEffect(()=>{if(!t){d.stop();return}if(a.current!==r||!n.startsWith(d.targetText)){a.current=r,h(n),d.currentText=n,d.targetText=n,d.stop();return}d.targetText=n,d.start()},[h,d,r,t,n]),w.useEffect(()=>()=>{d.stop()},[d]),w.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:Cp}:e,[t,o,e,n])},DE=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:gg,BaseAssistantRuntimeCore:cg,CompositeContextProvider:ug,DefaultThreadComposerRuntimeCore:sE,MessageRepository:pg,ThreadRuntimeImpl:wE,fromThreadMessageLike:Aa,generateId:Xs,getAutoStatus:jl,useSmooth:zE,useSmoothStatus:PD,useToolInvocations:CE,withSmoothContextProvider:jD},Symbol.toStringTag,{value:"Module"})),ka=e=>{const[,t]=lr(e.getState);return Gt(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},jE=tt(({runtime:e})=>{const t=ka(e),n=lg();return Gt(()=>{const r=[],a=["switchedTo","switchedAway"];for(const o of a){const l=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(l)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),PE=tt(({runtime:e})=>{const t=ka(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),UD=tt(({runtime:e,index:t})=>{const n=Ve(()=>e.getAttachmentByIndex(t),[e,t]);return Ar(PE({runtime:n}))}),LE=tt(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=ka(n),a=lg();Gt(()=>{const c=[],h=["send","attachmentAdd"];for(const d of h){const p=n.unstable_on(d,()=>{a(`composer.${d}`,{threadId:e.current,...t&&{messageId:t.current}})});c.push(p)}return()=>{for(const d of c)d()}},[n,a,e,t]);const o=Bs(()=>r.attachments.map((c,h)=>ti(c.id,UD({runtime:n,index:h}))),[r.attachments,n]),l=Ve(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:l,methods:{getState:()=>l,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:c=>"id"in c?o.get({key:c.id}):o.get(c),__internal_getRuntime:()=>n}}}),$D=tt(({runtime:e})=>{const t=ka(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),FD=tt(({runtime:e,index:t})=>{const n=Ve(()=>e.getAttachmentByIndex(t),[e,t]);return Ar(PE({runtime:n}))}),HD=tt(({runtime:e,index:t})=>{const n=Ve(()=>e.getMessagePartByIndex(t),[e,t]);return Ar($D({runtime:n}))}),ZD=tt(({runtime:e,threadIdRef:t})=>{const n=ka(e),[r,a]=lr(!1),[o,l]=lr(!1),c=Ve(()=>({get current(){return e.getState().id}}),[e]),h=bf(LE({runtime:e.composer,threadIdRef:t,messageIdRef:c})),d=Bs(()=>n.content.map((b,v)=>ti("toolCallId"in b&&b.toolCallId!=null?`toolCallId-${b.toolCallId}`:`index-${v}`,HD({runtime:e,index:v}))),[n.content,e]),p=Bs(()=>(n.attachments??[]).map((b,v)=>ti(b.id,FD({runtime:e,index:v}))),[n.attachments,e]),g=Ve(()=>({...n,parts:d.state,composer:h.state,isCopied:r,isHovering:o}),[n,d.state,h.state,r,o]);return{state:g,methods:{getState:()=>g,composer:h.methods,reload:b=>e.reload(b),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:b=>e.submitFeedback(b),switchToBranch:b=>e.switchToBranch(b),getCopyText:()=>e.unstable_getCopyText(),part:b=>"index"in b?d.get({index:b.index}):d.get({key:`toolCallId-${b.toolCallId}`}),attachment:b=>"id"in b?p.get({key:b.id}):p.get(b),setIsCopied:a,setIsHovering:l,__internal_getRuntime:()=>e}}}),qD=tt(({runtime:e,id:t,threadIdRef:n})=>{const r=Ve(()=>e.getMessageById(t),[e,t]);return Ar(ZD({runtime:r,threadIdRef:n}))}),VD=tt(({runtime:e})=>{const t=ka(e),n=lg();Gt(()=>{const c=[],h=["runStart","runEnd","initialize","modelContextUpdate"];for(const d of h){const p=e.unstable_on(d,()=>{const g=e.getState()?.threadId||"unknown";n(`thread.${d}`,{threadId:g})});c.push(p)}return()=>{for(const d of c)d()}},[e,n]);const r=Ve(()=>({get current(){return e.getState().threadId}}),[e]),a=bf(LE({runtime:e.composer,threadIdRef:r})),o=Bs(()=>t.messages.map(c=>ti(c.id,qD({runtime:e,id:c.id,threadIdRef:r}))),[t.messages,e,r]),l=Ve(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:a.state,messages:o.state}),[t,o,a.state]);return{state:l,methods:{getState:()=>l,composer:a.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:c=>"id"in c?o.get({key:c.id}):o.get(c),__internal_getRuntime:()=>e}}}),GD=tt(({runtime:e,id:t})=>{const n=Ve(()=>e.getItemById(t),[e,t]);return Ar(jE({runtime:n}))}),YD=tt(({runtime:e,__internal_assistantRuntime:t})=>{const n=ka(e),r=bf(VD({runtime:e.main})),a=Bs(()=>Object.keys(n.threadItems).map(l=>ti(l,GD({runtime:e,id:l}))),[n.threadItems,e]),o=Ve(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:a.state,main:r.state}),[n,a.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:l=>{if(l==="main")return a.get({key:o.mainThreadId});if("id"in l)return a.get({key:l.id});const{index:c,archived:h=!1}=l,d=h?o.archivedThreadIds[c]:o.threadIds[c];return a.get({key:d})},switchToThread:async l=>{await e.switchToThread(l)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),JD=1,BE=tt(()=>{const[e]=lr(()=>({version:JD+1})),t=Ve(()=>new ug,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function a_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ll(...e){return t=>{let n=!1;const r=e.map(a=>{const o=a_(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():a_(e[a],null)}}}}function gt(...e){return w.useCallback(Ll(...e),e)}const UE=tt(({toolkit:e})=>{const[t,n]=lr(()=>({tools:{}})),r=rE(),a=U0((o,l)=>(n(c=>({...c,tools:{...c.tools,[o]:[...c.tools[o]??[],l]}})),()=>{n(c=>({...c,tools:{...c.tools,[o]:c.tools[o]?.filter(h=>h!==l)??[]}}))}),[]);return Gt(()=>{if(!e)return;const o=[];for(const[h,d]of Object.entries(e))d.render&&o.push(a(h,d.render));const l=Object.entries(e).reduce((h,[d,p])=>{const{render:g,...b}=p;return h[d]=b,h},{}),c={getModelContext:()=>({tools:l})};return o.push(r.current.modelContext().register(c)),()=>{o.forEach(h=>h())}},[e,a,r]),{state:t,methods:{getState:()=>t,setToolUI:a}}});W0(UE,{modelContext:BE()});const XD=tt(e=>({state:e,methods:{getState:()=>e}})),KD=tt(e=>{const[t]=lr(()=>({suggestions:(e??[]).map(a=>typeof a=="string"?{title:a,label:"",prompt:a}:{title:a.title,label:a.label,prompt:a.prompt})})),n=Bs(()=>t.suggestions.map((r,a)=>ti(a,XD(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),QD=KD;function X(e,t,n){function r(c,h){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:h,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,h);const d=l.prototype,p=Object.keys(d);for(let g=0;g<p.length;g++){const b=p[g];b in c||(c[b]=d[b].bind(c))}}const a=n?.Parent??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function l(c){var h;const d=n?.Parent?new o:this;r(d,c),(h=d._zod).deferred??(h.deferred=[]);for(const p of d._zod.deferred)p();return d}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class zs extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $E extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const FE={};function Fi(e){return FE}function HE(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function _m(e,t){return typeof t=="bigint"?t.toString():t}function Sf(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function yg(e){return e==null}function bg(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function WD(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let a=(r.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(r)){const h=r.match(/\d?e-(\d?)/);h?.[1]&&(a=Number.parseInt(h[1]))}const o=n>a?n:a,l=Number.parseInt(e.toFixed(o).replace(".","")),c=Number.parseInt(t.toFixed(o).replace(".",""));return l%c/10**o}const s_=Symbol("evaluating");function Ze(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==s_)return r===void 0&&(r=s_,r=n()),r},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Ra(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Gi(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function o_(e){return JSON.stringify(e)}function e2(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ZE="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Sl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const t2=Sf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Fs(e){if(Sl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Sl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function qE(e){return Fs(e)?{...e}:Array.isArray(e)?[...e]:e}const n2=new Set(["string","number","symbol"]);function Hs(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yi(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function be(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function r2(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const i2={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function a2(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Gi(e._zod.def,{get shape(){const l={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(l[c]=n.shape[c])}return Ra(this,"shape",l),l},checks:[]});return Yi(e,o)}function s2(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Gi(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete l[c]}return Ra(this,"shape",l),l},checks:[]});return Yi(e,o)}function o2(e,t){if(!Fs(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(o,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=Gi(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Ra(this,"shape",o),o}});return Yi(e,a)}function l2(e,t){if(!Fs(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Gi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Ra(this,"shape",r),r}});return Yi(e,n)}function u2(e,t){const n=Gi(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ra(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Yi(e,n)}function c2(e,t,n){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=Gi(t._zod.def,{get shape(){const c=t._zod.def.shape,h={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(h[d]=e?new e({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)h[d]=e?new e({type:"optional",innerType:c[d]}):c[d];return Ra(this,"shape",h),h},checks:[]});return Yi(t,l)}function f2(e,t,n){const r=Gi(t._zod.def,{get shape(){const a=t._zod.def.shape,o={...a};if(n)for(const l in n){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(o[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)o[l]=new e({type:"nonoptional",innerType:a[l]});return Ra(this,"shape",o),o}});return Yi(t,r)}function Os(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Is(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function vc(e){return typeof e=="string"?e:e?.message}function Hi(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=vc(e.inst?._zod.def?.error?.(e))??vc(t?.error?.(e))??vc(n.customError?.(e))??vc(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function vg(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function El(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const VE=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,_m,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},GE=X("$ZodError",VE),YE=X("$ZodError",VE,{Parent:Error});function d2(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function h2(e,t=n=>n.message){const n={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(l=>r({issues:l}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let l=n,c=0;for(;c<o.path.length;){const h=o.path[c];c===o.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(t(o))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return r(e),n}const xg=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise)throw new zs;if(l.issues.length){const c=new(a?.Err??e)(l.issues.map(h=>Hi(h,o,Fi())));throw ZE(c,a?.callee),c}return l.value},wg=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},o);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(a?.Err??e)(l.issues.map(h=>Hi(h,o,Fi())));throw ZE(c,a?.callee),c}return l.value},Ef=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new zs;return o.issues.length?{success:!1,error:new(e??GE)(o.issues.map(l=>Hi(l,a,Fi())))}:{success:!0,data:o.value}},p2=Ef(YE),Tf=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(l=>Hi(l,a,Fi())))}:{success:!0,data:o.value}},m2=Tf(YE),g2=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return xg(e)(t,n,a)},y2=e=>(t,n,r)=>xg(e)(t,n,r),b2=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wg(e)(t,n,a)},v2=e=>async(t,n,r)=>wg(e)(t,n,r),x2=e=>(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ef(e)(t,n,a)},w2=e=>(t,n,r)=>Ef(e)(t,n,r),_2=e=>async(t,n,r)=>{const a=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Tf(e)(t,n,a)},S2=e=>async(t,n,r)=>Tf(e)(t,n,r),E2=/^[cC][^\s-]{8,}$/,T2=/^[0-9a-z]+$/,C2=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,A2=/^[0-9a-vA-V]{20}$/,k2=/^[A-Za-z0-9]{27}$/,R2=/^[a-zA-Z0-9_-]{21}$/,M2=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,O2=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,l_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,I2=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,N2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function z2(){return new RegExp(N2,"u")}const D2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,j2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,P2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,L2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,JE=/^[A-Za-z0-9_-]*$/,U2=/^\+[1-9]\d{6,14}$/,XE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",$2=new RegExp(`^${XE}$`);function KE(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function F2(e){return new RegExp(`^${KE(e)}$`)}function H2(e){const t=KE({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${XE}T(?:${r})$`)}const Z2=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},q2=/^-?\d+$/,QE=/^-?\d+(?:\.\d+)?$/,V2=/^(?:true|false)$/i,G2=/^null$/i,Y2=/^[^A-Z]*$/,J2=/^[^a-z]*$/,vn=X("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),WE={number:"number",bigint:"bigint",object:"date"},eT=X("$ZodCheckLessThan",(e,t)=>{vn.init(e,t);const n=WE[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tT=X("$ZodCheckGreaterThan",(e,t)=>{vn.init(e,t);const n=WE[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),X2=X("$ZodCheckMultipleOf",(e,t)=>{vn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):WD(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),K2=X("$ZodCheckNumberFormat",(e,t)=>{vn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,o]=i2[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,n&&(c.pattern=q2)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}c<a&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),Q2=X("$ZodCheckMaxLength",(e,t)=>{var n;vn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!yg(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const l=vg(a);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),W2=X("$ZodCheckMinLength",(e,t)=>{var n;vn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!yg(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const l=vg(a);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),ej=X("$ZodCheckLengthEquals",(e,t)=>{var n;vn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!yg(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const l=vg(a),c=o>t.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Cf=X("$ZodCheckStringFormat",(e,t)=>{var n,r;vn.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),tj=X("$ZodCheckRegex",(e,t)=>{Cf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nj=X("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Y2),Cf.init(e,t)}),rj=X("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=J2),Cf.init(e,t)}),ij=X("$ZodCheckIncludes",(e,t)=>{vn.init(e,t);const n=Hs(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),aj=X("$ZodCheckStartsWith",(e,t)=>{vn.init(e,t);const n=new RegExp(`^${Hs(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),sj=X("$ZodCheckEndsWith",(e,t)=>{vn.init(e,t);const n=new RegExp(`.*${Hs(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),oj=X("$ZodCheckOverwrite",(e,t)=>{vn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class lj{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),a=Math.min(...r.map(l=>l.length-l.trimStart().length)),o=r.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of o)this.content.push(l)}compile(){const t=Function,n=this?.args,a=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const uj={major:4,minor:3,patch:6},yt=X("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=uj;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const o of a._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,c,h)=>{let d=Os(l),p;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(d)continue;const b=l.issues.length,v=g._zod.check(l);if(v instanceof Promise&&h?.async===!1)throw new zs;if(p||v instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await v,l.issues.length!==b&&(d||(d=Os(l,b)))});else{if(l.issues.length===b)continue;d||(d=Os(l,b))}}return p?p.then(()=>l):l},o=(l,c,h)=>{if(Os(l))return l.aborted=!0,l;const d=a(c,r,h);if(d instanceof Promise){if(h.async===!1)throw new zs;return d.then(p=>e._zod.parse(p,h))}return e._zod.parse(d,h)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(p=>o(p,l,c)):o(d,l,c)}const h=e._zod.parse(l,c);if(h instanceof Promise){if(c.async===!1)throw new zs;return h.then(d=>a(d,r,c))}return a(h,r,c)}}Ze(e,"~standard",()=>({validate:a=>{try{const o=p2(e,a);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return m2(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}))}),_g=X("$ZodString",(e,t)=>{yt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Z2(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),xt=X("$ZodStringFormat",(e,t)=>{Cf.init(e,t),_g.init(e,t)}),cj=X("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=O2),xt.init(e,t)}),fj=X("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=l_(r))}else t.pattern??(t.pattern=l_());xt.init(e,t)}),dj=X("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=I2),xt.init(e,t)}),hj=X("$ZodURL",(e,t)=>{xt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),a=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=a.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),pj=X("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=z2()),xt.init(e,t)}),mj=X("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=R2),xt.init(e,t)}),gj=X("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=E2),xt.init(e,t)}),yj=X("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=T2),xt.init(e,t)}),bj=X("$ZodULID",(e,t)=>{t.pattern??(t.pattern=C2),xt.init(e,t)}),vj=X("$ZodXID",(e,t)=>{t.pattern??(t.pattern=A2),xt.init(e,t)}),xj=X("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=k2),xt.init(e,t)}),wj=X("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=H2(t)),xt.init(e,t)}),_j=X("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=$2),xt.init(e,t)}),Sj=X("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=F2(t)),xt.init(e,t)}),Ej=X("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=M2),xt.init(e,t)}),Tj=X("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=D2),xt.init(e,t),e._zod.bag.format="ipv4"}),Cj=X("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=j2),xt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Aj=X("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=P2),xt.init(e,t)}),kj=X("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=L2),xt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[a,o]=r;if(!o)throw new Error;const l=Number(o);if(`${l}`!==o)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Rj=X("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=B2),xt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{nT(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Mj(e){if(!JE.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nT(n)}const Oj=X("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=JE),xt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Mj(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Ij=X("$ZodE164",(e,t)=>{t.pattern??(t.pattern=U2),xt.init(e,t)});function Nj(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const zj=X("$ZodJWT",(e,t)=>{xt.init(e,t),e._zod.check=n=>{Nj(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),rT=X("$ZodNumber",(e,t)=>{yt.init(e,t),e._zod.pattern=e._zod.bag.pattern??QE,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),Dj=X("$ZodNumberFormat",(e,t)=>{K2.init(e,t),rT.init(e,t)}),jj=X("$ZodBoolean",(e,t)=>{yt.init(e,t),e._zod.pattern=V2,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),Pj=X("$ZodNull",(e,t)=>{yt.init(e,t),e._zod.pattern=G2,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const a=n.value;return a===null||n.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),n}}),Lj=X("$ZodUnknown",(e,t)=>{yt.init(e,t),e._zod.parse=n=>n}),Bj=X("$ZodNever",(e,t)=>{yt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function u_(e,t,n){e.issues.length&&t.issues.push(...Is(n,e.issues)),t.value[n]=e.value}const Uj=X("$ZodArray",(e,t)=>{yt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let l=0;l<a.length;l++){const c=a[l],h=t.element._zod.run({value:c,issues:[]},r);h instanceof Promise?o.push(h.then(d=>u_(d,n,l))):u_(h,n,l)}return o.length?Promise.all(o).then(()=>n):n}});function Yc(e,t,n,r,a){if(e.issues.length){if(a&&!(n in r))return;t.issues.push(...Is(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function iT(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=r2(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function aT(e,t,n,r,a,o){const l=[],c=a.keySet,h=a.catchall._zod,d=h.def.type,p=h.optout==="optional";for(const g in t){if(c.has(g))continue;if(d==="never"){l.push(g);continue}const b=h.run({value:t[g],issues:[]},r);b instanceof Promise?e.push(b.then(v=>Yc(v,n,g,t,p))):Yc(b,n,g,t,p)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const $j=X("$ZodObject",(e,t)=>{if(yt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const h={...c};return Object.defineProperty(t,"shape",{value:h}),h}})}const r=Sf(()=>iT(t));Ze(e._zod,"propValues",()=>{const c=t.shape,h={};for(const d in c){const p=c[d]._zod;if(p.values){h[d]??(h[d]=new Set);for(const g of p.values)h[d].add(g)}}return h});const a=Sl,o=t.catchall;let l;e._zod.parse=(c,h)=>{l??(l=r.value);const d=c.value;if(!a(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;c.value={};const p=[],g=l.shape;for(const b of l.keys){const v=g[b],E=v._zod.optout==="optional",S=v._zod.run({value:d[b],issues:[]},h);S instanceof Promise?p.push(S.then(T=>Yc(T,c,b,d,E))):Yc(S,c,b,d,E)}return o?aT(p,d,c,h,r.value,e):p.length?Promise.all(p).then(()=>c):c}}),Fj=X("$ZodObjectJIT",(e,t)=>{$j.init(e,t);const n=e._zod.parse,r=Sf(()=>iT(t)),a=b=>{const v=new lj(["shape","payload","ctx"]),E=r.value,S=A=>{const j=o_(A);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};v.write("const input = payload.value;");const T=Object.create(null);let C=0;for(const A of E.keys)T[A]=`key_${C++}`;v.write("const newResult = {};");for(const A of E.keys){const j=T[A],F=o_(A),L=b[A]?._zod?.optout==="optional";v.write(`const ${j} = ${S(A)};`),L?v.write(`
        if (${j}.issues.length) {
          if (${F} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${F}, ...iss.path] : [${F}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${j}.value;
        }
        
      `):v.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${j}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const O=v.compile();return(A,j)=>O(b,A,j)};let o;const l=Sl,c=!FE.jitless,d=c&&t2.value,p=t.catchall;let g;e._zod.parse=(b,v)=>{g??(g=r.value);const E=b.value;return l(E)?c&&d&&v?.async===!1&&v.jitless!==!0?(o||(o=a(t.shape)),b=o(b,v),p?aT([],E,b,v,g,e):b):n(b,v):(b.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),b)}});function c_(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const a=e.filter(o=>!Os(o));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(l=>Hi(l,r,Fi())))}),t)}const sT=X("$ZodUnion",(e,t)=>{yt.init(e,t),Ze(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Ze(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Ze(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Ze(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${a.map(o=>bg(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(a,o)=>{if(n)return r(a,o);let l=!1;const c=[];for(const h of t.options){const d=h._zod.run({value:a.value,issues:[]},o);if(d instanceof Promise)c.push(d),l=!0;else{if(d.issues.length===0)return d;c.push(d)}}return l?Promise.all(c).then(h=>c_(h,a,e,o)):c_(c,a,e,o)}}),Hj=X("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,sT.init(e,t);const n=e._zod.parse;Ze(e._zod,"propValues",()=>{const a={};for(const o of t.options){const l=o._zod.propValues;if(!l||Object.keys(l).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[c,h]of Object.entries(l)){a[c]||(a[c]=new Set);for(const d of h)a[c].add(d)}}return a});const r=Sf(()=>{const a=t.options,o=new Map;for(const l of a){const c=l._zod.propValues?.[t.discriminator];if(!c||c.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(l)}"`);for(const h of c){if(o.has(h))throw new Error(`Duplicate discriminator value "${String(h)}"`);o.set(h,l)}}return o});e._zod.parse=(a,o)=>{const l=a.value;if(!Sl(l))return a.issues.push({code:"invalid_type",expected:"object",input:l,inst:e}),a;const c=r.value.get(l?.[t.discriminator]);return c?c._zod.run(a,o):t.unionFallback?n(a,o):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:l,path:[t.discriminator],inst:e}),a)}}),Zj=X("$ZodIntersection",(e,t)=>{yt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),l=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||l instanceof Promise?Promise.all([o,l]).then(([h,d])=>f_(n,h,d)):f_(n,o,l)}});function Sm(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Fs(e)&&Fs(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const l=Sm(e[o],t[o]);if(!l.valid)return{valid:!1,mergeErrorPath:[o,...l.mergeErrorPath]};a[o]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],l=Sm(a,o);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function f_(e,t,n){const r=new Map;let a;for(const c of t.issues)if(c.code==="unrecognized_keys"){a??(a=c);for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).l=!0}else e.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const h of c.keys)r.has(h)||r.set(h,{}),r.get(h).r=!0;else e.issues.push(c);const o=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(o.length&&a&&e.issues.push({...a,keys:o}),Os(e))return e;const l=Sm(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const qj=X("$ZodRecord",(e,t)=>{yt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Fs(a))return n.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),n;const o=[],l=t.keyType._zod.values;if(l){n.value={};const c=new Set;for(const d of l)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){c.add(typeof d=="number"?d.toString():d);const p=t.valueType._zod.run({value:a[d],issues:[]},r);p instanceof Promise?o.push(p.then(g=>{g.issues.length&&n.issues.push(...Is(d,g.issues)),n.value[d]=g.value})):(p.issues.length&&n.issues.push(...Is(d,p.issues)),n.value[d]=p.value)}let h;for(const d in a)c.has(d)||(h=h??[],h.push(d));h&&h.length>0&&n.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:h})}else{n.value={};for(const c of Reflect.ownKeys(a)){if(c==="__proto__")continue;let h=t.keyType._zod.run({value:c,issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof c=="string"&&QE.test(c)&&h.issues.length){const g=t.keyType._zod.run({value:Number(c),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(h=g)}if(h.issues.length){t.mode==="loose"?n.value[c]=a[c]:n.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(g=>Hi(g,r,Fi())),input:c,path:[c],inst:e});continue}const p=t.valueType._zod.run({value:a[c],issues:[]},r);p instanceof Promise?o.push(p.then(g=>{g.issues.length&&n.issues.push(...Is(c,g.issues)),n.value[h.value]=g.value})):(p.issues.length&&n.issues.push(...Is(c,p.issues)),n.value[h.value]=p.value)}}return o.length?Promise.all(o).then(()=>n):n}}),Vj=X("$ZodEnum",(e,t)=>{yt.init(e,t);const n=HE(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(a=>n2.has(typeof a)).map(a=>typeof a=="string"?Hs(a):a.toString()).join("|")})$`),e._zod.parse=(a,o)=>{const l=a.value;return r.has(l)||a.issues.push({code:"invalid_value",values:n,input:l,inst:e}),a}}),Gj=X("$ZodLiteral",(e,t)=>{if(yt.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Hs(r):r?Hs(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}}),Yj=X("$ZodTransform",(e,t)=>{yt.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new $E(e.constructor.name);const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(n.value=l,n));if(a instanceof Promise)throw new zs;return n.value=a,n}});function d_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const oT=X("$ZodOptional",(e,t)=>{yt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ze(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ze(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${bg(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>d_(o,n.value)):d_(a,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Jj=X("$ZodExactOptional",(e,t)=>{oT.init(e,t),Ze(e._zod,"values",()=>t.innerType._zod.values),Ze(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),Xj=X("$ZodNullable",(e,t)=>{yt.init(e,t),Ze(e._zod,"optin",()=>t.innerType._zod.optin),Ze(e._zod,"optout",()=>t.innerType._zod.optout),Ze(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${bg(n.source)}|null)$`):void 0}),Ze(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Kj=X("$ZodDefault",(e,t)=>{yt.init(e,t),e._zod.optin="optional",Ze(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>h_(o,t)):h_(a,t)}});function h_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Qj=X("$ZodPrefault",(e,t)=>{yt.init(e,t),e._zod.optin="optional",Ze(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Wj=X("$ZodNonOptional",(e,t)=>{yt.init(e,t),Ze(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>p_(o,e)):p_(a,e)}});function p_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const eP=X("$ZodCatch",(e,t)=>{yt.init(e,t),Ze(e._zod,"optin",()=>t.innerType._zod.optin),Ze(e._zod,"optout",()=>t.innerType._zod.optout),Ze(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(l=>Hi(l,r,Fi()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Hi(o,r,Fi()))},input:n.value}),n.issues=[]),n)}}),tP=X("$ZodPipe",(e,t)=>{yt.init(e,t),Ze(e._zod,"values",()=>t.in._zod.values),Ze(e._zod,"optin",()=>t.in._zod.optin),Ze(e._zod,"optout",()=>t.out._zod.optout),Ze(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(l=>xc(l,t.in,r)):xc(o,t.in,r)}const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>xc(o,t.out,r)):xc(a,t.out,r)}});function xc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const nP=X("$ZodReadonly",(e,t)=>{yt.init(e,t),Ze(e._zod,"propValues",()=>t.innerType._zod.propValues),Ze(e._zod,"values",()=>t.innerType._zod.values),Ze(e._zod,"optin",()=>t.innerType?._zod?.optin),Ze(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(m_):m_(a)}});function m_(e){return e.value=Object.freeze(e.value),e}const rP=X("$ZodLazy",(e,t)=>{yt.init(e,t),Ze(e._zod,"innerType",()=>t.getter()),Ze(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),Ze(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),Ze(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),Ze(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),iP=X("$ZodCustom",(e,t)=>{vn.init(e,t),yt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>g_(o,n,r,e));g_(a,n,r,e)}});function g_(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(El(a))}}var y_;class aP{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const a={...r,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function sP(){return new aP}(y_=globalThis).__zod_globalRegistry??(y_.__zod_globalRegistry=sP());const sl=globalThis.__zod_globalRegistry;function oP(e,t){return new e({type:"string",...be(t)})}function lP(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...be(t)})}function b_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...be(t)})}function uP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...be(t)})}function cP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...be(t)})}function fP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...be(t)})}function dP(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...be(t)})}function hP(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...be(t)})}function pP(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...be(t)})}function mP(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...be(t)})}function gP(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...be(t)})}function yP(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...be(t)})}function bP(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...be(t)})}function vP(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...be(t)})}function xP(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...be(t)})}function wP(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...be(t)})}function _P(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...be(t)})}function SP(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...be(t)})}function EP(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...be(t)})}function TP(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...be(t)})}function CP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...be(t)})}function AP(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...be(t)})}function kP(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...be(t)})}function RP(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...be(t)})}function MP(e,t){return new e({type:"string",format:"date",check:"string_format",...be(t)})}function OP(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...be(t)})}function IP(e,t){return new e({type:"string",format:"duration",check:"string_format",...be(t)})}function NP(e,t){return new e({type:"number",checks:[],...be(t)})}function zP(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...be(t)})}function DP(e,t){return new e({type:"boolean",...be(t)})}function jP(e,t){return new e({type:"null",...be(t)})}function PP(e){return new e({type:"unknown"})}function LP(e,t){return new e({type:"never",...be(t)})}function v_(e,t){return new eT({check:"less_than",...be(t),value:e,inclusive:!1})}function Ap(e,t){return new eT({check:"less_than",...be(t),value:e,inclusive:!0})}function x_(e,t){return new tT({check:"greater_than",...be(t),value:e,inclusive:!1})}function kp(e,t){return new tT({check:"greater_than",...be(t),value:e,inclusive:!0})}function w_(e,t){return new X2({check:"multiple_of",...be(t),value:e})}function lT(e,t){return new Q2({check:"max_length",...be(t),maximum:e})}function Jc(e,t){return new W2({check:"min_length",...be(t),minimum:e})}function uT(e,t){return new ej({check:"length_equals",...be(t),length:e})}function BP(e,t){return new tj({check:"string_format",format:"regex",...be(t),pattern:e})}function UP(e){return new nj({check:"string_format",format:"lowercase",...be(e)})}function $P(e){return new rj({check:"string_format",format:"uppercase",...be(e)})}function FP(e,t){return new ij({check:"string_format",format:"includes",...be(t),includes:e})}function HP(e,t){return new aj({check:"string_format",format:"starts_with",...be(t),prefix:e})}function ZP(e,t){return new sj({check:"string_format",format:"ends_with",...be(t),suffix:e})}function Qs(e){return new oj({check:"overwrite",tx:e})}function qP(e){return Qs(t=>t.normalize(e))}function VP(){return Qs(e=>e.trim())}function GP(){return Qs(e=>e.toLowerCase())}function YP(){return Qs(e=>e.toUpperCase())}function JP(){return Qs(e=>e2(e))}function XP(e,t,n){return new e({type:"array",element:t,...be(n)})}function KP(e,t,n){const r=be(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function QP(e,t,n){return new e({type:"custom",check:"custom",fn:t,...be(n)})}function WP(e){const t=eL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(El(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(El(a))}},e(n.value,n)));return t}function eL(e,t){const n=new vn({check:"custom",...be(t)});return n._zod.check=e,n}function Xc(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??sl,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function ft(e,t,n={path:[],schemaPath:[]}){var r;const a=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const c=e._zod.toJSONSchema?.();if(c)l.schema=c;else{const p={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,p);else{const b=l.schema,v=t.processors[a.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);v(e,t,b,p)}const g=e._zod.parent;g&&(l.ref||(l.ref=g),ft(g,t,p),t.seen.get(g).isParent=!0)}const h=t.metadataRegistry.get(e);return h&&Object.assign(l.schema,h),t.io==="input"&&an(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function Kc(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of e.seen.entries()){const c=e.metadataRegistry.get(l[0])?.id;if(c){const h=r.get(c);if(h&&h!==l[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,l[0])}}const a=l=>{const c=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const g=e.external.registry.get(l[0])?.id,b=e.external.uri??(E=>E);if(g)return{ref:b(g)};const v=l[1].defId??l[1].schema.id??`schema${e.counter++}`;return l[1].defId=v,{defId:v,ref:`${b("__shared")}#/${c}/${v}`}}if(l[1]===n)return{ref:"#"};const d=`#/${c}/`,p=l[1].schema.id??`__schema${e.counter++}`;return{defId:p,ref:d+p}},o=l=>{if(l[1].schema.$ref)return;const c=l[1],{ref:h,defId:d}=a(l);c.def={...c.schema},d&&(c.defId=d);const p=c.schema;for(const g in p)delete p[g];p.$ref=h};if(e.cycles==="throw")for(const l of e.seen.entries()){const c=l[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of e.seen.entries()){const c=l[1];if(t===l[0]){o(l);continue}if(e.external){const d=e.external.registry.get(l[0])?.id;if(t!==l[0]&&d){o(l);continue}}if(e.metadataRegistry.get(l[0])?.id){o(l);continue}if(c.cycle){o(l);continue}if(c.count>1&&e.reused==="ref"){o(l);continue}}}function Qc(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{const c=e.seen.get(l);if(c.ref===null)return;const h=c.def??c.schema,d={...h},p=c.ref;if(c.ref=null,p){r(p);const b=e.seen.get(p),v=b.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(h.allOf=h.allOf??[],h.allOf.push(v)):Object.assign(h,v),Object.assign(h,d),l._zod.parent===p)for(const S in h)S==="$ref"||S==="allOf"||S in d||delete h[S];if(v.$ref&&b.def)for(const S in h)S==="$ref"||S==="allOf"||S in b.def&&JSON.stringify(h[S])===JSON.stringify(b.def[S])&&delete h[S]}const g=l._zod.parent;if(g&&g!==p){r(g);const b=e.seen.get(g);if(b?.schema.$ref&&(h.$ref=b.schema.$ref,b.def))for(const v in h)v==="$ref"||v==="allOf"||v in b.def&&JSON.stringify(h[v])===JSON.stringify(b.def[v])&&delete h[v]}e.override({zodSchema:l,jsonSchema:h,path:c.path??[]})};for(const l of[...e.seen.entries()].reverse())r(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,n.def??n.schema);const o=e.external?.defs??{};for(const l of e.seen.entries()){const c=l[1];c.def&&c.defId&&(o[c.defId]=c.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?a.$defs=o:a.definitions=o);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:Wc(t,"input",e.processors),output:Wc(t,"output",e.processors)}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function an(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return an(r.element,n);if(r.type==="set")return an(r.valueType,n);if(r.type==="lazy")return an(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return an(r.innerType,n);if(r.type==="intersection")return an(r.left,n)||an(r.right,n);if(r.type==="record"||r.type==="map")return an(r.keyType,n)||an(r.valueType,n);if(r.type==="pipe")return an(r.in,n)||an(r.out,n);if(r.type==="object"){for(const a in r.shape)if(an(r.shape[a],n))return!0;return!1}if(r.type==="union"){for(const a of r.options)if(an(a,n))return!0;return!1}if(r.type==="tuple"){for(const a of r.items)if(an(a,n))return!0;return!!(r.rest&&an(r.rest,n))}return!1}const tL=(e,t={})=>n=>{const r=Xc({...n,processors:t});return ft(e,r),Kc(r,e),Qc(r,e)},Wc=(e,t,n={})=>r=>{const{libraryOptions:a,target:o}=r??{},l=Xc({...a??{},target:o,io:t,processors:n});return ft(e,l),Kc(l,e),Qc(l,e)},nL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},cT=(e,t,n,r)=>{const a=n;a.type="string";const{minimum:o,maximum:l,format:c,patterns:h,contentEncoding:d}=e._zod.bag;if(typeof o=="number"&&(a.minLength=o),typeof l=="number"&&(a.maxLength=l),c&&(a.format=nL[c]??c,a.format===""&&delete a.format,c==="time"&&delete a.format),d&&(a.contentEncoding=d),h&&h.size>0){const p=[...h];p.length===1?a.pattern=p[0].source:p.length>1&&(a.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},fT=(e,t,n,r)=>{const a=n,{minimum:o,maximum:l,format:c,multipleOf:h,exclusiveMaximum:d,exclusiveMinimum:p}=e._zod.bag;typeof c=="string"&&c.includes("int")?a.type="integer":a.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=p,a.exclusiveMinimum=!0):a.exclusiveMinimum=p),typeof o=="number"&&(a.minimum=o,typeof p=="number"&&t.target!=="draft-04"&&(p>=o?delete a.minimum:delete a.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=d,a.exclusiveMaximum=!0):a.exclusiveMaximum=d),typeof l=="number"&&(a.maximum=l,typeof d=="number"&&t.target!=="draft-04"&&(d<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof h=="number"&&(a.multipleOf=h)},dT=(e,t,n,r)=>{n.type="boolean"},rL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema")},iL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema")},hT=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},aL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema")},sL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema")},pT=(e,t,n,r)=>{n.not={}},oL=(e,t,n,r)=>{},mT=(e,t,n,r)=>{},lL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema")},gT=(e,t,n,r)=>{const a=e._zod.def,o=HE(a.entries);o.every(l=>typeof l=="number")&&(n.type="number"),o.every(l=>typeof l=="string")&&(n.type="string"),n.enum=o},yT=(e,t,n,r)=>{const a=e._zod.def,o=[];for(const l of a.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(l))}else o.push(l);if(o.length!==0)if(o.length===1){const l=o[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else o.every(l=>typeof l=="number")&&(n.type="number"),o.every(l=>typeof l=="string")&&(n.type="string"),o.every(l=>typeof l=="boolean")&&(n.type="boolean"),o.every(l=>l===null)&&(n.type="null"),n.enum=o},uL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema")},cL=(e,t,n,r)=>{const a=n,o=e._zod.pattern;if(!o)throw new Error("Pattern not found in template literal");a.type="string",a.pattern=o.source},fL=(e,t,n,r)=>{const a=n,o={type:"string",format:"binary",contentEncoding:"binary"},{minimum:l,maximum:c,mime:h}=e._zod.bag;l!==void 0&&(o.minLength=l),c!==void 0&&(o.maxLength=c),h?h.length===1?(o.contentMediaType=h[0],Object.assign(a,o)):(Object.assign(a,o),a.anyOf=h.map(d=>({contentMediaType:d}))):Object.assign(a,o)},dL=(e,t,n,r)=>{n.type="boolean"},bT=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},hL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema")},vT=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},pL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema")},mL=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema")},xT=(e,t,n,r)=>{const a=n,o=e._zod.def,{minimum:l,maximum:c}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof c=="number"&&(a.maxItems=c),a.type="array",a.items=ft(o.element,t,{...r,path:[...r.path,"items"]})},wT=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="object",a.properties={};const l=o.shape;for(const d in l)a.properties[d]=ft(l[d],t,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(l)),h=new Set([...c].filter(d=>{const p=o.shape[d]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));h.size>0&&(a.required=Array.from(h)),o.catchall?._zod.def.type==="never"?a.additionalProperties=!1:o.catchall?o.catchall&&(a.additionalProperties=ft(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},_T=(e,t,n,r)=>{const a=e._zod.def,o=a.inclusive===!1,l=a.options.map((c,h)=>ft(c,t,{...r,path:[...r.path,o?"oneOf":"anyOf",h]}));o?n.oneOf=l:n.anyOf=l},ST=(e,t,n,r)=>{const a=e._zod.def,o=ft(a.left,t,{...r,path:[...r.path,"allOf",0]}),l=ft(a.right,t,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,h=[...c(o)?o.allOf:[o],...c(l)?l.allOf:[l]];n.allOf=h},gL=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="array";const l=t.target==="draft-2020-12"?"prefixItems":"items",c=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",h=o.items.map((b,v)=>ft(b,t,{...r,path:[...r.path,l,v]})),d=o.rest?ft(o.rest,t,{...r,path:[...r.path,c,...t.target==="openapi-3.0"?[o.items.length]:[]]}):null;t.target==="draft-2020-12"?(a.prefixItems=h,d&&(a.items=d)):t.target==="openapi-3.0"?(a.items={anyOf:h},d&&a.items.anyOf.push(d),a.minItems=h.length,d||(a.maxItems=h.length)):(a.items=h,d&&(a.additionalItems=d));const{minimum:p,maximum:g}=e._zod.bag;typeof p=="number"&&(a.minItems=p),typeof g=="number"&&(a.maxItems=g)},ET=(e,t,n,r)=>{const a=n,o=e._zod.def;a.type="object";const l=o.keyType,h=l._zod.bag?.patterns;if(o.mode==="loose"&&h&&h.size>0){const p=ft(o.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});a.patternProperties={};for(const g of h)a.patternProperties[g.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(a.propertyNames=ft(o.keyType,t,{...r,path:[...r.path,"propertyNames"]})),a.additionalProperties=ft(o.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const d=l._zod.values;if(d){const p=[...d].filter(g=>typeof g=="string"||typeof g=="number");p.length>0&&(a.required=p)}},TT=(e,t,n,r)=>{const a=e._zod.def,o=ft(a.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},CT=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},AT=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},kT=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},RT=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},MT=(e,t,n,r)=>{const a=e._zod.def,o=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;ft(o,t,r);const l=t.seen.get(e);l.ref=o},OT=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType,n.readOnly=!0},yL=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},Sg=(e,t,n,r)=>{const a=e._zod.def;ft(a.innerType,t,r);const o=t.seen.get(e);o.ref=a.innerType},IT=(e,t,n,r)=>{const a=e._zod.innerType;ft(a,t,r);const o=t.seen.get(e);o.ref=a},__={string:cT,number:fT,boolean:dT,bigint:rL,symbol:iL,null:hT,undefined:aL,void:sL,never:pT,any:oL,unknown:mT,date:lL,enum:gT,literal:yT,nan:uL,template_literal:cL,file:fL,success:dL,custom:bT,function:hL,transform:vT,map:pL,set:mL,array:xT,object:wT,union:_T,intersection:ST,tuple:gL,record:ET,nullable:TT,nonoptional:CT,default:AT,prefault:kT,catch:RT,pipe:MT,readonly:OT,promise:yL,optional:Sg,lazy:IT};function bL(e,t){if("_idmap"in e){const r=e,a=Xc({...t,processors:__}),o={};for(const h of r._idmap.entries()){const[d,p]=h;ft(p,a)}const l={},c={registry:r,uri:t?.uri,defs:o};a.external=c;for(const h of r._idmap.entries()){const[d,p]=h;Kc(a,p),l[d]=Qc(a,p)}if(Object.keys(o).length>0){const h=a.target==="draft-2020-12"?"$defs":"definitions";l.__shared={[h]:o}}return{schemas:l}}const n=Xc({...t,processors:__});return ft(e,n),Kc(n,e),Qc(n,e)}const vL=X("ZodISODateTime",(e,t)=>{wj.init(e,t),_t.init(e,t)});function xL(e){return RP(vL,e)}const wL=X("ZodISODate",(e,t)=>{_j.init(e,t),_t.init(e,t)});function _L(e){return MP(wL,e)}const SL=X("ZodISOTime",(e,t)=>{Sj.init(e,t),_t.init(e,t)});function EL(e){return OP(SL,e)}const TL=X("ZodISODuration",(e,t)=>{Ej.init(e,t),_t.init(e,t)});function CL(e){return IP(TL,e)}const AL=(e,t)=>{GE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>h2(e,n)},flatten:{value:n=>d2(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,_m,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,_m,2)}},isEmpty:{get(){return e.issues.length===0}}})},Qn=X("ZodError",AL,{Parent:Error}),kL=xg(Qn),RL=wg(Qn),ML=Ef(Qn),NT=Tf(Qn),OL=g2(Qn),IL=y2(Qn),NL=b2(Qn),zL=v2(Qn),DL=x2(Qn),jL=w2(Qn),PL=_2(Qn),LL=S2(Qn),bt=X("ZodType",(e,t)=>(yt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Wc(e,"input"),output:Wc(e,"output")}}),e.toJSONSchema=tL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Gi(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Yi(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>kL(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>ML(e,n,r),e.parseAsync=async(n,r)=>RL(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>NT(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>OL(e,n,r),e.decode=(n,r)=>IL(e,n,r),e.encodeAsync=async(n,r)=>NL(e,n,r),e.decodeAsync=async(n,r)=>zL(e,n,r),e.safeEncode=(n,r)=>DL(e,n,r),e.safeDecode=(n,r)=>jL(e,n,r),e.safeEncodeAsync=async(n,r)=>PL(e,n,r),e.safeDecodeAsync=async(n,r)=>LL(e,n,r),e.refine=(n,r)=>e.check(z4(n,r)),e.superRefine=n=>e.check(D4(n)),e.overwrite=n=>e.check(Qs(n)),e.optional=()=>T_(e),e.exactOptional=()=>x4(e),e.nullable=()=>C_(e),e.nullish=()=>T_(C_(e)),e.nonoptional=n=>C4(e,n),e.array=()=>Ws(e),e.or=n=>ln([e,n]),e.and=n=>p4(e,n),e.transform=n=>A_(e,b4(n)),e.default=n=>S4(e,n),e.prefault=n=>T4(e,n),e.catch=n=>k4(e,n),e.pipe=n=>A_(e,n),e.readonly=()=>O4(e),e.describe=n=>{const r=e.clone();return sl.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return sl.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return sl.get(e);const r=e.clone();return sl.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),zT=X("_ZodString",(e,t)=>{_g.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>cT(e,r,a);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(BP(...r)),e.includes=(...r)=>e.check(FP(...r)),e.startsWith=(...r)=>e.check(HP(...r)),e.endsWith=(...r)=>e.check(ZP(...r)),e.min=(...r)=>e.check(Jc(...r)),e.max=(...r)=>e.check(lT(...r)),e.length=(...r)=>e.check(uT(...r)),e.nonempty=(...r)=>e.check(Jc(1,...r)),e.lowercase=r=>e.check(UP(r)),e.uppercase=r=>e.check($P(r)),e.trim=()=>e.check(VP()),e.normalize=(...r)=>e.check(qP(...r)),e.toLowerCase=()=>e.check(GP()),e.toUpperCase=()=>e.check(YP()),e.slugify=()=>e.check(JP())}),BL=X("ZodString",(e,t)=>{_g.init(e,t),zT.init(e,t),e.email=n=>e.check(lP(UL,n)),e.url=n=>e.check(hP($L,n)),e.jwt=n=>e.check(kP(n4,n)),e.emoji=n=>e.check(pP(FL,n)),e.guid=n=>e.check(b_(S_,n)),e.uuid=n=>e.check(uP(wc,n)),e.uuidv4=n=>e.check(cP(wc,n)),e.uuidv6=n=>e.check(fP(wc,n)),e.uuidv7=n=>e.check(dP(wc,n)),e.nanoid=n=>e.check(mP(HL,n)),e.guid=n=>e.check(b_(S_,n)),e.cuid=n=>e.check(gP(ZL,n)),e.cuid2=n=>e.check(yP(qL,n)),e.ulid=n=>e.check(bP(VL,n)),e.base64=n=>e.check(TP(WL,n)),e.base64url=n=>e.check(CP(e4,n)),e.xid=n=>e.check(vP(GL,n)),e.ksuid=n=>e.check(xP(YL,n)),e.ipv4=n=>e.check(wP(JL,n)),e.ipv6=n=>e.check(_P(XL,n)),e.cidrv4=n=>e.check(SP(KL,n)),e.cidrv6=n=>e.check(EP(QL,n)),e.e164=n=>e.check(AP(t4,n)),e.datetime=n=>e.check(xL(n)),e.date=n=>e.check(_L(n)),e.time=n=>e.check(EL(n)),e.duration=n=>e.check(CL(n))});function ce(e){return oP(BL,e)}const _t=X("ZodStringFormat",(e,t)=>{xt.init(e,t),zT.init(e,t)}),UL=X("ZodEmail",(e,t)=>{dj.init(e,t),_t.init(e,t)}),S_=X("ZodGUID",(e,t)=>{cj.init(e,t),_t.init(e,t)}),wc=X("ZodUUID",(e,t)=>{fj.init(e,t),_t.init(e,t)}),$L=X("ZodURL",(e,t)=>{hj.init(e,t),_t.init(e,t)}),FL=X("ZodEmoji",(e,t)=>{pj.init(e,t),_t.init(e,t)}),HL=X("ZodNanoID",(e,t)=>{mj.init(e,t),_t.init(e,t)}),ZL=X("ZodCUID",(e,t)=>{gj.init(e,t),_t.init(e,t)}),qL=X("ZodCUID2",(e,t)=>{yj.init(e,t),_t.init(e,t)}),VL=X("ZodULID",(e,t)=>{bj.init(e,t),_t.init(e,t)}),GL=X("ZodXID",(e,t)=>{vj.init(e,t),_t.init(e,t)}),YL=X("ZodKSUID",(e,t)=>{xj.init(e,t),_t.init(e,t)}),JL=X("ZodIPv4",(e,t)=>{Tj.init(e,t),_t.init(e,t)}),XL=X("ZodIPv6",(e,t)=>{Cj.init(e,t),_t.init(e,t)}),KL=X("ZodCIDRv4",(e,t)=>{Aj.init(e,t),_t.init(e,t)}),QL=X("ZodCIDRv6",(e,t)=>{kj.init(e,t),_t.init(e,t)}),WL=X("ZodBase64",(e,t)=>{Rj.init(e,t),_t.init(e,t)}),e4=X("ZodBase64URL",(e,t)=>{Oj.init(e,t),_t.init(e,t)}),t4=X("ZodE164",(e,t)=>{Ij.init(e,t),_t.init(e,t)}),n4=X("ZodJWT",(e,t)=>{zj.init(e,t),_t.init(e,t)}),DT=X("ZodNumber",(e,t)=>{rT.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>fT(e,r,a),e.gt=(r,a)=>e.check(x_(r,a)),e.gte=(r,a)=>e.check(kp(r,a)),e.min=(r,a)=>e.check(kp(r,a)),e.lt=(r,a)=>e.check(v_(r,a)),e.lte=(r,a)=>e.check(Ap(r,a)),e.max=(r,a)=>e.check(Ap(r,a)),e.int=r=>e.check(E_(r)),e.safe=r=>e.check(E_(r)),e.positive=r=>e.check(x_(0,r)),e.nonnegative=r=>e.check(kp(0,r)),e.negative=r=>e.check(v_(0,r)),e.nonpositive=r=>e.check(Ap(0,r)),e.multipleOf=(r,a)=>e.check(w_(r,a)),e.step=(r,a)=>e.check(w_(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function r4(e){return NP(DT,e)}const i4=X("ZodNumberFormat",(e,t)=>{Dj.init(e,t),DT.init(e,t)});function E_(e){return zP(i4,e)}const a4=X("ZodBoolean",(e,t)=>{jj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>dT(e,n,r)});function sn(e){return DP(a4,e)}const s4=X("ZodNull",(e,t)=>{Pj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>hT(e,n,r)});function o4(e){return jP(s4,e)}const l4=X("ZodUnknown",(e,t)=>{Lj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>mT()});function xr(){return PP(l4)}const u4=X("ZodNever",(e,t)=>{Bj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>pT(e,n,r)});function jT(e){return LP(u4,e)}const c4=X("ZodArray",(e,t)=>{Uj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>xT(e,n,r,a),e.element=t.element,e.min=(n,r)=>e.check(Jc(n,r)),e.nonempty=n=>e.check(Jc(1,n)),e.max=(n,r)=>e.check(lT(n,r)),e.length=(n,r)=>e.check(uT(n,r)),e.unwrap=()=>e.element});function Ws(e,t){return XP(c4,e,t)}const PT=X("ZodObject",(e,t)=>{Fj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>wT(e,n,r,a),Ze(e,"shape",()=>t.shape),e.keyof=()=>BT(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:xr()}),e.loose=()=>e.clone({...e._zod.def,catchall:xr()}),e.strict=()=>e.clone({...e._zod.def,catchall:jT()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>o2(e,n),e.safeExtend=n=>l2(e,n),e.merge=n=>u2(e,n),e.pick=n=>a2(e,n),e.omit=n=>s2(e,n),e.partial=(...n)=>c2(UT,e,n[0]),e.required=(...n)=>f2($T,e,n[0])});function lt(e,t){const n={type:"object",shape:e??{},...be(t)};return new PT(n)}function pt(e,t){return new PT({type:"object",shape:e,catchall:jT(),...be(t)})}const LT=X("ZodUnion",(e,t)=>{sT.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>_T(e,n,r,a),e.options=t.options});function ln(e,t){return new LT({type:"union",options:e,...be(t)})}const f4=X("ZodDiscriminatedUnion",(e,t)=>{LT.init(e,t),Hj.init(e,t)});function d4(e,t,n){return new f4({type:"union",options:t,discriminator:e,...be(n)})}const h4=X("ZodIntersection",(e,t)=>{Zj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>ST(e,n,r,a)});function p4(e,t){return new h4({type:"intersection",left:e,right:t})}const m4=X("ZodRecord",(e,t)=>{qj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>ET(e,n,r,a),e.keyType=t.keyType,e.valueType=t.valueType});function Tl(e,t,n){return new m4({type:"record",keyType:e,valueType:t,...be(n)})}const Em=X("ZodEnum",(e,t)=>{Vj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(r,a,o)=>gT(e,r,a),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const l of r)if(n.has(l))o[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Em({...t,checks:[],...be(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const l of r)if(n.has(l))delete o[l];else throw new Error(`Key ${l} not found in enum`);return new Em({...t,checks:[],...be(a),entries:o})}});function BT(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Em({type:"enum",entries:n,...be(t)})}const g4=X("ZodLiteral",(e,t)=>{Gj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>yT(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Te(e,t){return new g4({type:"literal",values:Array.isArray(e)?e:[e],...be(t)})}const y4=X("ZodTransform",(e,t)=>{Yj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>vT(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new $E(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(El(o,n.value,t));else{const l=o;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(El(l))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function b4(e){return new y4({type:"transform",transform:e})}const UT=X("ZodOptional",(e,t)=>{oT.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Sg(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function T_(e){return new UT({type:"optional",innerType:e})}const v4=X("ZodExactOptional",(e,t)=>{Jj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>Sg(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function x4(e){return new v4({type:"optional",innerType:e})}const w4=X("ZodNullable",(e,t)=>{Xj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>TT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function C_(e){return new w4({type:"nullable",innerType:e})}const _4=X("ZodDefault",(e,t)=>{Kj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>AT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function S4(e,t){return new _4({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():qE(t)}})}const E4=X("ZodPrefault",(e,t)=>{Qj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>kT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function T4(e,t){return new E4({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():qE(t)}})}const $T=X("ZodNonOptional",(e,t)=>{Wj.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>CT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function C4(e,t){return new $T({type:"nonoptional",innerType:e,...be(t)})}const A4=X("ZodCatch",(e,t)=>{eP.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>RT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function k4(e,t){return new A4({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const R4=X("ZodPipe",(e,t)=>{tP.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>MT(e,n,r,a),e.in=t.in,e.out=t.out});function A_(e,t){return new R4({type:"pipe",in:e,out:t})}const M4=X("ZodReadonly",(e,t)=>{nP.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>OT(e,n,r,a),e.unwrap=()=>e._zod.def.innerType});function O4(e){return new M4({type:"readonly",innerType:e})}const I4=X("ZodLazy",(e,t)=>{rP.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>IT(e,n,r,a),e.unwrap=()=>e._zod.def.getter()});function N4(e){return new I4({type:"lazy",getter:e})}const Eg=X("ZodCustom",(e,t)=>{iP.init(e,t),bt.init(e,t),e._zod.processJSONSchema=(n,r,a)=>bT(e,n)});function FT(e,t){return KP(Eg,e??(()=>!0),t)}function z4(e,t={}){return QP(Eg,e,t)}function D4(e){return WP(e)}function ef(e,t={}){const n=new Eg({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...be(t)});return n._zod.bag.Class=e,n._zod.check=r=>{r.value instanceof e||r.issues.push({code:"invalid_type",expected:e.name,input:r.value,inst:n,path:[...n._zod.def.path??[]]})},n}const HT=tt(e=>{const t=rE();return Gt(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Ar(YD({runtime:e.threads,__internal_assistantRuntime:e}))});W0(HT,{modelContext:BE(),tools:UE({}),suggestions:QD(),threadListItem:On({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:On({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:On({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const Rp=e=>{const t=new Map,n=()=>{let r=0;for(const a of t.values())r+=a;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:a=>{t.get(r)!==a&&(t.set(r,a),n())},unregister:()=>{t.delete(r),n()}}}}},j4=(e={})=>{const t=new Set,n=Rp(l=>{o.setState({height:{...o.getState().height,viewport:l}})}),r=Rp(l=>{o.setState({height:{...o.getState().height,inset:l}})}),a=Rp(l=>{o.setState({height:{...o.getState().height,userMessage:l}})}),o=$s(()=>({isAtBottom:!0,scrollToBottom:({behavior:l="auto"}={})=>{for(const c of t)c({behavior:l})},onScrollToBottom:l=>(t.add(l),()=>{t.delete(l)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:a.register}));return o};function P4(e,t){function n(r){const a=w.useContext(e);if(!r?.optional&&!a)throw new Error(`This component must be used within ${t}.`);return a}return n}const ZT=w.createContext(null),L4=P4(ZT,"ThreadPrimitive.Viewport"),{useThreadViewport:Zs,useThreadViewportStore:Af}=OE(L4,"useThreadViewport"),B4=e=>{const t=Af({optional:!0}),[n]=w.useState(()=>j4(e));return w.useEffect(()=>t?.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),w.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&_l(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),w.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&_l(n).setState(r)},[n,e.turnAnchor]),n},qT=({children:e,options:t={}})=>{const n=B4(t),[r]=w.useState(()=>({useThreadViewport:n}));return x.jsx(ZT.Provider,{value:r,children:e})},U4=e=>e._core?.RenderComponent,$4=({children:e,aui:t=null,runtime:n})=>{const r=ze({threads:HT(n)},{parent:t});w.useEffect(()=>{},[r]);const a=U4(n);return x.jsxs(kr,{value:r,children:[a&&x.jsx(a,{}),x.jsx(qT,{children:e})]})},F4=w.memo($4),H4=({index:e,archived:t,children:n})=>{const r=ze({threadListItem:On({source:"threads",query:{type:"index",index:e,archived:t},get:a=>a.threads().item({index:e,archived:t})})});return x.jsx(kr,{value:r,children:n})},Z4=({runtime:e,children:t})=>{const n=ze({threadListItem:jE({runtime:e})});return x.jsx(kr,{value:n,children:t})},q4=({index:e,children:t})=>{const n=ze({message:On({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:On({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return x.jsx(kr,{value:n,children:t})},V4=({index:e,children:t})=>{const n=ze({suggestion:On({source:"suggestions",query:{index:e},get:r=>r.suggestions().suggestion({index:e})})});return x.jsx(kr,{value:n,children:t})},G4=({index:e,children:t})=>{const n=ze({part:On({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return x.jsx(kr,{value:n,children:t})},Y4=({index:e,children:t})=>{const n=ze({attachment:On({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return x.jsx(kr,{value:n,children:t})},J4=({index:e,children:t})=>{const n=ze({attachment:On({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return x.jsx(kr,{value:n,children:t})},X4=tt(({text:e,isRunning:t})=>{const n=Ve(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),K4=({text:e,isRunning:t=!1,children:n})=>{const r=ze({part:X4({text:e,isRunning:t})});return x.jsx(kr,{value:r,children:n})};class Q4 extends xf{useRuntimeHook;instances=new Map;useAliveThreadsKeysChanged=$s(()=>({}));parent;constructor(t,n){super(),this.parent=n,this.useRuntimeHook=$s(()=>({useRuntime:t}))}startThreadRuntime(t){return this.instances.has(t)||(this.instances.set(t,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((n,r)=>{const a=()=>{const l=this.instances.get(t);if(!l)o(),r(new Error("Thread was deleted before runtime was started"));else if(l.runtime)o(),n(l.runtime);else return},o=this.subscribe(a);a()})}getThreadRuntimeCore(t){const n=this.instances.get(t);if(n)return n.runtime}stopThreadRuntime(t){this.instances.delete(t),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(t){this.useRuntimeHook.getState().useRuntime!==t&&this.useRuntimeHook.setState({useRuntime:t},!0)}_InnerActiveThreadProvider=({threadId:t})=>{const{useRuntime:n}=this.useRuntimeHook(),r=n(),a=r.thread.__internal_threadBinding,o=w.useCallback(()=>{const d=this.instances.get(t);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=a.getState(),this._notifySubscribers()},[t,a]),l=w.useRef(!1);l.current||o(),w.useEffect(()=>(l.current=!0,o(),a.outerSubscribe(o)),[a,o]);const c=ze(),h=w.useRef(void 0);return w.useEffect(()=>{const d=a.getState(),p=d.__internal_setGetInitializePromise;typeof p=="function"&&p.call(d,()=>h.current)},[a]),w.useEffect(()=>r.threads.main.unstable_on("initialize",()=>{if(c.threadListItem().getState().status==="new"){h.current=c.threadListItem().initialize();const p=r.thread.unstable_on("runEnd",()=>{p(),c.threadListItem().generateTitle()})}}),[r,c]),null};_OuterActiveThreadProvider=w.memo(({threadId:t,provider:n})=>{const r=w.useMemo(()=>new _E(this.parent).getItemById(t),[t]);return x.jsx(Z4,{runtime:r,children:x.jsx(n,{children:x.jsx(this._InnerActiveThreadProvider,{threadId:t})})})});__internal_RenderThreadRuntimes=({provider:t})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(n=>x.jsx(this._OuterActiveThreadProvider,{threadId:n,provider:t},n)))}const wt=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),W4={getMessageById(){},getBranches(){return[]},switchToBranch(){throw wt},append(){throw wt},startRun(){throw wt},resumeRun(){throw wt},cancelRun(){throw wt},addToolResult(){throw wt},resumeToolCall(){throw wt},speak(){throw wt},stopSpeaking(){throw wt},submitFeedback(){throw wt},getModelContext(){return{}},exportExternalState(){throw wt},importExternalState(){throw wt},unstable_loadExternalState(){throw wt},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw wt},async removeAttachment(){throw wt},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw wt},role:"user",setRole(){throw wt},runConfig:{},setRunConfig(){throw wt},async reset(){},async clearAttachments(){},send(){throw wt},cancel(){},dictation:void 0,startDictation(){throw wt},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw wt},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw wt},export(){return{messages:[]}},reset(){throw wt},unstable_on(){return()=>{}}},k_=(e,t,n)=>n.reduce((r,a)=>a?.(r,t)??r,e);class eB extends xf{_pendingTransforms=[];_baseValue;_cachedValue;constructor(t){super(),this._baseValue=t,this._cachedValue=t}_updateState(){this._cachedValue=this._pendingTransforms.reduce((t,n)=>k_(t,n.task,[n.loading,n.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(t){this._baseValue=t,this._updateState()}async optimisticUpdate(t){const n=t.execute(),r={...t,task:n};try{this._pendingTransforms.push(r),this._updateState();const a=await n;return this._baseValue=k_(this._baseValue,a,[t.optimistic,t.then]),a}finally{const a=this._pendingTransforms.indexOf(r);a>-1&&this._pendingTransforms.splice(a,1),this._updateState()}}}const Pc=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},_c=(e,t,n)=>{const r=Pc(e,t);if(!r)return e;const{id:a,remoteId:o,status:l}=r;if(l===n)return e;const c={...e};switch(l){case"new":c.newThreadId=void 0;break;case"regular":c.threadIds=c.threadIds.filter(h=>h!==a);break;case"archived":c.archivedThreadIds=c.archivedThreadIds.filter(h=>h!==a);break;default:{const h=l;throw new Error(`Unsupported state: ${h}`)}}switch(n){case"regular":c.threadIds=[a,...c.threadIds];break;case"archived":c.archivedThreadIds=[a,...c.archivedThreadIds];break;case"deleted":c.threadData=Object.fromEntries(Object.entries(c.threadData).filter(([h])=>h!==a)),c.threadIdMap=Object.fromEntries(Object.entries(c.threadIdMap).filter(([h])=>h!==a&&h!==o));break;default:{const h=n;throw new Error(`Unsupported state: ${h}`)}}return n!=="deleted"&&(c.threadData={...c.threadData,[a]:{...r,status:n}}),c};class tB extends xf{contextProvider;_options;_hookManager;_loadThreadsPromise;_mainThreadId;_state=new eB({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}});get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:t=>({...t,isLoading:!0}),then:(t,n)=>{const r=[],a=[],o={},l={};for(const c of n.threads){switch(c.status){case"regular":r.push(c.remoteId);break;case"archived":a.push(c.remoteId);break;default:{const d=c.status;throw new Error(`Unsupported state: ${d}`)}}const h=c.remoteId;o[c.remoteId]=h,l[h]={id:c.remoteId,remoteId:c.remoteId,externalId:c.externalId,status:c.status,title:c.title,initializeTask:Promise.resolve({remoteId:c.remoteId,externalId:c.externalId})}}return{...t,threadIds:r,archivedThreadIds:a,threadIdMap:{...t.threadIdMap,...o},threadData:{...t.threadData,...l}}}}).then(()=>{})),this._loadThreadsPromise}constructor(t,n){super(),this.contextProvider=n,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new Q4(t.runtimeHook,this),this.useProvider=$s(()=>({Provider:t.adapter.unstable_Provider??w.Fragment})),this.__internal_setOptions(t),this.switchToNewThread()}useProvider;__internal_setOptions(t){if(this._options===t)return;this._options=t;const n=t.adapter.unstable_Provider??w.Fragment;n!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:n},!0),this._hookManager.setRuntimeHook(t.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const t=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return t||W4}getThreadRuntimeCore(t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");const r=this._hookManager.getThreadRuntimeCore(n.id);if(!r)throw new Error("Thread not found");return r}getItemById(t){return Pc(this._state.value,t)}async switchToThread(t){let n=this.getItemById(t);if(!n){const a=await this._options.adapter.fetch(t),o=this._state.value,l=a.remoteId,c={...o.threadData,[l]:{id:l,initializeTask:Promise.resolve({remoteId:a.remoteId,externalId:a.externalId}),remoteId:a.remoteId,externalId:a.externalId,status:a.status,title:a.title}},h={...o.threadIdMap,[a.remoteId]:l},d=a.status==="regular"?[...o.threadIds,a.remoteId]:o.threadIds,p=a.status==="archived"?[...o.archivedThreadIds,a.remoteId]:o.archivedThreadIds;this._state.update({...o,threadIds:d,archivedThreadIds:p,threadIdMap:h,threadData:c}),n=this.getItemById(t)}if(!n)throw new Error("Thread not found");if(this._mainThreadId===n.id)return;const r=this._hookManager.startThreadRuntime(n.id);this.mainThreadId!==void 0?await r:r.then(()=>this._notifySubscribers()),n.status==="archived"&&await this.unarchive(n.id),this._mainThreadId=n.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const t=this._state.value;let n=this._state.value.newThreadId;if(n===void 0){do n=`__LOCALID_${Xs()}`;while(t.threadIdMap[n]);const r=n;this._state.update({...t,newThreadId:n,threadIdMap:{...t.threadIdMap,[n]:r},threadData:{...t.threadData,[r]:{status:"new",id:n,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(n)}initialize=async t=>{if(this._state.value.newThreadId!==t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status==="new")throw new Error("Unexpected new state");return n.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(t),optimistic:n=>_c(n,t,"regular"),loading:(n,r)=>{const a=t;return{...n,threadData:{...n.threadData,[a]:{...n.threadData[a],initializeTask:r}}}},then:(n,{remoteId:r,externalId:a})=>{const o=Pc(n,t);if(!o)return n;const l=t;return{...n,threadIdMap:{...n.threadIdMap,[r]:l},threadData:{...n.threadData,[l]:{...o,initializeTask:Promise.resolve({remoteId:r,externalId:a}),remoteId:r,externalId:a}}}}})};generateTitle=async t=>{const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:r}=await n.initializeTask,a=this._hookManager.getThreadRuntimeCore(n.id);if(!a)return;const o=a.messages,l=await this._options.adapter.generateTitle(r,o),c=ml.fromAssistantStream(l);for await(const h of c){const d=h.parts.filter(g=>g.type==="text")[0]?.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[n.id]:{...n,title:d}}})}};rename(t,n){const r=this.getItemById(t);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:a}=await r.initializeTask;return this._options.adapter.rename(a,n)},optimistic:a=>{const o=Pc(a,t);return o?{...a,threadData:{...a.threadData,[o.id]:{...o,title:n}}}:a}})}async _ensureThreadIsNotMain(t){if(t===this.newThreadId)throw new Error("Cannot ensure new thread is not main");t===this._mainThreadId&&await this.switchToNewThread()}async archive(t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(n.id);const{remoteId:r}=await n.initializeTask;return this._options.adapter.archive(r)},optimistic:r=>_c(r,n.id,"archived")})}unarchive(t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:r}=await n.initializeTask;return await this._options.adapter.unarchive(r)}catch(r){throw await this._ensureThreadIsNotMain(n.id),r}},optimistic:r=>_c(r,n.id,"regular")})}async delete(t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status!=="regular"&&n.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(n.id);const{remoteId:r}=await n.initializeTask;return await this._options.adapter.delete(r)},optimistic:r=>_c(r,n.id,"deleted")})}async detach(t){const n=this.getItemById(t);if(!n)throw new Error("Thread not found");if(n.status!=="regular"&&n.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(n.id),this._hookManager.stopThreadRuntime(n.id)}useBoundIds=$s(()=>[]);__internal_RenderComponent=()=>{const t=w.useId();w.useEffect(()=>(this.useBoundIds.setState(o=>[...o,t],!0),()=>{this.useBoundIds.setState(o=>o.filter(l=>l!==t),!0)}),[t]);const n=this.useBoundIds(),{Provider:r}=this.useProvider(),a={modelContext:this.contextProvider};return(n.length===0||n[0]===t)&&x.jsx(SE,{adapters:a,children:x.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:r})})}}class nB extends cg{threads;constructor(t){super(),this.threads=new tB(t,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const rB=e=>{const[t]=w.useState(()=>new nB(e));return w.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),w.useMemo(()=>new gg(t),[t])},iB=e=>{if(ze().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return rB(e)};var Tg=j0();const aB=Ca(Tg);var sB=Symbol.for("react.lazy"),tf=ng[" use ".trim().toString()];function oB(e){return typeof e=="object"&&e!==null&&"then"in e}function VT(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===sB&&"_payload"in e&&oB(e._payload)}function GT(e){const t=lB(e),n=w.forwardRef((r,a)=>{let{children:o,...l}=r;VT(o)&&typeof tf=="function"&&(o=tf(o._payload));const c=w.Children.toArray(o),h=c.find(cB);if(h){const d=h.props.children,p=c.map(g=>g===h?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:g);return x.jsx(t,{...l,ref:a,children:w.isValidElement(d)?w.cloneElement(d,void 0,p):null})}return x.jsx(t,{...l,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var Cg=GT("Slot");function lB(e){const t=w.forwardRef((n,r)=>{let{children:a,...o}=n;if(VT(a)&&typeof tf=="function"&&(a=tf(a._payload)),w.isValidElement(a)){const l=dB(a),c=fB(o,a.props);return a.type!==w.Fragment&&(c.ref=r?Ll(r,l):l),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uB=Symbol("radix.slottable");function cB(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uB}function fB(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...c)=>{const h=o(...c);return a(...c),h}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function dB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=hB.reduce((e,t)=>{const n=GT(`Primitive.${t}`),r=w.forwardRef((a,o)=>{const{asChild:l,...c}=a,h=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ei;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(ei||(ei={}));const pB=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>xe(({thread:r,message:a})=>e&&r.isRunning?ei.Hidden:t==="always"||t==="not-last"&&!a.isLast?a.isHovering?n==="always"||n==="single-branch"&&a.branchCount<=1?ei.Floating:ei.Normal:ei.Hidden:ei.Normal),Ag=w.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},a)=>{const o=pB({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===ei.Hidden?null:x.jsx(Lt.div,{...o===ei.Floating?{"data-floating":"true"}:null,...r,ref:a})});Ag.displayName="ActionBarPrimitive.Root";function _e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}const mB=({copiedDuration:e=3e3}={})=>{const t=ze(),n=xe(({message:l})=>(l.role!=="assistant"||l.status?.type!=="running")&&l.parts.some(c=>c.type==="text"&&c.text.length>0)),r=xe(({composer:l})=>l.isEditing),a=xe(({composer:l})=>l.text),o=w.useCallback(()=>{const l=r?a:t.message().getCopyText();l&&navigator.clipboard.writeText(l).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,a,e]);return n?o:null},YT=w.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},a)=>{const o=xe(({message:c})=>c.isCopied),l=mB({copiedDuration:e});return x.jsx(Lt.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:a,disabled:n||!l,onClick:_e(t,()=>{l?.()})})});YT.displayName="ActionBarPrimitive.Copy";const Dn=(e,t,n=[])=>{const r=w.forwardRef((a,o)=>{const l={},c={};Object.keys(a).forEach(d=>{n.includes(d)?l[d]=a[d]:c[d]=a[d]});const h=t(l)??void 0;return x.jsx(Lt.button,{type:"button",...c,ref:o,disabled:c.disabled||!h,onClick:_e(c.onClick,h)})});return r.displayName=e,r},gB=()=>{const e=ze(),t=xe(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=w.useCallback(()=>{e.message().reload()},[e]);return t?null:n},yB=Dn("ActionBarPrimitive.Reload",gB),bB=()=>{const e=ze(),t=xe(({composer:r})=>r.isEditing),n=w.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},vB=Dn("ActionBarPrimitive.Edit",bB);function JT(e,t=globalThis?.document){const n=Xt(e);w.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const xB=({filename:e,onExport:t}={})=>{const n=ze(),r=xe(({message:o})=>(o.role!=="assistant"||o.status?.type!=="running")&&o.parts.some(l=>l.type==="text"&&l.text.length>0)),a=w.useCallback(async()=>{const o=n.message().getCopyText();if(!o)return;if(t){await t(o);return}const l=new Blob([o],{type:"text/markdown"}),c=URL.createObjectURL(l),h=document.createElement("a");h.href=c,h.download=e??`message-${Date.now()}.md`,h.click(),URL.revokeObjectURL(c)},[n,e,t]);return r?a:null},XT=w.forwardRef(({filename:e,onExport:t,onClick:n,disabled:r,...a},o)=>{const l=xB({filename:e,onExport:t});return x.jsx(Lt.button,{type:"button",...a,ref:o,disabled:r||!l,onClick:_e(n,()=>{l?.()})})});XT.displayName="ActionBarPrimitive.ExportMarkdown";function wB(e,t){const n=w.createContext(t),r=o=>{const{children:l,...c}=o,h=w.useMemo(()=>c,Object.values(c));return x.jsx(n.Provider,{value:h,children:l})};r.displayName=e+"Provider";function a(o){const l=w.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function ii(e,t=[]){let n=[];function r(o,l){const c=w.createContext(l),h=n.length;n=[...n,l];const d=g=>{const{scope:b,children:v,...E}=g,S=b?.[e]?.[h]||c,T=w.useMemo(()=>E,Object.values(E));return x.jsx(S.Provider,{value:T,children:v})};d.displayName=o+"Provider";function p(g,b){const v=b?.[e]?.[h]||c,E=w.useContext(v);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[d,p]}const a=()=>{const o=n.map(l=>w.createContext(l));return function(c){const h=c?.[e]||o;return w.useMemo(()=>({[`__scope${e}`]:{...c,[e]:h}}),[c,h])}};return a.scopeName=e,[r,_B(a,...t)]}function _B(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=r.reduce((c,{useScope:h,scopeName:d})=>{const g=h(o)[`__scope${d}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Kn=globalThis?.document?w.useLayoutEffect:()=>{},SB=ng[" useInsertionEffect ".trim().toString()]||Kn;function Bl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,l]=EB({defaultProp:t,onChange:n}),c=e!==void 0,h=c?e:a;{const p=w.useRef(e!==void 0);w.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const d=w.useCallback(p=>{if(c){const g=TB(p)?p(e):p;g!==e&&l.current?.(g)}else o(p)},[c,e,o,l]);return[h,d]}function EB({defaultProp:e,onChange:t}){const[n,r]=w.useState(e),a=w.useRef(n),o=w.useRef(t);return SB(()=>{o.current=t},[t]),w.useEffect(()=>{a.current!==n&&(o.current?.(n),a.current=n)},[n,a]),[n,r,o]}function TB(e){return typeof e=="function"}function qs(e){const t=AB(e),n=w.forwardRef((r,a)=>{const{children:o,...l}=r,c=w.Children.toArray(o),h=c.find(RB);if(h){const d=h.props.children,p=c.map(g=>g===h?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:g);return x.jsx(t,{...l,ref:a,children:w.isValidElement(d)?w.cloneElement(d,void 0,p):null})}return x.jsx(t,{...l,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var CB=qs("Slot");function AB(e){const t=w.forwardRef((n,r)=>{const{children:a,...o}=n;if(w.isValidElement(a)){const l=OB(a),c=MB(o,a.props);return a.type!==w.Fragment&&(c.ref=r?Ll(r,l):l),w.cloneElement(a,c)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KT=Symbol("radix.slottable");function QT(e){const t=({children:n})=>x.jsx(x.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=KT,t}var kB=QT("Slottable");function RB(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KT}function MB(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...c)=>{const h=o(...c);return a(...c),h}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function OB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=IB.reduce((e,t)=>{const n=qs(`Primitive.${t}`),r=w.forwardRef((a,o)=>{const{asChild:l,...c}=a,h=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(h,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function WT(e,t){e&&Tg.flushSync(()=>e.dispatchEvent(t))}function e1(e){const t=e+"CollectionProvider",[n,r]=ii(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:T,children:C}=S,O=At.useRef(null),A=At.useRef(new Map).current;return x.jsx(a,{scope:T,itemMap:A,collectionRef:O,children:C})};l.displayName=t;const c=e+"CollectionSlot",h=qs(c),d=At.forwardRef((S,T)=>{const{scope:C,children:O}=S,A=o(c,C),j=gt(T,A.collectionRef);return x.jsx(h,{ref:j,children:O})});d.displayName=c;const p=e+"CollectionItemSlot",g="data-radix-collection-item",b=qs(p),v=At.forwardRef((S,T)=>{const{scope:C,children:O,...A}=S,j=At.useRef(null),F=gt(T,j),I=o(p,C);return At.useEffect(()=>(I.itemMap.set(j,{ref:j,...A}),()=>{I.itemMap.delete(j)})),x.jsx(b,{[g]:"",ref:F,children:O})});v.displayName=p;function E(S){const T=o(e+"CollectionConsumer",S);return At.useCallback(()=>{const O=T.collectionRef.current;if(!O)return[];const A=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(T.itemMap.values()).sort((I,L)=>A.indexOf(I.ref.current)-A.indexOf(L.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:d,ItemSlot:v},E,r]}var NB=w.createContext(void 0);function t1(e){const t=w.useContext(NB);return e||t||"ltr"}var zB="DismissableLayer",Tm="dismissableLayer.update",DB="dismissableLayer.pointerDownOutside",jB="dismissableLayer.focusOutside",R_,n1=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kf=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=e,d=w.useContext(n1),[p,g]=w.useState(null),b=p?.ownerDocument??globalThis?.document,[,v]=w.useState({}),E=gt(t,L=>g(L)),S=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=S.indexOf(T),O=p?S.indexOf(p):-1,A=d.layersWithOutsidePointerEventsDisabled.size>0,j=O>=C,F=BB(L=>{const $=L.target,se=[...d.branches].some(B=>B.contains($));!j||se||(a?.(L),l?.(L),L.defaultPrevented||c?.())},b),I=UB(L=>{const $=L.target;[...d.branches].some(B=>B.contains($))||(o?.(L),l?.(L),L.defaultPrevented||c?.())},b);return JT(L=>{O===d.layers.size-1&&(r?.(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},b),w.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(R_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),M_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=R_)}},[p,b,n,d]),w.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),M_())},[p,d]),w.useEffect(()=>{const L=()=>v({});return document.addEventListener(Tm,L),()=>document.removeEventListener(Tm,L)},[]),x.jsx(at.div,{...h,ref:E,style:{pointerEvents:A?j?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,I.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,F.onPointerDownCapture)})});kf.displayName=zB;var PB="DismissableLayerBranch",LB=w.forwardRef((e,t)=>{const n=w.useContext(n1),r=w.useRef(null),a=gt(t,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),x.jsx(at.div,{...e,ref:a})});LB.displayName=PB;function BB(e,t=globalThis?.document){const n=Xt(e),r=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let h=function(){r1(DB,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UB(e,t=globalThis?.document){const n=Xt(e),r=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!r.current&&r1(jB,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M_(){const e=new CustomEvent(Tm);document.dispatchEvent(e)}function r1(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?WT(a,o):a.dispatchEvent(o)}var Mp=0;function i1(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??O_()),document.body.insertAdjacentElement("beforeend",e[1]??O_()),Mp++,()=>{Mp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mp--}},[])}function O_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Op="focusScope.autoFocusOnMount",Ip="focusScope.autoFocusOnUnmount",I_={bubbles:!1,cancelable:!0},$B="FocusScope",kg=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[c,h]=w.useState(null),d=Xt(a),p=Xt(o),g=w.useRef(null),b=gt(t,S=>h(S)),v=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let S=function(A){if(v.paused||!c)return;const j=A.target;c.contains(j)?g.current=j:Ni(g.current,{select:!0})},T=function(A){if(v.paused||!c)return;const j=A.relatedTarget;j!==null&&(c.contains(j)||Ni(g.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const F of A)F.removedNodes.length>0&&Ni(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",T);const O=new MutationObserver(C);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",T),O.disconnect()}}},[r,c,v.paused]),w.useEffect(()=>{if(c){z_.add(v);const S=document.activeElement;if(!c.contains(S)){const C=new CustomEvent(Op,I_);c.addEventListener(Op,d),c.dispatchEvent(C),C.defaultPrevented||(FB(GB(a1(c)),{select:!0}),document.activeElement===S&&Ni(c))}return()=>{c.removeEventListener(Op,d),setTimeout(()=>{const C=new CustomEvent(Ip,I_);c.addEventListener(Ip,p),c.dispatchEvent(C),C.defaultPrevented||Ni(S??document.body,{select:!0}),c.removeEventListener(Ip,p),z_.remove(v)},0)}}},[c,d,p,v]);const E=w.useCallback(S=>{if(!n&&!r||v.paused)return;const T=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,C=document.activeElement;if(T&&C){const O=S.currentTarget,[A,j]=HB(O);A&&j?!S.shiftKey&&C===j?(S.preventDefault(),n&&Ni(A,{select:!0})):S.shiftKey&&C===A&&(S.preventDefault(),n&&Ni(j,{select:!0})):C===O&&S.preventDefault()}},[n,r,v.paused]);return x.jsx(at.div,{tabIndex:-1,...l,ref:b,onKeyDown:E})});kg.displayName=$B;function FB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ni(r,{select:t}),document.activeElement!==n)return}function HB(e){const t=a1(e),n=N_(t,e),r=N_(t.reverse(),e);return[n,r]}function a1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function N_(e,t){for(const n of e)if(!ZB(n,{upTo:t}))return n}function ZB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qB(e){return e instanceof HTMLInputElement&&"select"in e}function Ni(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&qB(e)&&t&&e.select()}}var z_=VB();function VB(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=D_(e,t),e.unshift(t)},remove(t){e=D_(e,t),e[0]?.resume()}}}function D_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function GB(e){return e.filter(t=>t.tagName!=="A")}var YB=ng[" useId ".trim().toString()]||(()=>{}),JB=0;function Bi(e){const[t,n]=w.useState(YB());return Kn(()=>{n(r=>r??String(JB++))},[e]),t?`radix-${t}`:""}const XB=["top","right","bottom","left"],Zi=Math.min,Mn=Math.max,nf=Math.round,Sc=Math.floor,Er=e=>({x:e,y:e}),KB={left:"right",right:"left",bottom:"top",top:"bottom"},QB={start:"end",end:"start"};function Cm(e,t,n){return Mn(e,Zi(t,n))}function ni(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function eo(e){return e.split("-")[1]}function Rg(e){return e==="x"?"y":"x"}function Mg(e){return e==="y"?"height":"width"}const WB=new Set(["top","bottom"]);function Sr(e){return WB.has(ri(e))?"y":"x"}function Og(e){return Rg(Sr(e))}function e3(e,t,n){n===void 0&&(n=!1);const r=eo(e),a=Og(e),o=Mg(a);let l=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=rf(l)),[l,rf(l)]}function t3(e){const t=rf(e);return[Am(e),t,Am(t)]}function Am(e){return e.replace(/start|end/g,t=>QB[t])}const j_=["left","right"],P_=["right","left"],n3=["top","bottom"],r3=["bottom","top"];function i3(e,t,n){switch(e){case"top":case"bottom":return n?t?P_:j_:t?j_:P_;case"left":case"right":return t?n3:r3;default:return[]}}function a3(e,t,n,r){const a=eo(e);let o=i3(ri(e),n==="start",r);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(Am)))),o}function rf(e){return e.replace(/left|right|bottom|top/g,t=>KB[t])}function s3(e){return{top:0,right:0,bottom:0,left:0,...e}}function s1(e){return typeof e!="number"?s3(e):{top:e,right:e,bottom:e,left:e}}function af(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function L_(e,t,n){let{reference:r,floating:a}=e;const o=Sr(t),l=Og(t),c=Mg(l),h=ri(t),d=o==="y",p=r.x+r.width/2-a.width/2,g=r.y+r.height/2-a.height/2,b=r[c]/2-a[c]/2;let v;switch(h){case"top":v={x:p,y:r.y-a.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:g};break;case"left":v={x:r.x-a.width,y:g};break;default:v={x:r.x,y:r.y}}switch(eo(t)){case"start":v[l]-=b*(n&&d?-1:1);break;case"end":v[l]+=b*(n&&d?-1:1);break}return v}async function o3(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:l,elements:c,strategy:h}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:v=0}=ni(t,e),E=s1(v),T=c[b?g==="floating"?"reference":"floating":g],C=af(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(T)))==null||n?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:h})),O=g==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},F=af(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:A,strategy:h}):O);return{top:(C.top-F.top+E.top)/j.y,bottom:(F.bottom-C.bottom+E.bottom)/j.y,left:(C.left-F.left+E.left)/j.x,right:(F.right-C.right+E.right)/j.x}}const l3=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:g}=L_(d,r,h),b=r,v={},E=0;for(let T=0;T<c.length;T++){var S;const{name:C,fn:O}=c[T],{x:A,y:j,data:F,reset:I}=await O({x:p,y:g,initialPlacement:r,placement:b,strategy:a,middlewareData:v,rects:d,platform:{...l,detectOverflow:(S=l.detectOverflow)!=null?S:o3},elements:{reference:e,floating:t}});p=A??p,g=j??g,v={...v,[C]:{...v[C],...F}},I&&E<=50&&(E++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(d=I.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):I.rects),{x:p,y:g}=L_(d,b,h)),T=-1)}return{x:p,y:g,placement:b,strategy:a,middlewareData:v}},u3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:l,elements:c,middlewareData:h}=t,{element:d,padding:p=0}=ni(e,t)||{};if(d==null)return{};const g=s1(p),b={x:n,y:r},v=Og(a),E=Mg(v),S=await l.getDimensions(d),T=v==="y",C=T?"top":"left",O=T?"bottom":"right",A=T?"clientHeight":"clientWidth",j=o.reference[E]+o.reference[v]-b[v]-o.floating[E],F=b[v]-o.reference[v],I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let L=I?I[A]:0;(!L||!await(l.isElement==null?void 0:l.isElement(I)))&&(L=c.floating[A]||o.floating[E]);const $=j/2-F/2,se=L/2-S[E]/2-1,B=Zi(g[C],se),ne=Zi(g[O],se),re=B,he=L-S[E]-ne,oe=L/2-S[E]/2+$,te=Cm(re,oe,he),P=!h.arrow&&eo(a)!=null&&oe!==te&&o.reference[E]/2-(oe<re?B:ne)-S[E]/2<0,K=P?oe<re?oe-re:oe-he:0;return{[v]:b[v]+K,data:{[v]:te,centerOffset:oe-te-K,...P&&{alignmentOffset:K}},reset:P}}}),c3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...T}=ni(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const C=ri(a),O=Sr(c),A=ri(c)===c,j=await(h.isRTL==null?void 0:h.isRTL(d.floating)),F=b||(A||!S?[rf(c)]:t3(c)),I=E!=="none";!b&&I&&F.push(...a3(c,S,E,j));const L=[c,...F],$=await h.detectOverflow(t,T),se=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&se.push($[C]),g){const oe=e3(a,l,j);se.push($[oe[0]],$[oe[1]])}if(B=[...B,{placement:a,overflows:se}],!se.every(oe=>oe<=0)){var ne,re;const oe=(((ne=o.flip)==null?void 0:ne.index)||0)+1,te=L[oe];if(te&&(!(g==="alignment"?O!==Sr(te):!1)||B.every(V=>Sr(V.placement)===O?V.overflows[0]>0:!0)))return{data:{index:oe,overflows:B},reset:{placement:te}};let P=(re=B.filter(K=>K.overflows[0]<=0).sort((K,V)=>K.overflows[1]-V.overflows[1])[0])==null?void 0:re.placement;if(!P)switch(v){case"bestFit":{var he;const K=(he=B.filter(V=>{if(I){const ie=Sr(V.placement);return ie===O||ie==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ie=>ie>0).reduce((ie,M)=>ie+M,0)]).sort((V,ie)=>V[1]-ie[1])[0])==null?void 0:he[0];K&&(P=K);break}case"initialPlacement":P=c;break}if(a!==P)return{reset:{placement:P}}}return{}}}};function B_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U_(e){return XB.some(t=>e[t]>=0)}const f3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:a="referenceHidden",...o}=ni(e,t);switch(a){case"referenceHidden":{const l=await r.detectOverflow(t,{...o,elementContext:"reference"}),c=B_(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:U_(c)}}}case"escaped":{const l=await r.detectOverflow(t,{...o,altBoundary:!0}),c=B_(l,n.floating);return{data:{escapedOffsets:c,escaped:U_(c)}}}default:return{}}}}},o1=new Set(["left","top"]);async function d3(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=ri(n),c=eo(n),h=Sr(n)==="y",d=o1.has(l)?-1:1,p=o&&h?-1:1,g=ni(t,e);let{mainAxis:b,crossAxis:v,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof E=="number"&&(v=c==="end"?E*-1:E),h?{x:v*p,y:b*d}:{x:b*d,y:v*p}}const h3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:l,middlewareData:c}=t,h=await d3(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:l}}}}},p3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a,platform:o}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:h={fn:C=>{let{x:O,y:A}=C;return{x:O,y:A}}},...d}=ni(e,t),p={x:n,y:r},g=await o.detectOverflow(t,d),b=Sr(ri(a)),v=Rg(b);let E=p[v],S=p[b];if(l){const C=v==="y"?"top":"left",O=v==="y"?"bottom":"right",A=E+g[C],j=E-g[O];E=Cm(A,E,j)}if(c){const C=b==="y"?"top":"left",O=b==="y"?"bottom":"right",A=S+g[C],j=S-g[O];S=Cm(A,S,j)}const T=h.fn({...t,[v]:E,[b]:S});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:l,[b]:c}}}}}},m3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=ni(e,t),p={x:n,y:r},g=Sr(a),b=Rg(g);let v=p[b],E=p[g];const S=ni(c,t),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const A=b==="y"?"height":"width",j=o.reference[b]-o.floating[A]+T.mainAxis,F=o.reference[b]+o.reference[A]-T.mainAxis;v<j?v=j:v>F&&(v=F)}if(d){var C,O;const A=b==="y"?"width":"height",j=o1.has(ri(a)),F=o.reference[g]-o.floating[A]+(j&&((C=l.offset)==null?void 0:C[g])||0)+(j?0:T.crossAxis),I=o.reference[g]+o.reference[A]+(j?0:((O=l.offset)==null?void 0:O[g])||0)-(j?T.crossAxis:0);E<F?E=F:E>I&&(E=I)}return{[b]:v,[g]:E}}}},g3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:l,elements:c}=t,{apply:h=()=>{},...d}=ni(e,t),p=await l.detectOverflow(t,d),g=ri(a),b=eo(a),v=Sr(a)==="y",{width:E,height:S}=o.floating;let T,C;g==="top"||g==="bottom"?(T=g,C=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=g,T=b==="end"?"top":"bottom");const O=S-p.top-p.bottom,A=E-p.left-p.right,j=Zi(S-p[T],O),F=Zi(E-p[C],A),I=!t.middlewareData.shift;let L=j,$=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(L=O),I&&!b){const B=Mn(p.left,0),ne=Mn(p.right,0),re=Mn(p.top,0),he=Mn(p.bottom,0);v?$=E-2*(B!==0||ne!==0?B+ne:Mn(p.left,p.right)):L=S-2*(re!==0||he!==0?re+he:Mn(p.top,p.bottom))}await h({...t,availableWidth:$,availableHeight:L});const se=await l.getDimensions(c.floating);return E!==se.width||S!==se.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function to(e){return l1(e)?(e.nodeName||"").toLowerCase():"#document"}function In(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rr(e){var t;return(t=(l1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function l1(e){return Rf()?e instanceof Node||e instanceof In(e).Node:!1}function cr(e){return Rf()?e instanceof Element||e instanceof In(e).Element:!1}function Tr(e){return Rf()?e instanceof HTMLElement||e instanceof In(e).HTMLElement:!1}function $_(e){return!Rf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof In(e).ShadowRoot}const y3=new Set(["inline","contents"]);function Ul(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=fr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!y3.has(a)}const b3=new Set(["table","td","th"]);function v3(e){return b3.has(to(e))}const x3=[":popover-open",":modal"];function Mf(e){return x3.some(t=>{try{return e.matches(t)}catch{return!1}})}const w3=["transform","translate","scale","rotate","perspective"],_3=["transform","translate","scale","rotate","perspective","filter"],S3=["paint","layout","strict","content"];function Ig(e){const t=Ng(),n=cr(e)?fr(e):e;return w3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||_3.some(r=>(n.willChange||"").includes(r))||S3.some(r=>(n.contain||"").includes(r))}function E3(e){let t=qi(e);for(;Tr(t)&&!Vs(t);){if(Ig(t))return t;if(Mf(t))return null;t=qi(t)}return null}function Ng(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const T3=new Set(["html","body","#document"]);function Vs(e){return T3.has(to(e))}function fr(e){return In(e).getComputedStyle(e)}function Of(e){return cr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qi(e){if(to(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$_(e)&&e.host||Rr(e);return $_(t)?t.host:t}function u1(e){const t=qi(e);return Vs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tr(t)&&Ul(t)?t:u1(t)}function Cl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=u1(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),l=In(a);if(o){const c=km(l);return t.concat(l,l.visualViewport||[],Ul(a)?a:[],c&&n?Cl(c):[])}return t.concat(a,Cl(a,[],n))}function km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function c1(e){const t=fr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Tr(e),o=a?e.offsetWidth:n,l=a?e.offsetHeight:r,c=nf(n)!==o||nf(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function zg(e){return cr(e)?e:e.contextElement}function Ds(e){const t=zg(e);if(!Tr(t))return Er(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=c1(t);let l=(o?nf(n.width):n.width)/r,c=(o?nf(n.height):n.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const C3=Er(0);function f1(e){const t=In(e);return!Ng()||!t.visualViewport?C3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function A3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==In(e)?!1:t}function _a(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=zg(e);let l=Er(1);t&&(r?cr(r)&&(l=Ds(r)):l=Ds(e));const c=A3(o,n,r)?f1(o):Er(0);let h=(a.left+c.x)/l.x,d=(a.top+c.y)/l.y,p=a.width/l.x,g=a.height/l.y;if(o){const b=In(o),v=r&&cr(r)?In(r):r;let E=b,S=km(E);for(;S&&r&&v!==E;){const T=Ds(S),C=S.getBoundingClientRect(),O=fr(S),A=C.left+(S.clientLeft+parseFloat(O.paddingLeft))*T.x,j=C.top+(S.clientTop+parseFloat(O.paddingTop))*T.y;h*=T.x,d*=T.y,p*=T.x,g*=T.y,h+=A,d+=j,E=In(S),S=km(E)}}return af({width:p,height:g,x:h,y:d})}function If(e,t){const n=Of(e).scrollLeft;return t?t.left+n:_a(Rr(e)).left+n}function d1(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-If(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function k3(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",l=Rr(r),c=t?Mf(t.floating):!1;if(r===l||c&&o)return n;let h={scrollLeft:0,scrollTop:0},d=Er(1);const p=Er(0),g=Tr(r);if((g||!g&&!o)&&((to(r)!=="body"||Ul(l))&&(h=Of(r)),Tr(r))){const v=_a(r);d=Ds(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const b=l&&!g&&!o?d1(l,h):Er(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-h.scrollLeft*d.x+p.x+b.x,y:n.y*d.y-h.scrollTop*d.y+p.y+b.y}}function R3(e){return Array.from(e.getClientRects())}function M3(e){const t=Rr(e),n=Of(e),r=e.ownerDocument.body,a=Mn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Mn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+If(e);const c=-n.scrollTop;return fr(r).direction==="rtl"&&(l+=Mn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:c}}const F_=25;function O3(e,t){const n=In(e),r=Rr(e),a=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,h=0;if(a){o=a.width,l=a.height;const p=Ng();(!p||p&&t==="fixed")&&(c=a.offsetLeft,h=a.offsetTop)}const d=If(r);if(d<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),v=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(r.clientWidth-g.clientWidth-v);E<=F_&&(o-=E)}else d<=F_&&(o+=d);return{width:o,height:l,x:c,y:h}}const I3=new Set(["absolute","fixed"]);function N3(e,t){const n=_a(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Tr(e)?Ds(e):Er(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,h=a*o.x,d=r*o.y;return{width:l,height:c,x:h,y:d}}function H_(e,t,n){let r;if(t==="viewport")r=O3(e,n);else if(t==="document")r=M3(Rr(e));else if(cr(t))r=N3(t,n);else{const a=f1(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return af(r)}function h1(e,t){const n=qi(e);return n===t||!cr(n)||Vs(n)?!1:fr(n).position==="fixed"||h1(n,t)}function z3(e,t){const n=t.get(e);if(n)return n;let r=Cl(e,[],!1).filter(c=>cr(c)&&to(c)!=="body"),a=null;const o=fr(e).position==="fixed";let l=o?qi(e):e;for(;cr(l)&&!Vs(l);){const c=fr(l),h=Ig(l);!h&&c.position==="fixed"&&(a=null),(o?!h&&!a:!h&&c.position==="static"&&!!a&&I3.has(a.position)||Ul(l)&&!h&&h1(e,l))?r=r.filter(p=>p!==l):a=c,l=qi(l)}return t.set(e,r),r}function D3(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const l=[...n==="clippingAncestors"?Mf(t)?[]:z3(t,this._c):[].concat(n),r],c=l[0],h=l.reduce((d,p)=>{const g=H_(t,p,a);return d.top=Mn(g.top,d.top),d.right=Zi(g.right,d.right),d.bottom=Zi(g.bottom,d.bottom),d.left=Mn(g.left,d.left),d},H_(t,c,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function j3(e){const{width:t,height:n}=c1(e);return{width:t,height:n}}function P3(e,t,n){const r=Tr(t),a=Rr(t),o=n==="fixed",l=_a(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const h=Er(0);function d(){h.x=If(a)}if(r||!r&&!o)if((to(t)!=="body"||Ul(a))&&(c=Of(t)),r){const v=_a(t,!0,o,t);h.x=v.x+t.clientLeft,h.y=v.y+t.clientTop}else a&&d();o&&!r&&a&&d();const p=a&&!r&&!o?d1(a,c):Er(0),g=l.left+c.scrollLeft-h.x-p.x,b=l.top+c.scrollTop-h.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function Np(e){return fr(e).position==="static"}function Z_(e,t){if(!Tr(e)||fr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Rr(e)===n&&(n=n.ownerDocument.body),n}function p1(e,t){const n=In(e);if(Mf(e))return n;if(!Tr(e)){let a=qi(e);for(;a&&!Vs(a);){if(cr(a)&&!Np(a))return a;a=qi(a)}return n}let r=Z_(e,t);for(;r&&v3(r)&&Np(r);)r=Z_(r,t);return r&&Vs(r)&&Np(r)&&!Ig(r)?n:r||E3(e)||n}const L3=async function(e){const t=this.getOffsetParent||p1,n=this.getDimensions,r=await n(e.floating);return{reference:P3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B3(e){return fr(e).direction==="rtl"}const U3={convertOffsetParentRelativeRectToViewportRelativeRect:k3,getDocumentElement:Rr,getClippingRect:D3,getOffsetParent:p1,getElementRects:L3,getClientRects:R3,getDimensions:j3,getScale:Ds,isElement:cr,isRTL:B3};function m1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $3(e,t){let n=null,r;const a=Rr(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const d=e.getBoundingClientRect(),{left:p,top:g,width:b,height:v}=d;if(c||t(),!b||!v)return;const E=Sc(g),S=Sc(a.clientWidth-(p+b)),T=Sc(a.clientHeight-(g+v)),C=Sc(p),A={rootMargin:-E+"px "+-S+"px "+-T+"px "+-C+"px",threshold:Mn(0,Zi(1,h))||1};let j=!0;function F(I){const L=I[0].intersectionRatio;if(L!==h){if(!j)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!m1(d,e.getBoundingClientRect())&&l(),j=!1}try{n=new IntersectionObserver(F,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,A)}n.observe(e)}return l(!0),o}function F3(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,d=zg(e),p=a||o?[...d?Cl(d):[],...Cl(t)]:[];p.forEach(C=>{a&&C.addEventListener("scroll",n,{passive:!0}),o&&C.addEventListener("resize",n)});const g=d&&c?$3(d,n):null;let b=-1,v=null;l&&(v=new ResizeObserver(C=>{let[O]=C;O&&O.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(t)})),n()}),d&&!h&&v.observe(d),v.observe(t));let E,S=h?_a(e):null;h&&T();function T(){const C=_a(e);S&&!m1(S,C)&&n(),S=C,E=requestAnimationFrame(T)}return n(),()=>{var C;p.forEach(O=>{a&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),g?.(),(C=v)==null||C.disconnect(),v=null,h&&cancelAnimationFrame(E)}}const H3=h3,Z3=p3,q3=c3,V3=g3,G3=f3,q_=u3,Y3=m3,J3=(e,t,n)=>{const r=new Map,a={platform:U3,...n},o={...a.platform,_c:r};return l3(e,t,{...a,platform:o})};var X3=typeof document<"u",K3=function(){},Lc=X3?w.useLayoutEffect:K3;function sf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sf(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!sf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function g1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function V_(e,t){const n=g1(e);return Math.round(t*n)/n}function zp(e){const t=w.useRef(e);return Lc(()=>{t.current=e}),t}function Q3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:h,open:d}=e,[p,g]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,v]=w.useState(r);sf(b,r)||v(r);const[E,S]=w.useState(null),[T,C]=w.useState(null),O=w.useCallback(V=>{V!==I.current&&(I.current=V,S(V))},[]),A=w.useCallback(V=>{V!==L.current&&(L.current=V,C(V))},[]),j=o||E,F=l||T,I=w.useRef(null),L=w.useRef(null),$=w.useRef(p),se=h!=null,B=zp(h),ne=zp(a),re=zp(d),he=w.useCallback(()=>{if(!I.current||!L.current)return;const V={placement:t,strategy:n,middleware:b};ne.current&&(V.platform=ne.current),J3(I.current,L.current,V).then(ie=>{const M={...ie,isPositioned:re.current!==!1};oe.current&&!sf($.current,M)&&($.current=M,Tg.flushSync(()=>{g(M)}))})},[b,t,n,ne,re]);Lc(()=>{d===!1&&$.current.isPositioned&&($.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[d]);const oe=w.useRef(!1);Lc(()=>(oe.current=!0,()=>{oe.current=!1}),[]),Lc(()=>{if(j&&(I.current=j),F&&(L.current=F),j&&F){if(B.current)return B.current(j,F,he);he()}},[j,F,he,B,se]);const te=w.useMemo(()=>({reference:I,floating:L,setReference:O,setFloating:A}),[O,A]),P=w.useMemo(()=>({reference:j,floating:F}),[j,F]),K=w.useMemo(()=>{const V={position:n,left:0,top:0};if(!P.floating)return V;const ie=V_(P.floating,p.x),M=V_(P.floating,p.y);return c?{...V,transform:"translate("+ie+"px, "+M+"px)",...g1(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ie,top:M}},[n,c,P.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:he,refs:te,elements:P,floatingStyles:K}),[p,he,te,P,K])}const W3=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?q_({element:r.current,padding:a}).fn(n):{}:r?q_({element:r,padding:a}).fn(n):{}}}},eU=(e,t)=>({...H3(e),options:[e,t]}),tU=(e,t)=>({...Z3(e),options:[e,t]}),nU=(e,t)=>({...Y3(e),options:[e,t]}),rU=(e,t)=>({...q3(e),options:[e,t]}),iU=(e,t)=>({...V3(e),options:[e,t]}),aU=(e,t)=>({...G3(e),options:[e,t]}),sU=(e,t)=>({...W3(e),options:[e,t]});var oU="Arrow",y1=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return x.jsx(at.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});y1.displayName=oU;var lU=y1;function uU(e){const[t,n]=w.useState(void 0);return Kn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,c;if("borderBoxSize"in o){const h=o.borderBoxSize,d=Array.isArray(h)?h[0]:h;l=d.inlineSize,c=d.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dg="Popper",[b1,Nf]=ii(Dg),[cU,v1]=b1(Dg),x1=e=>{const{__scopePopper:t,children:n}=e,[r,a]=w.useState(null);return x.jsx(cU,{scope:t,anchor:r,onAnchorChange:a,children:n})};x1.displayName=Dg;var w1="PopperAnchor",_1=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=v1(w1,n),l=w.useRef(null),c=gt(t,l),h=w.useRef(null);return w.useEffect(()=>{const d=h.current;h.current=r?.current||l.current,d!==h.current&&o.onAnchorChange(h.current)}),r?null:x.jsx(at.div,{...a,ref:c})});_1.displayName=w1;var jg="PopperContent",[fU,dU]=b1(jg),S1=w.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:v="optimized",onPlaced:E,...S}=e,T=v1(jg,n),[C,O]=w.useState(null),A=gt(t,fe=>O(fe)),[j,F]=w.useState(null),I=uU(j),L=I?.width??0,$=I?.height??0,se=r+(o!=="center"?"-"+o:""),B=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ne=Array.isArray(d)?d:[d],re=ne.length>0,he={padding:B,boundary:ne.filter(pU),altBoundary:re},{refs:oe,floatingStyles:te,placement:P,isPositioned:K,middlewareData:V}=Q3({strategy:"fixed",placement:se,whileElementsMounted:(...fe)=>F3(...fe,{animationFrame:v==="always"}),elements:{reference:T.anchor},middleware:[eU({mainAxis:a+$,alignmentAxis:l}),h&&tU({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?nU():void 0,...he}),h&&rU({...he}),iU({...he,apply:({elements:fe,rects:Ge,availableWidth:$e,availableHeight:zt})=>{const{width:Qt,height:jn}=Ge.reference,Or=fe.floating.style;Or.setProperty("--radix-popper-available-width",`${$e}px`),Or.setProperty("--radix-popper-available-height",`${zt}px`),Or.setProperty("--radix-popper-anchor-width",`${Qt}px`),Or.setProperty("--radix-popper-anchor-height",`${jn}px`)}}),j&&sU({element:j,padding:c}),mU({arrowWidth:L,arrowHeight:$}),b&&aU({strategy:"referenceHidden",...he})]}),[ie,M]=C1(P),z=Xt(E);Kn(()=>{K&&z?.()},[K,z]);const Y=V.arrow?.x,R=V.arrow?.y,ae=V.arrow?.centerOffset!==0,[ve,de]=w.useState();return Kn(()=>{C&&de(window.getComputedStyle(C).zIndex)},[C]),x.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:K?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(fU,{scope:n,placedSide:ie,onArrowChange:F,arrowX:Y,arrowY:R,shouldHideArrow:ae,children:x.jsx(at.div,{"data-side":ie,"data-align":M,...S,ref:A,style:{...S.style,animation:K?void 0:"none"}})})})});S1.displayName=jg;var E1="PopperArrow",hU={top:"bottom",right:"left",bottom:"top",left:"right"},T1=w.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=dU(E1,r),l=hU[o.placedSide];return x.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:x.jsx(lU,{...a,ref:n,style:{...a.style,display:"block"}})})});T1.displayName=E1;function pU(e){return e!==null}var mU=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,l=a.arrow?.centerOffset!==0,c=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[d,p]=C1(n),g={start:"0%",center:"50%",end:"100%"}[p],b=(a.arrow?.x??0)+c/2,v=(a.arrow?.y??0)+h/2;let E="",S="";return d==="bottom"?(E=l?g:`${b}px`,S=`${-h}px`):d==="top"?(E=l?g:`${b}px`,S=`${r.floating.height+h}px`):d==="right"?(E=`${-h}px`,S=l?g:`${v}px`):d==="left"&&(E=`${r.floating.width+h}px`,S=l?g:`${v}px`),{data:{x:E,y:S}}}});function C1(e){const[t,n="center"]=e.split("-");return[t,n]}var A1=x1,k1=_1,R1=S1,M1=T1,gU="Portal",zf=w.forwardRef((e,t)=>{const{container:n,...r}=e,[a,o]=w.useState(!1);Kn(()=>o(!0),[]);const l=n||a&&globalThis?.document?.body;return l?aB.createPortal(x.jsx(at.div,{...r,ref:t}),l):null});zf.displayName=gU;function yU(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var dr=e=>{const{present:t,children:n}=e,r=bU(t),a=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=gt(r.ref,vU(a));return typeof n=="function"||r.isPresent?w.cloneElement(a,{ref:o}):null};dr.displayName="Presence";function bU(e){const[t,n]=w.useState(),r=w.useRef(null),a=w.useRef(e),o=w.useRef("none"),l=e?"mounted":"unmounted",[c,h]=yU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=Ec(r.current);o.current=c==="mounted"?d:"none"},[c]),Kn(()=>{const d=r.current,p=a.current;if(p!==e){const b=o.current,v=Ec(d);e?h("MOUNT"):v==="none"||d?.display==="none"?h("UNMOUNT"):h(p&&b!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Kn(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,g=v=>{const S=Ec(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&S&&(h("ANIMATION_END"),!a.current)){const T=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=T)})}},b=v=>{v.target===t&&(o.current=Ec(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Ec(e){return e?.animationName||"none"}function vU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dp="rovingFocusGroup.onEntryFocus",xU={bubbles:!1,cancelable:!0},$l="RovingFocusGroup",[Rm,O1,wU]=e1($l),[_U,I1]=ii($l,[wU]),[SU,EU]=_U($l),N1=w.forwardRef((e,t)=>x.jsx(Rm.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(Rm.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(TU,{...e,ref:t})})}));N1.displayName=$l;var TU=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=e,b=w.useRef(null),v=gt(t,b),E=t1(o),[S,T]=Bl({prop:l,defaultProp:c??null,onChange:h,caller:$l}),[C,O]=w.useState(!1),A=Xt(d),j=O1(n),F=w.useRef(!1),[I,L]=w.useState(0);return w.useEffect(()=>{const $=b.current;if($)return $.addEventListener(Dp,A),()=>$.removeEventListener(Dp,A)},[A]),x.jsx(SU,{scope:n,orientation:r,dir:E,loop:a,currentTabStopId:S,onItemFocus:w.useCallback($=>T($),[T]),onItemShiftTab:w.useCallback(()=>O(!0),[]),onFocusableItemAdd:w.useCallback(()=>L($=>$+1),[]),onFocusableItemRemove:w.useCallback(()=>L($=>$-1),[]),children:x.jsx(at.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...g,ref:v,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{F.current=!0}),onFocus:_e(e.onFocus,$=>{const se=!F.current;if($.target===$.currentTarget&&se&&!C){const B=new CustomEvent(Dp,xU);if($.currentTarget.dispatchEvent(B),!B.defaultPrevented){const ne=j().filter(P=>P.focusable),re=ne.find(P=>P.active),he=ne.find(P=>P.id===S),te=[re,he,...ne].filter(Boolean).map(P=>P.ref.current);j1(te,p)}}F.current=!1}),onBlur:_e(e.onBlur,()=>O(!1))})})}),z1="RovingFocusGroupItem",D1=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:l,...c}=e,h=Bi(),d=o||h,p=EU(z1,n),g=p.currentTabStopId===d,b=O1(n),{onFocusableItemAdd:v,onFocusableItemRemove:E,currentTabStopId:S}=p;return w.useEffect(()=>{if(r)return v(),()=>E()},[r,v,E]),x.jsx(Rm.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:x.jsx(at.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:_e(e.onMouseDown,T=>{r?p.onItemFocus(d):T.preventDefault()}),onFocus:_e(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:_e(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){p.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const C=kU(T,p.orientation,p.dir);if(C!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let A=b().filter(j=>j.focusable).map(j=>j.ref.current);if(C==="last")A.reverse();else if(C==="prev"||C==="next"){C==="prev"&&A.reverse();const j=A.indexOf(T.currentTarget);A=p.loop?RU(A,j+1):A.slice(j+1)}setTimeout(()=>j1(A))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:S!=null}):l})})});D1.displayName=z1;var CU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kU(e,t,n){const r=AU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return CU[r]}function j1(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function RU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MU=N1,OU=D1,IU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ws=new WeakMap,Tc=new WeakMap,Cc={},jp=0,P1=function(e){return e&&(e.host||P1(e.parentNode))},NU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=P1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},zU=function(e,t,n,r){var a=NU(t,Array.isArray(e)?e:[e]);Cc[n]||(Cc[n]=new WeakMap);var o=Cc[n],l=[],c=new Set,h=new Set(a),d=function(g){!g||c.has(g)||(c.add(g),d(g.parentNode))};a.forEach(d);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(b){if(c.has(b))p(b);else try{var v=b.getAttribute(r),E=v!==null&&v!=="false",S=(ws.get(b)||0)+1,T=(o.get(b)||0)+1;ws.set(b,S),o.set(b,T),l.push(b),S===1&&E&&Tc.set(b,!0),T===1&&b.setAttribute(n,"true"),E||b.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",b,C)}})};return p(t),c.clear(),jp++,function(){l.forEach(function(g){var b=ws.get(g)-1,v=o.get(g)-1;ws.set(g,b),o.set(g,v),b||(Tc.has(g)||g.removeAttribute(r),Tc.delete(g)),v||g.removeAttribute(n)}),jp--,jp||(ws=new WeakMap,ws=new WeakMap,Tc=new WeakMap,Cc={})}},L1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=IU(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),zU(r,a,n,"aria-hidden")):function(){return null}},wr=function(){return wr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wr.apply(this,arguments)};function B1(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function DU(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Bc="right-scroll-bar-position",Uc="width-before-scroll-bar",jU="with-scroll-bars-hidden",PU="--removed-body-scroll-bar-size";function Pp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LU(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var BU=typeof window<"u"?w.useLayoutEffect:w.useEffect,G_=new WeakMap;function UU(e,t){var n=LU(null,function(r){return e.forEach(function(a){return Pp(a,r)})});return BU(function(){var r=G_.get(n);if(r){var a=new Set(r),o=new Set(e),l=n.current;a.forEach(function(c){o.has(c)||Pp(c,null)}),o.forEach(function(c){a.has(c)||Pp(c,l)})}G_.set(n,e)},[e]),n}function $U(e){return e}function FU(e,t){t===void 0&&(t=$U);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var h=function(){var p=l;l=[],p.forEach(o)},d=function(){return Promise.resolve().then(h)};d(),n={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),n}}}};return a}function HU(e){e===void 0&&(e={});var t=FU(null);return t.options=wr({async:!0,ssr:!1},e),t}var U1=function(e){var t=e.sideCar,n=B1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,wr({},n))};U1.isSideCarExport=!0;function ZU(e,t){return e.useMedium(t),U1}var $1=HU(),Lp=function(){},Df=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:Lp,onWheelCapture:Lp,onTouchMoveCapture:Lp}),a=r[0],o=r[1],l=e.forwardProps,c=e.children,h=e.className,d=e.removeScrollBar,p=e.enabled,g=e.shards,b=e.sideCar,v=e.noRelative,E=e.noIsolation,S=e.inert,T=e.allowPinchZoom,C=e.as,O=C===void 0?"div":C,A=e.gapMode,j=B1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=b,I=UU([n,t]),L=wr(wr({},j),a);return w.createElement(w.Fragment,null,p&&w.createElement(F,{sideCar:$1,removeScrollBar:d,shards:g,noRelative:v,noIsolation:E,inert:S,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:A}),l?w.cloneElement(w.Children.only(c),wr(wr({},L),{ref:I})):w.createElement(O,wr({},L,{className:h,ref:I}),c))});Df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Df.classNames={fullWidth:Uc,zeroRight:Bc};var qU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qU();return t&&e.setAttribute("nonce",t),e}function GU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=VU())&&(GU(t,n),YU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XU=function(){var e=JU();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},F1=function(){var e=XU(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},KU={left:0,top:0,right:0,gap:0},Bp=function(e){return parseInt(e||"",10)||0},QU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Bp(n),Bp(r),Bp(a)]},WU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KU;var t=QU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},e6=F1(),js="data-scroll-locked",t6=function(e,t,n,r){var a=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(jU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(js,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bc,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Uc,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(js,`] {
    `).concat(PU,": ").concat(c,`px;
  }
`)},Y_=function(){var e=parseInt(document.body.getAttribute(js)||"0",10);return isFinite(e)?e:0},n6=function(){w.useEffect(function(){return document.body.setAttribute(js,(Y_()+1).toString()),function(){var e=Y_()-1;e<=0?document.body.removeAttribute(js):document.body.setAttribute(js,e.toString())}},[])},r6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;n6();var o=w.useMemo(function(){return WU(a)},[a]);return w.createElement(e6,{styles:t6(o,!t,a,n?"":"!important")})},Mm=!1;if(typeof window<"u")try{var Ac=Object.defineProperty({},"passive",{get:function(){return Mm=!0,!0}});window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{Mm=!1}var _s=Mm?{passive:!1}:!1,i6=function(e){return e.tagName==="TEXTAREA"},H1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!i6(e)&&n[t]==="visible")},a6=function(e){return H1(e,"overflowY")},s6=function(e){return H1(e,"overflowX")},J_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Z1(e,r);if(a){var o=q1(e,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},o6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},l6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Z1=function(e,t){return e==="v"?a6(t):s6(t)},q1=function(e,t){return e==="v"?o6(t):l6(t)},u6=function(e,t){return e==="h"&&t==="rtl"?-1:1},c6=function(e,t,n,r,a){var o=u6(e,window.getComputedStyle(t).direction),l=o*r,c=n.target,h=t.contains(c),d=!1,p=l>0,g=0,b=0;do{if(!c)break;var v=q1(e,c),E=v[0],S=v[1],T=v[2],C=S-T-o*E;(E||C)&&Z1(e,c)&&(g+=C,b+=E);var O=c.parentNode;c=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!h&&c!==document.body||h&&(t.contains(c)||t===c));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(d=!0),d},kc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},X_=function(e){return[e.deltaX,e.deltaY]},K_=function(e){return e&&"current"in e?e.current:e},f6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},d6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h6=0,Ss=[];function p6(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),a=w.useState(h6++)[0],o=w.useState(F1)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var S=DU([e.lockRef.current],(e.shards||[]).map(K_),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=w.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var C=kc(S),O=n.current,A="deltaX"in S?S.deltaX:O[0]-C[0],j="deltaY"in S?S.deltaY:O[1]-C[1],F,I=S.target,L=Math.abs(A)>Math.abs(j)?"h":"v";if("touches"in S&&L==="h"&&I.type==="range")return!1;var $=window.getSelection(),se=$&&$.anchorNode,B=se?se===I||se.contains(I):!1;if(B)return!1;var ne=J_(L,I);if(!ne)return!0;if(ne?F=L:(F=L==="v"?"h":"v",ne=J_(L,I)),!ne)return!1;if(!r.current&&"changedTouches"in S&&(A||j)&&(r.current=F),!F)return!0;var re=r.current||F;return c6(re,T,S,re==="h"?A:j)},[]),h=w.useCallback(function(S){var T=S;if(!(!Ss.length||Ss[Ss.length-1]!==o)){var C="deltaY"in T?X_(T):kc(T),O=t.current.filter(function(F){return F.name===T.type&&(F.target===T.target||T.target===F.shadowParent)&&f6(F.delta,C)})[0];if(O&&O.should){T.cancelable&&T.preventDefault();return}if(!O){var A=(l.current.shards||[]).map(K_).filter(Boolean).filter(function(F){return F.contains(T.target)}),j=A.length>0?c(T,A[0]):!l.current.noIsolation;j&&T.cancelable&&T.preventDefault()}}},[]),d=w.useCallback(function(S,T,C,O){var A={name:S,delta:T,target:C,should:O,shadowParent:m6(C)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(j){return j!==A})},1)},[]),p=w.useCallback(function(S){n.current=kc(S),r.current=void 0},[]),g=w.useCallback(function(S){d(S.type,X_(S),S.target,c(S,e.lockRef.current))},[]),b=w.useCallback(function(S){d(S.type,kc(S),S.target,c(S,e.lockRef.current))},[]);w.useEffect(function(){return Ss.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",h,_s),document.addEventListener("touchmove",h,_s),document.addEventListener("touchstart",p,_s),function(){Ss=Ss.filter(function(S){return S!==o}),document.removeEventListener("wheel",h,_s),document.removeEventListener("touchmove",h,_s),document.removeEventListener("touchstart",p,_s)}},[]);var v=e.removeScrollBar,E=e.inert;return w.createElement(w.Fragment,null,E?w.createElement(o,{styles:d6(a)}):null,v?w.createElement(r6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function m6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g6=ZU($1,p6);var Pg=w.forwardRef(function(e,t){return w.createElement(Df,wr({},e,{ref:t,sideCar:g6}))});Pg.classNames=Df.classNames;var Om=["Enter"," "],y6=["ArrowDown","PageUp","Home"],V1=["ArrowUp","PageDown","End"],b6=[...y6,...V1],v6={ltr:[...Om,"ArrowRight"],rtl:[...Om,"ArrowLeft"]},x6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fl="Menu",[Al,w6,_6]=e1(Fl),[Ma,G1]=ii(Fl,[_6,Nf,I1]),jf=Nf(),Y1=I1(),[S6,Oa]=Ma(Fl),[E6,Hl]=Ma(Fl),J1=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:l=!0}=e,c=jf(t),[h,d]=w.useState(null),p=w.useRef(!1),g=Xt(o),b=t1(a);return w.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),x.jsx(A1,{...c,children:x.jsx(S6,{scope:t,open:n,onOpenChange:g,content:h,onContentChange:d,children:x.jsx(E6,{scope:t,onClose:w.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:b,modal:l,children:r})})})};J1.displayName=Fl;var T6="MenuAnchor",Lg=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=jf(n);return x.jsx(k1,{...a,...r,ref:t})});Lg.displayName=T6;var Bg="MenuPortal",[C6,X1]=Ma(Bg,{forceMount:void 0}),K1=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Oa(Bg,t);return x.jsx(C6,{scope:t,forceMount:n,children:x.jsx(dr,{present:n||o.open,children:x.jsx(zf,{asChild:!0,container:a,children:r})})})};K1.displayName=Bg;var Jn="MenuContent",[A6,Ug]=Ma(Jn),Q1=w.forwardRef((e,t)=>{const n=X1(Jn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Oa(Jn,e.__scopeMenu),l=Hl(Jn,e.__scopeMenu);return x.jsx(Al.Provider,{scope:e.__scopeMenu,children:x.jsx(dr,{present:r||o.open,children:x.jsx(Al.Slot,{scope:e.__scopeMenu,children:l.modal?x.jsx(k6,{...a,ref:t}):x.jsx(R6,{...a,ref:t})})})})}),k6=w.forwardRef((e,t)=>{const n=Oa(Jn,e.__scopeMenu),r=w.useRef(null),a=gt(t,r);return w.useEffect(()=>{const o=r.current;if(o)return L1(o)},[]),x.jsx($g,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),R6=w.forwardRef((e,t)=>{const n=Oa(Jn,e.__scopeMenu);return x.jsx($g,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),M6=qs("MenuContent.ScrollLock"),$g=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:v,disableOutsideScroll:E,...S}=e,T=Oa(Jn,n),C=Hl(Jn,n),O=jf(n),A=Y1(n),j=w6(n),[F,I]=w.useState(null),L=w.useRef(null),$=gt(t,L,T.onContentChange),se=w.useRef(0),B=w.useRef(""),ne=w.useRef(0),re=w.useRef(null),he=w.useRef("right"),oe=w.useRef(0),te=E?Pg:w.Fragment,P=E?{as:M6,allowPinchZoom:!0}:void 0,K=ie=>{const M=B.current+ie,z=j().filter(fe=>!fe.disabled),Y=document.activeElement,R=z.find(fe=>fe.ref.current===Y)?.textValue,ae=z.map(fe=>fe.textValue),ve=F6(ae,M,R),de=z.find(fe=>fe.textValue===ve)?.ref.current;(function fe(Ge){B.current=Ge,window.clearTimeout(se.current),Ge!==""&&(se.current=window.setTimeout(()=>fe(""),1e3))})(M),de&&setTimeout(()=>de.focus())};w.useEffect(()=>()=>window.clearTimeout(se.current),[]),i1();const V=w.useCallback(ie=>he.current===re.current?.side&&Z6(ie,re.current?.area),[]);return x.jsx(A6,{scope:n,searchRef:B,onItemEnter:w.useCallback(ie=>{V(ie)&&ie.preventDefault()},[V]),onItemLeave:w.useCallback(ie=>{V(ie)||(L.current?.focus(),I(null))},[V]),onTriggerLeave:w.useCallback(ie=>{V(ie)&&ie.preventDefault()},[V]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:w.useCallback(ie=>{re.current=ie},[]),children:x.jsx(te,{...P,children:x.jsx(kg,{asChild:!0,trapped:a,onMountAutoFocus:_e(o,ie=>{ie.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:x.jsx(kf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:v,children:x.jsx(MU,{asChild:!0,...A,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:F,onCurrentTabStopIdChange:I,onEntryFocus:_e(h,ie=>{C.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(R1,{role:"menu","aria-orientation":"vertical","data-state":pC(T.open),"data-radix-menu-content":"",dir:C.dir,...O,...S,ref:$,style:{outline:"none",...S.style},onKeyDown:_e(S.onKeyDown,ie=>{const z=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,Y=ie.ctrlKey||ie.altKey||ie.metaKey,R=ie.key.length===1;z&&(ie.key==="Tab"&&ie.preventDefault(),!Y&&R&&K(ie.key));const ae=L.current;if(ie.target!==ae||!b6.includes(ie.key))return;ie.preventDefault();const de=j().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);V1.includes(ie.key)&&de.reverse(),U6(de)}),onBlur:_e(e.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(se.current),B.current="")}),onPointerMove:_e(e.onPointerMove,kl(ie=>{const M=ie.target,z=oe.current!==ie.clientX;if(ie.currentTarget.contains(M)&&z){const Y=ie.clientX>oe.current?"right":"left";he.current=Y,oe.current=ie.clientX}}))})})})})})})});Q1.displayName=Jn;var O6="MenuGroup",Fg=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(at.div,{role:"group",...r,ref:t})});Fg.displayName=O6;var I6="MenuLabel",W1=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(at.div,{...r,ref:t})});W1.displayName=I6;var of="MenuItem",Q_="menu.itemSelect",Pf=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=w.useRef(null),l=Hl(of,e.__scopeMenu),c=Ug(of,e.__scopeMenu),h=gt(t,o),d=w.useRef(!1),p=()=>{const g=o.current;if(!n&&g){const b=new CustomEvent(Q_,{bubbles:!0,cancelable:!0});g.addEventListener(Q_,v=>r?.(v),{once:!0}),WT(g,b),b.defaultPrevented?d.current=!1:l.onClose()}};return x.jsx(eC,{...a,ref:h,disabled:n,onClick:_e(e.onClick,p),onPointerDown:g=>{e.onPointerDown?.(g),d.current=!0},onPointerUp:_e(e.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:_e(e.onKeyDown,g=>{const b=c.searchRef.current!=="";n||b&&g.key===" "||Om.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Pf.displayName=of;var eC=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,l=Ug(of,n),c=Y1(n),h=w.useRef(null),d=gt(t,h),[p,g]=w.useState(!1),[b,v]=w.useState("");return w.useEffect(()=>{const E=h.current;E&&v((E.textContent??"").trim())},[o.children]),x.jsx(Al.ItemSlot,{scope:n,disabled:r,textValue:a??b,children:x.jsx(OU,{asChild:!0,...c,focusable:!r,children:x.jsx(at.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:d,onPointerMove:_e(e.onPointerMove,kl(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(e.onPointerLeave,kl(E=>l.onItemLeave(E))),onFocus:_e(e.onFocus,()=>g(!0)),onBlur:_e(e.onBlur,()=>g(!1))})})})}),N6="MenuCheckboxItem",tC=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return x.jsx(sC,{scope:e.__scopeMenu,checked:n,children:x.jsx(Pf,{role:"menuitemcheckbox","aria-checked":lf(n)?"mixed":n,...a,ref:t,"data-state":Zg(n),onSelect:_e(a.onSelect,()=>r?.(lf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tC.displayName=N6;var nC="MenuRadioGroup",[z6,D6]=Ma(nC,{value:void 0,onValueChange:()=>{}}),rC=w.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Xt(r);return x.jsx(z6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:x.jsx(Fg,{...a,ref:t})})});rC.displayName=nC;var iC="MenuRadioItem",aC=w.forwardRef((e,t)=>{const{value:n,...r}=e,a=D6(iC,e.__scopeMenu),o=n===a.value;return x.jsx(sC,{scope:e.__scopeMenu,checked:o,children:x.jsx(Pf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Zg(o),onSelect:_e(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});aC.displayName=iC;var Hg="MenuItemIndicator",[sC,j6]=Ma(Hg,{checked:!1}),oC=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=j6(Hg,n);return x.jsx(dr,{present:r||lf(o.checked)||o.checked===!0,children:x.jsx(at.span,{...a,ref:t,"data-state":Zg(o.checked)})})});oC.displayName=Hg;var P6="MenuSeparator",lC=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(at.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});lC.displayName=P6;var L6="MenuArrow",uC=w.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=jf(n);return x.jsx(M1,{...a,...r,ref:t})});uC.displayName=L6;var B6="MenuSub",[oK,cC]=Ma(B6),ol="MenuSubTrigger",fC=w.forwardRef((e,t)=>{const n=Oa(ol,e.__scopeMenu),r=Hl(ol,e.__scopeMenu),a=cC(ol,e.__scopeMenu),o=Ug(ol,e.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=o,d={__scopeMenu:e.__scopeMenu},p=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>p,[p]),w.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),h(null)}},[c,h]),x.jsx(Lg,{asChild:!0,...d,children:x.jsx(eC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":pC(n.open),...e,ref:Ll(t,a.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,kl(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:_e(e.onPointerLeave,kl(g=>{p();const b=n.content?.getBoundingClientRect();if(b){const v=n.content?.dataset.side,E=v==="right",S=E?-5:5,T=b[E?"left":"right"],C=b[E?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:T,y:b.top},{x:C,y:b.top},{x:C,y:b.bottom},{x:T,y:b.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,g=>{const b=o.searchRef.current!=="";e.disabled||b&&g.key===" "||v6[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});fC.displayName=ol;var dC="MenuSubContent",hC=w.forwardRef((e,t)=>{const n=X1(Jn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Oa(Jn,e.__scopeMenu),l=Hl(Jn,e.__scopeMenu),c=cC(dC,e.__scopeMenu),h=w.useRef(null),d=gt(t,h);return x.jsx(Al.Provider,{scope:e.__scopeMenu,children:x.jsx(dr,{present:r||o.open,children:x.jsx(Al.Slot,{scope:e.__scopeMenu,children:x.jsx($g,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&h.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:_e(e.onFocusOutside,p=>{p.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:_e(e.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),b=x6[l.dir].includes(p.key);g&&b&&(o.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});hC.displayName=dC;function pC(e){return e?"open":"closed"}function lf(e){return e==="indeterminate"}function Zg(e){return lf(e)?"indeterminate":e?"checked":"unchecked"}function U6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function F6(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=$6(e,Math.max(o,0));a.length===1&&(l=l.filter(d=>d!==n));const h=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function H6(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],h=t[l],d=c.x,p=c.y,g=h.x,b=h.y;p>r!=b>r&&n<(g-d)*(r-p)/(b-p)+d&&(a=!a)}return a}function Z6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return H6(n,t)}function kl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var q6=J1,V6=Lg,G6=K1,Y6=Q1,J6=Fg,X6=W1,K6=Pf,Q6=tC,W6=rC,e5=aC,t5=oC,n5=lC,r5=uC,i5=fC,a5=hC,Lf="DropdownMenu",[s5,mC]=ii(Lf,[G1]),un=G1(),[o5,gC]=s5(Lf),yC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,h=un(t),d=w.useRef(null),[p,g]=Bl({prop:a,defaultProp:o??!1,onChange:l,caller:Lf});return x.jsx(o5,{scope:t,triggerId:Bi(),triggerRef:d,contentId:Bi(),open:p,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(b=>!b),[g]),modal:c,children:x.jsx(q6,{...h,open:p,onOpenChange:g,dir:r,modal:c,children:n})})};yC.displayName=Lf;var bC="DropdownMenuTrigger",vC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=gC(bC,n),l=un(n);return x.jsx(V6,{asChild:!0,...l,children:x.jsx(at.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ll(t,o.triggerRef),onPointerDown:_e(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:_e(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});vC.displayName=bC;var l5="DropdownMenuPortal",xC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=un(t);return x.jsx(G6,{...r,...n})};xC.displayName=l5;var wC="DropdownMenuContent",_C=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=gC(wC,n),o=un(n),l=w.useRef(!1);return x.jsx(Y6,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,c=>{l.current||a.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,p=h.button===2||d;(!a.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_C.displayName=wC;var u5="DropdownMenuGroup",c5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(J6,{...a,...r,ref:t})});c5.displayName=u5;var f5="DropdownMenuLabel",d5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(X6,{...a,...r,ref:t})});d5.displayName=f5;var h5="DropdownMenuItem",SC=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(K6,{...a,...r,ref:t})});SC.displayName=h5;var p5="DropdownMenuCheckboxItem",m5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(Q6,{...a,...r,ref:t})});m5.displayName=p5;var g5="DropdownMenuRadioGroup",y5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(W6,{...a,...r,ref:t})});y5.displayName=g5;var b5="DropdownMenuRadioItem",v5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(e5,{...a,...r,ref:t})});v5.displayName=b5;var x5="DropdownMenuItemIndicator",w5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(t5,{...a,...r,ref:t})});w5.displayName=x5;var _5="DropdownMenuSeparator",S5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(n5,{...a,...r,ref:t})});S5.displayName=_5;var E5="DropdownMenuArrow",T5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(r5,{...a,...r,ref:t})});T5.displayName=E5;var C5="DropdownMenuSubTrigger",A5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(i5,{...a,...r,ref:t})});A5.displayName=C5;var k5="DropdownMenuSubContent",R5=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=un(n);return x.jsx(a5,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R5.displayName=k5;var EC=yC,TC=vC,CC=xC,AC=_C,kC=SC;const Bf=mC(),RC=({__scopeActionBarMore:e,...t})=>{const n=Bf(e);return x.jsx(EC,{...n,...t})};RC.displayName="ActionBarMorePrimitive.Root";const MC=w.forwardRef(({__scopeActionBarMore:e,...t},n)=>{const r=Bf(e);return x.jsx(TC,{...r,...t,ref:n})});MC.displayName="ActionBarMorePrimitive.Trigger";const OC=w.forwardRef(({__scopeActionBarMore:e,portalProps:t,sideOffset:n=4,...r},a)=>{const o=Bf(e);return x.jsx(CC,{...o,...t,children:x.jsx(AC,{...o,...r,ref:a,sideOffset:n})})});OC.displayName="ActionBarMorePrimitive.Content";const IC=w.forwardRef(({__scopeActionBarMore:e,...t},n)=>{const r=Bf(e);return x.jsx(kC,{...r,...t,ref:n})});IC.displayName="ActionBarMorePrimitive.Item";const NC=w.forwardRef((e,t)=>x.jsx(Lt.div,{...e,ref:t}));NC.displayName="AttachmentPrimitive.Root";const zC=()=>{const e=xe(({attachment:t})=>t.name);return x.jsx(x.Fragment,{children:e})};zC.displayName="AttachmentPrimitive.Name";const M5=()=>{const e=ze();return w.useCallback(()=>{e.attachment().remove()},[e])},O5=Dn("AttachmentPrimitive.Remove",M5),I5=()=>{const e=ze(),t=xe(({thread:r,message:a})=>!!(a.branchNumber>=a.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=w.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},N5=Dn("BranchPickerPrimitive.Next",I5),z5=()=>{const e=ze(),t=xe(({thread:r,message:a})=>!!(a.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=w.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},D5=Dn("BranchPickerPrimitive.Previous",z5),j5=()=>xe(({message:t})=>t.branchCount),DC=()=>{const e=j5();return x.jsx(x.Fragment,{children:e})};DC.displayName="BranchPickerPrimitive.Count";const P5=()=>xe(({message:t})=>t.branchNumber),jC=()=>{const e=P5();return x.jsx(x.Fragment,{children:e})};jC.displayName="BranchPickerPrimitive.Number";const Zl=e=>{const t=w.useRef(void 0);return w.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},qg=(e,t)=>{const n=w.useCallback(r=>{if(!e)return;const a=e(),o=()=>{const c=t?t(r):r.offsetHeight;a.setHeight(c)},l=new ResizeObserver(o);return l.observe(r),o(),()=>{l.disconnect(),a.unregister()}},[e,t]);return Zl(n)},W_=w.createContext(!1),eS=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),a=n[2];if(a==="px")return r;if(a==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(a==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},PC=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=xe(({thread:h,message:d})=>d.isLast&&d.role==="assistant"&&d.index>=1&&h.messages.at(d.index-1)?.role==="user"),a=Af({optional:!0}),o=w.useContext(W_),l=w.useCallback(h=>{if(!a||o)return;const d=()=>{const p=a.getState();if(p.turnAnchor==="top"&&r){const{viewport:g,inset:b,userMessage:v}=p.height,E=eS(t,h),S=eS(n,h),T=v<=E?v:S,C=Math.max(0,g-b-T);h.style.minHeight=`${C}px`,h.style.flexShrink="0",h.style.transition="min-height 0s"}else h.style.minHeight="",h.style.flexShrink="",h.style.transition=""};return d(),a.subscribe(d)},[a,r,o,t,n]),c=Zl(l);return x.jsx(W_.Provider,{value:!0,children:x.jsx(Cg,{ref:c,children:e})})};PC.displayName="ThreadPrimitive.ViewportSlack";const L5=()=>{const e=ze(),t=xe(()=>e.message()),n=w.useCallback(r=>{const a=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",a),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",a),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return Zl(n)},B5=()=>{const e=Zs(a=>a.turnAnchor),t=Zs(a=>a.registerUserMessageHeight),n=xe(({thread:a,message:o})=>e==="top"&&o.role==="user"&&o.index===a.messages.length-2&&a.messages.at(-1)?.role==="assistant"),r=w.useCallback(a=>a.offsetHeight,[]);return qg(n?t:null,r)},Uf=w.forwardRef((e,t)=>{const n=L5(),r=B5(),a=gt(t,n,r);return x.jsx(PC,{children:x.jsx(Lt.div,{...e,ref:a})})});Uf.displayName="MessagePrimitive.Root";const U5=Object.freeze({type:"complete"}),$5=tt(({parts:e,getMessagePart:t})=>{const[n,r]=lr(!0),a=Ve(()=>e[e.length-1]?.status??U5,[e]),o=Ve(()=>({parts:e,collapsed:n,status:a}),[e,n,a]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),F5=({startIndex:e,endIndex:t,children:n})=>{const r=xe(({message:l})=>l.parts).slice(e,t+1),a=ze(),o=ze({chainOfThought:$5({parts:r,getMessagePart:({index:l})=>{if(l<0||l>=r.length)throw new Error(`ChainOfThought part index ${l} is out of bounds (0..${r.length-1})`);return a.message().part({index:e+l})}})});return x.jsx(kr,{value:o,children:n})},LC=()=>xe(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),BC=w.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:a,status:o}=zE(LC(),e);return x.jsx(t,{"data-status":o.type,...n,ref:r,children:a})});BC.displayName="MessagePartPrimitive.Text";const H5=()=>xe(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),UC=w.forwardRef((e,t)=>{const{image:n}=H5();return x.jsx(Lt.img,{src:n,...e,ref:t})});UC.displayName="MessagePartPrimitive.Image";const $C=({children:e})=>xe(({part:n})=>n.status.type==="running")?e:null;$C.displayName="MessagePartPrimitive.InProgress";const tS=e=>Symbol.iterator in e,nS=e=>"entries"in e,rS=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[a,o]of n)if(!r.has(a)||!Object.is(o,r.get(a)))return!1;return!0},Z5=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let a=n.next(),o=r.next();for(;!a.done&&!o.done;){if(!Object.is(a.value,o.value))return!1;a=n.next(),o=r.next()}return!!a.done&&!!o.done};function q5(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:tS(e)&&tS(t)?nS(e)&&nS(t)?rS(e,t):Z5(e,t):rS({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function FC(e){const t=At.useRef(void 0);return n=>{const r=e(n);return q5(t.current,r)?t.current:t.current=r}}const Up=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},V5=(e,t)=>{const n=[];if(t){const r=Up("chainOfThoughtGroup");for(let a=0;a<e.length;a++){const o=e[a];o==="tool-call"||o==="reasoning"?r.startGroup(a):(r.endGroup(a-1,n),n.push({type:"single",index:a}))}r.finalize(e.length-1,n)}else{const r=Up("toolGroup"),a=Up("reasoningGroup");for(let o=0;o<e.length;o++){const l=e[o];l==="tool-call"?(a.endGroup(o-1,n),r.startGroup(o)):l==="reasoning"?(r.endGroup(o-1,n),a.startGroup(o)):(r.endGroup(o-1,n),a.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),a.finalize(e.length-1,n)}return n},G5=e=>{const t=xe(FC(n=>n.message.parts.map(r=>r.type)));return w.useMemo(()=>t.length===0?[]:V5(t,e),[t,e])},Y5=({Fallback:e,...t})=>{const n=xe(({tools:r})=>{const a=r.tools[t.toolName]??e;return Array.isArray(a)?a[0]??e:a});return n?x.jsx(n,{...t}):null},Wr={Text:()=>x.jsxs("p",{style:{whiteSpace:"pre-line"},children:[x.jsx(BC,{}),x.jsx($C,{children:x.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>x.jsx(UC,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},J5=({components:{Text:e=Wr.Text,Reasoning:t=Wr.Reasoning,Image:n=Wr.Image,Source:r=Wr.Source,File:a=Wr.File,Unstable_Audio:o=Wr.Unstable_Audio,tools:l={}}={}})=>{const c=ze(),h=xe(({part:p})=>p),d=h.type;if(d==="tool-call"){const p=c.part().addToolResult,g=c.part().resumeToolCall;if("Override"in l)return x.jsx(l.Override,{...h,addResult:p,resume:g});const b=l.by_name?.[h.toolName]??l.Fallback;return x.jsx(Y5,{...h,Fallback:b,addResult:p,resume:g})}if(h.status?.type==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(d){case"text":return x.jsx(e,{...h});case"reasoning":return x.jsx(t,{...h});case"source":return x.jsx(r,{...h});case"image":return x.jsx(n,{...h});case"file":return x.jsx(a,{...h});case"audio":return x.jsx(o,{...h});case"data":return null;default:const p=d;throw new Error(`Unknown message part type: ${p}`)}},$c=w.memo(({index:e,components:t})=>x.jsx(G4,{index:e,children:x.jsx(J5,{components:t})}),(e,t)=>e.index===t.index&&e.components?.Text===t.components?.Text&&e.components?.Reasoning===t.components?.Reasoning&&e.components?.Source===t.components?.Source&&e.components?.Image===t.components?.Image&&e.components?.File===t.components?.File&&e.components?.Unstable_Audio===t.components?.Unstable_Audio&&e.components?.tools===t.components?.tools&&e.components?.ToolGroup===t.components?.ToolGroup&&e.components?.ReasoningGroup===t.components?.ReasoningGroup);$c.displayName="MessagePrimitive.PartByIndex";const X5=({status:e,component:t})=>x.jsx(K4,{text:"",isRunning:e.type==="running",children:x.jsx(t,{type:"text",text:"",status:e})}),K5=Object.freeze({type:"complete"}),Q5=({components:e})=>{const t=xe(n=>n.message.status??K5);return e?.Empty?x.jsx(e.Empty,{status:t}):x.jsx(X5,{status:t,component:e?.Text??Wr.Text})},HC=w.memo(Q5,(e,t)=>e.components?.Empty===t.components?.Empty&&e.components?.Text===t.components?.Text),W5=({components:e,enabled:t})=>xe(({message:r})=>{if(!t||r.parts.length===0)return!1;const a=r.parts[r.parts.length-1];return a?.type!=="text"&&a?.type!=="reasoning"})?x.jsx(HC,{components:e}):null,e9=w.memo(W5,(e,t)=>e.enabled===t.enabled&&e.components?.Empty===t.components?.Empty&&e.components?.Text===t.components?.Text),Vg=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=xe(({message:l})=>l.parts.length),r=!!e?.ChainOfThought,a=G5(r),o=w.useMemo(()=>n===0?x.jsx(HC,{components:e}):a.map(l=>{if(l.type==="single")return x.jsx($c,{index:l.index,components:e},l.index);if(l.type==="chainOfThoughtGroup"){const c=e?.ChainOfThought;return c?x.jsx(F5,{startIndex:l.startIndex,endIndex:l.endIndex,children:x.jsx(c,{})},`chainOfThought-${l.startIndex}`):null}else if(l.type==="toolGroup"){const c=e?.ToolGroup??Wr.ToolGroup;return x.jsx(c,{startIndex:l.startIndex,endIndex:l.endIndex,children:Array.from({length:l.endIndex-l.startIndex+1},(h,d)=>x.jsx($c,{index:l.startIndex+d,components:e},d))},`tool-${l.startIndex}`)}else{const c=e?.ReasoningGroup??Wr.ReasoningGroup;return x.jsx(c,{startIndex:l.startIndex,endIndex:l.endIndex,children:Array.from({length:l.endIndex-l.startIndex+1},(h,d)=>x.jsx($c,{index:l.startIndex+d,components:e},d))},`reasoning-${l.startIndex}`)}}),[a,e,n]);return x.jsxs(x.Fragment,{children:[o,x.jsx(e9,{components:e,enabled:t})]})};Vg.displayName="MessagePrimitive.Parts";const t9=e=>xe(({message:t})=>{const{role:n,attachments:r,parts:a,branchCount:o,isLast:l,speech:c,isCopied:h,isHovering:d}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!d&&!l||e.last!==void 0&&e.last!==l||e.copied===!0&&!h||e.copied===!1&&h||e.speaking===!0&&c==null||e.speaking===!1&&c!=null||e.hasAttachments===!0&&(n!=="user"||!r?.length)||e.hasAttachments===!1&&n==="user"&&r?.length||e.hasContent===!0&&a.length===0||e.hasContent===!1&&a.length>0||e.submittedFeedback!==void 0&&(t.metadata.submittedFeedback?.type??null)!==e.submittedFeedback)}),ZC=({children:e,...t})=>t9(t)?e:null;ZC.displayName="MessagePrimitive.If";const n9=(e,t)=>{const n=t.type;switch(n){case"image":return e?.Image??e?.Attachment;case"document":return e?.Document??e?.Attachment;case"file":return e?.File??e?.Attachment;default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},r9=({components:e})=>{const t=xe(({attachment:r})=>r);if(!t)return null;const n=n9(e,t);return n?x.jsx(n,{}):null},qC=w.memo(({index:e,components:t})=>x.jsx(Y4,{index:e,children:x.jsx(r9,{components:t})}),(e,t)=>e.index===t.index&&e.components?.Image===t.components?.Image&&e.components?.Document===t.components?.Document&&e.components?.File===t.components?.File&&e.components?.Attachment===t.components?.Attachment);qC.displayName="MessagePrimitive.AttachmentByIndex";const VC=({components:e})=>{const t=xe(({message:r})=>r.role!=="user"?0:r.attachments.length);return w.useMemo(()=>Array.from({length:t},(r,a)=>x.jsx(qC,{index:a,components:e},a)),[t,e])};VC.displayName="MessagePrimitive.Attachments";const GC=({children:e})=>xe(({message:n})=>n.status?.type==="incomplete"&&n.status.reason==="error")?e:null;GC.displayName="MessagePrimitive.Error";const YC=w.forwardRef(({hideWhenSingleBranch:e,...t},n)=>x.jsx(ZC,{hasBranches:e?!0:void 0,children:x.jsx(Lt.div,{...t,ref:n})}));YC.displayName="BranchPickerPrimitive.Root";const JC=()=>{const e=ze(),t=xe(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=w.useCallback(()=>{e.composer().send()},[e]);return t?null:n},XC=Dn("ComposerPrimitive.Send",JC),Gg=w.forwardRef(({onSubmit:e,...t},n)=>{const r=JC(),a=o=>{o.preventDefault(),r&&r()};return x.jsx(Lt.form,{...t,ref:n,onSubmit:_e(e,a)})});Gg.displayName="ComposerPrimitive.Root";function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Im.apply(null,arguments)}function i9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var a9=w.useLayoutEffect,s9=function(t){var n=At.useRef(t);return a9(function(){n.current=t}),n},iS=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},o9=function(t,n){var r=At.useRef();return At.useCallback(function(a){t.current=a,r.current&&iS(r.current,null),r.current=n,n&&iS(n,a)},[n])},aS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},l9=function(t){Object.keys(aS).forEach(function(n){t.style.setProperty(n,aS[n],"important")})},sS=l9,nn=null,oS=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function u9(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),nn||(nn=document.createElement("textarea"),nn.setAttribute("tabindex","-1"),nn.setAttribute("aria-hidden","true"),sS(nn)),nn.parentNode===null&&document.body.appendChild(nn);var a=e.paddingSize,o=e.borderSize,l=e.sizingStyle,c=l.boxSizing;Object.keys(l).forEach(function(b){var v=b;nn.style[v]=l[v]}),sS(nn),nn.value=t;var h=oS(nn,e);nn.value=t,h=oS(nn,e),nn.value="x";var d=nn.scrollHeight-a,p=d*n;c==="border-box"&&(p=p+a+o),h=Math.max(p,h);var g=d*r;return c==="border-box"&&(g=g+a+o),h=Math.min(g,h),[h,d]}var lS=function(){},c9=function(t,n){return t.reduce(function(r,a){return r[a]=n[a],r},{})},f9=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],d9=!!document.documentElement.currentStyle,h9=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=c9(f9,n),a=r.boxSizing;if(a==="")return null;d9&&a==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:l}},p9=h9;function Yg(e,t,n){var r=s9(n);w.useLayoutEffect(function(){var a=function(l){return r.current(l)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var m9=function(t,n){Yg(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},g9=function(t){Yg(window,"resize",t)},y9=function(t){Yg(document.fonts,"loadingdone",t)},b9=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],v9=function(t,n){var r=t.cacheMeasurements,a=t.maxRows,o=t.minRows,l=t.onChange,c=l===void 0?lS:l,h=t.onHeightChange,d=h===void 0?lS:h,p=i9(t,b9),g=p.value!==void 0,b=w.useRef(null),v=o9(b,n),E=w.useRef(0),S=w.useRef(),T=function(){var A=b.current,j=r&&S.current?S.current:p9(A);if(j){S.current=j;var F=u9(j,A.value||A.placeholder||"x",o,a),I=F[0],L=F[1];E.current!==I&&(E.current=I,A.style.setProperty("height",I+"px","important"),d(I,{rowHeight:L}))}},C=function(A){g||T(),c(A)};return w.useLayoutEffect(T),m9(b,function(){if(!g){var O=b.current.value;requestAnimationFrame(function(){var A=b.current;A&&O!==A.value&&T()})}}),g9(T),y9(T),w.createElement("textarea",Im({},p,{onChange:C,ref:v}))},x9=w.forwardRef(v9);const KC=e=>{const t=Xt(e),n=Zs(r=>r.onScrollToBottom);w.useEffect(()=>n(t),[n,t])},Jg=w.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:a,onPaste:o,submitOnEnter:l=!0,cancelOnEscape:c=!0,unstable_focusOnRunStart:h=!0,unstable_focusOnScrollToBottom:d=!0,unstable_focusOnThreadSwitched:p=!0,addAttachmentOnPaste:g=!0,...b},v)=>{const E=ze(),S=xe(({composer:$})=>$.isEditing?$.text:""),T=t?Cg:x9,C=xe(({thread:$,composer:se})=>$.isDisabled||se.dictation?.inputDisabled)||n,O=w.useRef(null),A=gt(v,O);JT($=>{if(!c||!O.current?.contains($.target))return;const se=E.composer();se.getState().canCancel&&(se.cancel(),$.preventDefault())});const j=$=>{C||!l||$.nativeEvent.isComposing||$.key==="Enter"&&$.shiftKey===!1&&(E.thread().getState().isRunning||($.preventDefault(),O.current?.closest("form")?.requestSubmit()))},F=async $=>{if(!g)return;const se=E.thread().getState().capabilities,B=Array.from($.clipboardData?.files||[]);if(se.attachments&&B.length>0)try{$.preventDefault(),await Promise.all(B.map(ne=>E.composer().addAttachment(ne)))}catch(ne){console.error("Error adding attachment:",ne)}},I=e&&!C,L=w.useCallback(()=>{const $=O.current;!$||!I||($.focus({preventScroll:!0}),$.setSelectionRange($.value.length,$.value.length))},[I]);return w.useEffect(()=>L(),[L]),KC(()=>{E.composer().getState().type==="thread"&&d&&L()}),w.useEffect(()=>{if(!(E.composer().getState().type!=="thread"||!h))return E.on("thread.runStart",L)},[h,L,E]),w.useEffect(()=>{if(!(E.composer().getState().type!=="thread"||!p))return E.on("threadListItem.switchedTo",L)},[p,L,E]),x.jsx(T,{name:"input",value:S,...b,ref:A,disabled:C,onChange:_e(r,$=>{E.composer().getState().isEditing&&H0(()=>{E.composer().setText($.target.value)})}),onKeyDown:_e(a,j),onPaste:_e(o,F)})});Jg.displayName="ComposerPrimitive.Input";const w9=()=>{const e=ze(),t=xe(({composer:r})=>!r.canCancel),n=w.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},QC=Dn("ComposerPrimitive.Cancel",w9),_9=({multiple:e=!0}={})=>{const t=xe(({composer:a})=>!a.isEditing),n=ze(),r=w.useCallback(()=>{const a=document.createElement("input");a.type="file",a.multiple=e,a.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(a.accept=o),document.body.appendChild(a),a.onchange=l=>{const c=l.target.files;if(c){for(const h of c)n.composer().addAttachment(h);document.body.removeChild(a)}},a.oncancel=()=>{(!a.files||a.files.length===0)&&document.body.removeChild(a)},a.click()},[n,e]);return t?null:r},S9=Dn("ComposerPrimitive.AddAttachment",_9,["multiple"]),E9=(e,t)=>{const n=t.type;switch(n){case"image":return e?.Image??e?.Attachment;case"document":return e?.Document??e?.Attachment;case"file":return e?.File??e?.Attachment;default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},T9=({components:e})=>{const t=xe(({attachment:r})=>r);if(!t)return null;const n=E9(e,t);return n?x.jsx(n,{}):null},WC=w.memo(({index:e,components:t})=>x.jsx(J4,{index:e,children:x.jsx(T9,{components:t})}),(e,t)=>e.index===t.index&&e.components?.Image===t.components?.Image&&e.components?.Document===t.components?.Document&&e.components?.File===t.components?.File&&e.components?.Attachment===t.components?.Attachment);WC.displayName="ComposerPrimitive.AttachmentByIndex";const eA=({components:e})=>{const t=xe(r=>r.composer.attachments.length);return w.useMemo(()=>Array.from({length:t},(r,a)=>x.jsx(WC,{index:a,components:e},a)),[t,e])};eA.displayName="ComposerPrimitive.Attachments";const tA=w.forwardRef(({disabled:e,asChild:t=!1,children:n,...r},a)=>{const[o,l]=w.useState(!1),c=ze(),h=w.useCallback(E=>{e||(E.preventDefault(),l(!0))},[e]),d=w.useCallback(E=>{e||(E.preventDefault(),o||l(!0))},[e,o]),p=w.useCallback(E=>{if(e)return;E.preventDefault();const S=E.relatedTarget;S&&E.currentTarget.contains(S)||l(!1)},[e]),g=w.useCallback(async E=>{if(!e){E.preventDefault(),l(!1);for(const S of E.dataTransfer.files)try{await c.composer().addAttachment(S)}catch(T){console.error("Failed to add attachment:",T)}}},[e,c]),b={onDragEnterCapture:h,onDragOverCapture:d,onDragLeaveCapture:p,onDropCapture:g},v=t?Cg:"div";return x.jsx(v,{...o?{"data-dragging":"true"}:null,ref:a,...b,...r,children:n})});tA.displayName="ComposerPrimitive.AttachmentDropzone";const nA=w.forwardRef((e,t)=>x.jsx(Lt.div,{role:"alert",...e,ref:t}));nA.displayName="ErrorPrimitive.Root";const rA=w.forwardRef(({children:e,...t},n)=>{const r=xe(({message:a})=>a.status?.type==="incomplete"&&a.status.reason==="error"?a.status.error:void 0);return r===void 0?null:x.jsx(Lt.span,{...t,ref:n,children:e??String(r)})});rA.displayName="ErrorPrimitive.Message";const iA=w.forwardRef((e,t)=>x.jsx(Lt.div,{...e,ref:t}));iA.displayName="ThreadPrimitive.Root";const C9=e=>{const t=Xt(e),n=w.useCallback(r=>{const a=new ResizeObserver(()=>{t()}),o=new MutationObserver(l=>{l.some(h=>h.type!=="attributes"||h.attributeName!=="style")&&t()});return a.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{a.disconnect(),o.disconnect()}},[t]);return Zl(n)},A9=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const a=w.useRef(null),o=Af();e===void 0&&(e=o.getState().turnAnchor!=="top");const l=w.useRef(0),c=w.useRef(null),h=w.useCallback(v=>{const E=a.current;E&&(c.current=v,E.scrollTo({top:E.scrollHeight,behavior:v}))},[]),d=()=>{const v=a.current;if(!v)return;const E=o.getState().isAtBottom,S=Math.abs(v.scrollHeight-v.scrollTop-v.clientHeight)<1||v.scrollHeight<=v.clientHeight;!S&&l.current<v.scrollTop||(S&&(c.current=null),(S||c.current===null)&&S!==E&&_l(o).setState({isAtBottom:S})),l.current=v.scrollTop},p=C9(()=>{const v=c.current;v?h(v):e&&o.getState().isAtBottom&&h("instant"),d()}),g=Zl(v=>(v.addEventListener("scroll",d),()=>{v.removeEventListener("scroll",d)}));return KC(({behavior:v})=>{h(v)}),xp("thread.runStart",()=>{t&&(c.current="auto",requestAnimationFrame(()=>{h("auto")}))}),xp("thread.initialize",()=>{n&&(c.current="instant",requestAnimationFrame(()=>{h("instant")}))}),xp("threadListItem.switchedTo",()=>{r&&(c.current="instant",requestAnimationFrame(()=>{h("instant")}))}),gt(p,g,a)},k9=()=>{const e=Zs(n=>n.registerViewport),t=w.useCallback(n=>n.clientHeight,[]);return qg(e,t)},aA=w.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:a,...o},l)=>{const c=A9({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),h=k9(),d=gt(l,c,h);return x.jsx(Lt.div,{...o,ref:d,children:a})});aA.displayName="ThreadPrimitive.ViewportScrollable";const sA=w.forwardRef(({turnAnchor:e,...t},n)=>x.jsx(qT,{options:{turnAnchor:e},children:x.jsx(aA,{...t,ref:n})}));sA.displayName="ThreadPrimitive.Viewport";const oA=w.forwardRef((e,t)=>{const n=Zs(l=>l.registerContentInset),r=w.useCallback(l=>{const c=parseFloat(getComputedStyle(l).marginTop)||0;return l.offsetHeight+c},[]),a=qg(n,r),o=gt(t,a);return x.jsx(Lt.div,{...e,ref:o})});oA.displayName="ThreadPrimitive.ViewportFooter";const lA=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,R9=()=>null,M9=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??R9;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},O9=({components:e})=>{const t=xe(({message:a})=>a.role),n=xe(({message:a})=>a.composer.isEditing),r=M9(e,t,n);return x.jsx(r,{})},uA=w.memo(({index:e,components:t})=>x.jsx(q4,{index:e,children:x.jsx(O9,{components:t})}),(e,t)=>e.index===t.index&&lA(e.components,t.components));uA.displayName="ThreadPrimitive.MessageByIndex";const cA=({components:e})=>{const t=xe(({thread:r})=>r.messages.length);return w.useMemo(()=>t===0?null:Array.from({length:t},(r,a)=>x.jsx(uA,{index:a,components:e},a)),[t,e])};cA.displayName="ThreadPrimitive.Messages";const I9=w.memo(cA,(e,t)=>lA(e.components,t.components)),N9=({behavior:e}={})=>{const t=Zs(a=>a.isAtBottom),n=Af(),r=w.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},z9=Dn("ThreadPrimitive.ScrollToBottom",N9,["behavior"]),D9=({components:e})=>{const t=e.Suggestion;return x.jsx(t,{})},fA=w.memo(({index:e,components:t})=>x.jsx(V4,{index:e,children:x.jsx(D9,{components:t})}),(e,t)=>e.index===t.index&&e.components.Suggestion===t.components.Suggestion);fA.displayName="ThreadPrimitive.SuggestionByIndex";const dA=({components:e})=>{const t=xe(({suggestions:r})=>r.suggestions.length);return w.useMemo(()=>t===0?null:Array.from({length:t},(r,a)=>x.jsx(fA,{index:a,components:e},a)),[t,e])};dA.displayName="ThreadPrimitive.Suggestions";const j9=w.memo(dA,(e,t)=>e.components.Suggestion===t.components.Suggestion),hA=w.forwardRef((e,t)=>{const n=xe(({suggestion:r})=>r.title);return x.jsx(Lt.span,{...e,ref:t,children:e.children??n})});hA.displayName="SuggestionPrimitive.Title";const pA=w.forwardRef((e,t)=>{const n=xe(({suggestion:r})=>r.label);return x.jsx(Lt.span,{...e,ref:t,children:e.children??n})});pA.displayName="SuggestionPrimitive.Description";const P9=({send:e,clearComposer:t=!0})=>{const n=ze(),r=xe(({thread:c})=>c.isDisabled),a=xe(({suggestion:c})=>c.prompt),o=e??!1,l=w.useCallback(()=>{const c=n.thread().getState().isRunning;if(o&&!c)n.thread().append(a),t&&n.composer().setText("");else if(t)n.composer().setText(a);else{const h=n.composer().getState().text;n.composer().setText(h.trim()?`${h} ${a}`:a)}},[n,o,t,a]);return r?null:l},L9=Dn("SuggestionPrimitive.Trigger",P9,["send","clearComposer"]),mA=w.forwardRef(({onClick:e,disabled:t,...n},r)=>{const a=xe(({threads:l})=>l.newThreadId===l.mainThreadId),o=ze();return x.jsx(Lt.button,{type:"button",...a?{"data-active":"true","aria-current":"true"}:null,...n,ref:r,disabled:t,onClick:_e(e,()=>{o.threads().switchToNewThread()})})});mA.displayName="ThreadListPrimitive.New";const gA=w.memo(({index:e,archived:t=!1,components:n})=>{const r=n.ThreadListItem;return x.jsx(H4,{index:e,archived:t,children:x.jsx(r,{})})},(e,t)=>e.index===t.index&&e.archived===t.archived&&e.components.ThreadListItem===t.components.ThreadListItem);gA.displayName="ThreadListPrimitive.ItemByIndex";const yA=({archived:e=!1,components:t})=>{const n=xe(({threads:a})=>e?a.archivedThreadIds.length:a.threadIds.length);return w.useMemo(()=>Array.from({length:n},(a,o)=>x.jsx(gA,{index:o,archived:e,components:t},o)),[n,e,t])};yA.displayName="ThreadListPrimitive.Items";const bA=w.forwardRef((e,t)=>x.jsx(Lt.div,{...e,ref:t}));bA.displayName="ThreadListPrimitive.Root";const vA=w.forwardRef((e,t)=>{const n=xe(({threads:r,threadListItem:a})=>r.mainThreadId===a.id);return x.jsx(Lt.div,{...n?{"data-active":"true","aria-current":"true"}:null,...e,ref:t})});vA.displayName="ThreadListItemPrimitive.Root";const B9=()=>{const e=ze();return w.useCallback(()=>{e.threadListItem().archive()},[e])},U9=Dn("ThreadListItemPrimitive.Archive",B9),$9=()=>{const e=ze();return w.useCallback(()=>{e.threadListItem().delete()},[e])},F9=Dn("ThreadListItemPrimitive.Delete",$9),H9=()=>{const e=ze();return w.useCallback(()=>{e.threadListItem().switchTo()},[e])},Z9=Dn("ThreadListItemPrimitive.Trigger",H9),xA=({fallback:e})=>{const t=xe(({threadListItem:n})=>n.title);return x.jsx(x.Fragment,{children:t||e})};xA.displayName="ThreadListItemPrimitive.Title";const $f=mC(),wA=({__scopeThreadListItemMore:e,...t})=>{const n=$f(e);return x.jsx(EC,{...n,...t})};wA.displayName="ThreadListItemMorePrimitive.Root";const _A=w.forwardRef(({__scopeThreadListItemMore:e,...t},n)=>{const r=$f(e);return x.jsx(TC,{...r,...t,ref:n})});_A.displayName="ThreadListItemMorePrimitive.Trigger";const SA=w.forwardRef(({__scopeThreadListItemMore:e,portalProps:t,sideOffset:n=4,...r},a)=>{const o=$f(e);return x.jsx(CC,{...o,...t,children:x.jsx(AC,{...o,...r,ref:a,sideOffset:n})})});SA.displayName="ThreadListItemMorePrimitive.Content";const Nm=w.forwardRef(({__scopeThreadListItemMore:e,...t},n)=>{const r=$f(e);return x.jsx(kC,{...r,...t,ref:n})});Nm.displayName="ThreadListItemMorePrimitive.Item";const q9=(e,t)=>{const n=w.useRef(null),r=w.useRef(null);return w.useEffect(()=>()=>{r.current?.()},[]),w.useCallback(()=>{r.current?.(),(function(){if(n.current||!e.current)return;let g=e.current;for(;g;){const{overflowY:b}=getComputedStyle(g);if(b==="scroll"||b==="auto"){n.current=g;break}g=g.parentElement}})();const o=n.current;if(!o)return;const l=o.scrollTop,c=o.style.scrollbarWidth;o.style.scrollbarWidth="none";const h=()=>o.scrollTop=l;o.addEventListener("scroll",h);const d=setTimeout(()=>{o.removeEventListener("scroll",h),o.style.scrollbarWidth=c,r.current=null},t);r.current=()=>{clearTimeout(d),o.removeEventListener("scroll",h),o.style.scrollbarWidth=c}},[t,e])};var EA="vercel.ai.error",V9=Symbol.for(EA),uS,cS,Cr=class TA extends(cS=Error,uS=V9,cS){constructor({name:t,message:n,cause:r}){super(n),this[uS]=!0,this.name=t,this.cause=r}static isInstance(t){return TA.hasMarker(t,EA)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function CA(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var AA="AI_InvalidArgumentError",kA=`vercel.ai.error.${AA}`,G9=Symbol.for(kA),fS,dS,Y9=class extends(dS=Cr,fS=G9,dS){constructor({message:e,cause:t,argument:n}){super({name:AA,message:e,cause:t}),this[fS]=!0,this.argument=n}static isInstance(e){return Cr.hasMarker(e,kA)}},RA="AI_JSONParseError",MA=`vercel.ai.error.${RA}`,J9=Symbol.for(MA),hS,pS,mS=class extends(pS=Cr,hS=J9,pS){constructor({text:e,cause:t}){super({name:RA,message:`JSON parsing failed: Text: ${e}.
Error message: ${CA(t)}`,cause:t}),this[hS]=!0,this.text=e}static isInstance(e){return Cr.hasMarker(e,MA)}},OA="AI_TypeValidationError",IA=`vercel.ai.error.${OA}`,X9=Symbol.for(IA),gS,yS,Gs=class zm extends(yS=Cr,gS=X9,yS){constructor({value:t,cause:n,context:r}){let a="Type validation failed";if(r?.field&&(a+=` for ${r.field}`),r?.entityName||r?.entityId){a+=" (";const o=[];r.entityName&&o.push(r.entityName),r.entityId&&o.push(`id: "${r.entityId}"`),a+=o.join(", "),a+=")"}super({name:OA,message:`${a}: Value: ${JSON.stringify(t)}.
Error message: ${CA(n)}`,cause:n}),this[gS]=!0,this.value=t,this.context=r}static isInstance(t){return Cr.hasMarker(t,IA)}static wrap({value:t,cause:n,context:r}){var a,o,l;return zm.isInstance(n)&&n.value===t&&((a=n.context)==null?void 0:a.field)===r?.field&&((o=n.context)==null?void 0:o.entityName)===r?.entityName&&((l=n.context)==null?void 0:l.entityId)===r?.entityId?n:new zm({value:t,cause:n,context:r})}},Rl;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const o={};for(const l of a)o[l]=l;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of o)l[c]=a[c];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.push(l);return o},e.find=(a,o)=>{for(const l of a)if(o(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Rl||(Rl={}));var bS;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(bS||(bS={}));Rl.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);Rl.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class uf extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,h=0;for(;h<l.path.length;){const d=l.path[h];h===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(l))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return a(this),r}static assert(t){if(!(t instanceof uf))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rl.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),r=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];n[o]=n[o]||[],n[o].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}uf.create=e=>new uf(e);var vS;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(vS||(vS={}));var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));class xS extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function $p(e){}function K9(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=$p,onError:n=$p,onRetry:r=$p,onComment:a}=e;let o="",l=!0,c,h="",d="";function p(S){const T=l?S.replace(/^\xEF\xBB\xBF/,""):S,[C,O]=Q9(`${o}${T}`);for(const A of C)g(A);o=O,l=!1}function g(S){if(S===""){v();return}if(S.startsWith(":")){a&&a(S.slice(S.startsWith(": ")?2:1));return}const T=S.indexOf(":");if(T!==-1){const C=S.slice(0,T),O=S[T+1]===" "?2:1,A=S.slice(T+O);b(C,A,S);return}b(S,"",S)}function b(S,T,C){switch(S){case"event":d=T;break;case"data":h=`${h}${T}
`;break;case"id":c=T.includes("\0")?void 0:T;break;case"retry":/^\d+$/.test(T)?r(parseInt(T,10)):n(new xS(`Invalid \`retry\` value: "${T}"`,{type:"invalid-retry",value:T,line:C}));break;default:n(new xS(`Unknown field "${S.length>20?`${S.slice(0,20)}`:S}"`,{type:"unknown-field",field:S,value:T,line:C}));break}}function v(){h.length>0&&t({id:c,event:d||void 0,data:h.endsWith(`
`)?h.slice(0,-1):h}),c=void 0,h="",d=""}function E(S={}){o&&S.consume&&g(o),l=!0,c=void 0,h="",d="",o=""}return{feed:p,reset:E}}function Q9(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),o=e.indexOf(`
`,r);let l=-1;if(a!==-1&&o!==-1?l=Math.min(a,o):a!==-1?a===e.length-1?l=-1:l=a:o!==-1&&(l=o),l===-1){n=e.slice(r);break}else{const c=e.slice(r,l);t.push(c),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class W9 extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let a;super({start(o){a=K9({onEvent:l=>{o.enqueue(l)},onError(l){t==="terminate"?o.error(l):typeof t=="function"&&t(l)},onRetry:n,onComment:r})},transform(o){a.feed(o)}})}}var ql=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const a=()=>{const o=n.length,l=new Array(t);for(let c=0;c<t;c++)l[c]=n[Math.random()*o|0];return l.join("")};if(e==null)return a;if(n.includes(r))throw new Y9({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${a()}`},NA=ql();function wS(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function xa(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((n,r)=>{t[r.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function _S(e,...t){const n=new Headers(xa(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var e$=/"__proto__"\s*:/,t$=/"constructor"\s*:/;function SS(e){const t=JSON.parse(e);return t===null||typeof t!="object"||e$.test(e)===!1&&t$.test(e)===!1?t:n$(t)}function n$(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in r){const o=r[a];o&&typeof o=="object"&&t.push(o)}}}return e}function r$(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return SS(e)}try{return SS(e)}finally{Error.stackTraceLimit=t}}function Xg(e){if(e.type==="object"||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;const{properties:n}=e;if(n!=null)for(const r of Object.keys(n))n[r]=ya(n[r])}e.items!=null&&(e.items=Array.isArray(e.items)?e.items.map(ya):ya(e.items)),e.anyOf!=null&&(e.anyOf=e.anyOf.map(ya)),e.allOf!=null&&(e.allOf=e.allOf.map(ya)),e.oneOf!=null&&(e.oneOf=e.oneOf.map(ya));const{definitions:t}=e;if(t!=null)for(const n of Object.keys(t))t[n]=ya(t[n]);return e}function ya(e){return typeof e=="boolean"?e:Xg(e)}var i$=Symbol("Let zodToJsonSchema decide on which parser to use"),ES={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},a$=e=>typeof e=="string"?{...ES,name:e}:{...ES,...e};function zn(){return{}}function s$(e,t){var n,r,a;const o={type:"array"};return(n=e.type)!=null&&n._def&&((a=(r=e.type)==null?void 0:r._def)==null?void 0:a.typeName)!==Re.ZodAny&&(o.items=et(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}function o$(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function l$(){return{type:"boolean"}}function zA(e,t){return et(e.type._def,t)}var u$=(e,t)=>et(e.innerType._def,t);function DA(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,o)=>DA(e,t,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return c$(e)}}var c$=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function f$(e,t){return{...et(e.innerType._def,t),default:e.defaultValue()}}function d$(e,t){return t.effectStrategy==="input"?et(e.schema._def,t):zn()}function h$(e){return{type:"string",enum:Array.from(e.values)}}var p$=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function m$(e,t){const n=[et(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),et(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),r=[];return n.forEach(a=>{if(p$(a))r.push(...a.allOf);else{let o=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:l,...c}=a;o=c}r.push(o)}}),r.length?{allOf:r}:void 0}function g$(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Fp=void 0,rr={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Fp===void 0&&(Fp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fp),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function jA(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":ir(n,"email",r.message,t);break;case"format:idn-email":ir(n,"idn-email",r.message,t);break;case"pattern:zod":rn(n,rr.email,r.message,t);break}break;case"url":ir(n,"uri",r.message,t);break;case"uuid":ir(n,"uuid",r.message,t);break;case"regex":rn(n,r.regex,r.message,t);break;case"cuid":rn(n,rr.cuid,r.message,t);break;case"cuid2":rn(n,rr.cuid2,r.message,t);break;case"startsWith":rn(n,RegExp(`^${Hp(r.value,t)}`),r.message,t);break;case"endsWith":rn(n,RegExp(`${Hp(r.value,t)}$`),r.message,t);break;case"datetime":ir(n,"date-time",r.message,t);break;case"date":ir(n,"date",r.message,t);break;case"time":ir(n,"time",r.message,t);break;case"duration":ir(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{rn(n,RegExp(Hp(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&ir(n,"ipv4",r.message,t),r.version!=="v4"&&ir(n,"ipv6",r.message,t);break}case"base64url":rn(n,rr.base64url,r.message,t);break;case"jwt":rn(n,rr.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&rn(n,rr.ipv4Cidr,r.message,t),r.version!=="v4"&&rn(n,rr.ipv6Cidr,r.message,t);break}case"emoji":rn(n,rr.emoji(),r.message,t);break;case"ulid":{rn(n,rr.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ir(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{rn(n,rr.base64,r.message,t);break}}break}case"nanoid":rn(n,rr.nanoid,r.message,t)}return n}function Hp(e,t){return t.patternStrategy==="escape"?b$(e):e}var y$=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function b$(e){let t="";for(let n=0;n<e.length;n++)y$.has(e[n])||(t+="\\"),t+=e[n];return t}function ir(e,t,n,r){var a;e.format||(a=e.anyOf)!=null&&a.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function rn(e,t,n,r){var a;e.pattern||(a=e.allOf)!=null&&a.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:TS(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=TS(t,r)}function TS(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=r.i?e.source.toLowerCase():e.source;let o="",l=!1,c=!1,h=!1;for(let d=0;d<a.length;d++){if(l){o+=a[d],l=!1;continue}if(r.i){if(c){if(a[d].match(/[a-z]/)){h?(o+=a[d],o+=`${a[d-2]}-${a[d]}`.toUpperCase(),h=!1):a[d+1]==="-"&&((n=a[d+2])!=null&&n.match(/[a-z]/))?(o+=a[d],h=!0):o+=`${a[d]}${a[d].toUpperCase()}`;continue}}else if(a[d].match(/[a-z]/)){o+=`[${a[d]}${a[d].toUpperCase()}]`;continue}}if(r.m){if(a[d]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(a[d]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&a[d]==="."){o+=c?`${a[d]}\r
`:`[${a[d]}\r
]`;continue}o+=a[d],a[d]==="\\"?l=!0:c&&a[d]==="]"?c=!1:!c&&a[d]==="["&&(c=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function PA(e,t){var n,r,a,o,l,c;const h={type:"object",additionalProperties:(n=et(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===Re.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:d,...p}=jA(e.keyType._def,t);return{...h,propertyNames:p}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===Re.ZodEnum)return{...h,propertyNames:{enum:e.keyType._def.values}};if(((l=e.keyType)==null?void 0:l._def.typeName)===Re.ZodBranded&&e.keyType._def.type._def.typeName===Re.ZodString&&((c=e.keyType._def.type._def.checks)!=null&&c.length)){const{type:d,...p}=zA(e.keyType._def,t);return{...h,propertyNames:p}}}return h}function v$(e,t){if(t.mapStrategy==="record")return PA(e,t);const n=et(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||zn(),r=et(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||zn();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function x$(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),a=Array.from(new Set(r.map(o=>typeof o)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function w$(){return{not:zn()}}function _$(){return{type:"null"}}var Dm={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function S$(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Dm&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,o)=>{const l=Dm[o._def.typeName];return l&&!a.includes(l)?[...a,l]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,o)=>{const l=typeof o._def.value;switch(l){case"string":case"number":case"boolean":return[...a,l];case"bigint":return[...a,"integer"];case"object":if(o._def.value===null)return[...a,"null"];default:return a}},[]);if(r.length===n.length){const a=r.filter((o,l,c)=>c.indexOf(o)===l);return{type:a.length>1?a:a[0],enum:n.reduce((o,l)=>o.includes(l._def.value)?o:[...o,l._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(o=>!r.includes(o))],[])};return E$(e,t)}var E$=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,a)=>et(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function T$(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Dm[e.innerType._def.typeName],"null"]};const n=et(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function C$(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function A$(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const l in a){let c=a[l];if(c===void 0||c._def===void 0)continue;const h=R$(c),d=et(c._def,{...t,currentPath:[...t.currentPath,"properties",l],propertyPath:[...t.currentPath,"properties",l]});d!==void 0&&(n.properties[l]=d,h||r.push(l))}r.length&&(n.required=r);const o=k$(e,t);return o!==void 0&&(n.additionalProperties=o),n}function k$(e,t){if(e.catchall._def.typeName!=="ZodNever")return et(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function R$(e){try{return e.isOptional()}catch{return!0}}var M$=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return et(e.innerType._def,t);const r=et(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:zn()},r]}:zn()},O$=(e,t)=>{if(t.pipeStrategy==="input")return et(e.in._def,t);if(t.pipeStrategy==="output")return et(e.out._def,t);const n=et(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=et(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function I$(e,t){return et(e.type._def,t)}function N$(e,t){const r={type:"array",uniqueItems:!0,items:et(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function z$(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>et(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:et(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>et(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function D$(){return{not:zn()}}function j$(){return zn()}var P$=(e,t)=>et(e.innerType._def,t),L$=(e,t,n)=>{switch(t){case Re.ZodString:return jA(e,n);case Re.ZodNumber:return C$(e);case Re.ZodObject:return A$(e,n);case Re.ZodBigInt:return o$(e);case Re.ZodBoolean:return l$();case Re.ZodDate:return DA(e,n);case Re.ZodUndefined:return D$();case Re.ZodNull:return _$();case Re.ZodArray:return s$(e,n);case Re.ZodUnion:case Re.ZodDiscriminatedUnion:return S$(e,n);case Re.ZodIntersection:return m$(e,n);case Re.ZodTuple:return z$(e,n);case Re.ZodRecord:return PA(e,n);case Re.ZodLiteral:return g$(e);case Re.ZodEnum:return h$(e);case Re.ZodNativeEnum:return x$(e);case Re.ZodNullable:return T$(e,n);case Re.ZodOptional:return M$(e,n);case Re.ZodMap:return v$(e,n);case Re.ZodSet:return N$(e,n);case Re.ZodLazy:return()=>e.getter()._def;case Re.ZodPromise:return I$(e,n);case Re.ZodNaN:case Re.ZodNever:return w$();case Re.ZodEffects:return d$(e,n);case Re.ZodAny:return zn();case Re.ZodUnknown:return j$();case Re.ZodDefault:return f$(e,n);case Re.ZodBranded:return zA(e,n);case Re.ZodReadonly:return P$(e,n);case Re.ZodCatch:return u$(e,n);case Re.ZodPipeline:return O$(e,n);case Re.ZodFunction:case Re.ZodVoid:case Re.ZodSymbol:return;default:return(r=>{})()}},B$=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function et(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const h=(r=t.override)==null?void 0:r.call(t,e,t,a,n);if(h!==i$)return h}if(a&&!n){const h=U$(a,t);if(h!==void 0)return h}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const l=L$(e,e.typeName,t),c=typeof l=="function"?et(l(),t):l;if(c&&$$(e,t,c),t.postProcess){const h=t.postProcess(c,e,t);return o.jsonSchema=c,h}return o.jsonSchema=c,c}var U$=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:B$(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),zn()):t.$refStrategy==="seen"?zn():void 0}},$$=(e,t,n)=>(e.description&&(n.description=e.description),n),F$=e=>{const t=a$(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},H$=(e,t)=>{var n;const r=F$(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[p,g])=>{var b;return{...d,[p]:(b=et(g._def,{...r,currentPath:[...r.basePath,r.definitionPath,p]},!0))!=null?b:zn()}},{}):void 0;const o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,l=(n=et(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))!=null?n:zn(),c=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;c!==void 0&&(l.title=c);const h=o===void 0?a?{...l,[r.definitionPath]:a}:l:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...a,[o]:l}};return h.$schema="http://json-schema.org/draft-07/schema#",h},jm=Symbol.for("vercel.ai.schema");function Z$(e){let t;return()=>(t==null&&(t=e()),t)}function Ff(e,{validate:t}={}){return{[jm]:!0,_type:void 0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function q$(e){return typeof e=="object"&&e!==null&&jm in e&&e[jm]===!0&&"jsonSchema"in e&&"validate"in e}function Kg(e){return e==null?Ff({properties:{},additionalProperties:!1}):q$(e)?e:"~standard"in e?e["~standard"].vendor==="zod"?LA(e):V$(e):e()}function V$(e){return Ff(()=>Xg(e["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async t=>{const n=await e["~standard"].validate(t);return"value"in n?{success:!0,value:n.value}:{success:!1,error:new Gs({value:t,cause:n.issues})}}})}function G$(e,t){var n;const r=(n=void 0)!=null?n:!1;return Ff(()=>H$(e,{$refStrategy:r?"root":"none"}),{validate:async a=>{const o=await e.safeParseAsync(a);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function Y$(e,t){var n;const r=(n=void 0)!=null?n:!1;return Ff(()=>Xg(bL(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async a=>{const o=await NT(e,a);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function J$(e){return"_zod"in e}function LA(e,t){return J$(e)?Y$(e):G$(e)}async function CS({value:e,schema:t,context:n}){const r=await Ml({value:e,schema:t,context:n});if(!r.success)throw Gs.wrap({value:e,cause:r.error,context:n});return r.value}async function Ml({value:e,schema:t,context:n}){const r=Kg(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const a=await r.validate(e);return a.success?{success:!0,value:a.value,rawValue:e}:{success:!1,error:Gs.wrap({value:e,cause:a.error,context:n}),rawValue:e}}catch(a){return{success:!1,error:Gs.wrap({value:e,cause:a,context:n}),rawValue:e}}}async function Sa({text:e,schema:t}){try{const n=r$(e);return t==null?{success:!0,value:n,rawValue:n}:await Ml({value:n,schema:t})}catch(n){return{success:!1,error:mS.isInstance(n)?n:new mS({text:e,cause:n}),rawValue:void 0}}}function X$({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new W9).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await Sa({text:n,schema:t}))}}))}async function Di(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var K$=Object.defineProperty,Q$=(e,t)=>{for(var n in t)K$(e,n,{get:t[n],enumerable:!0})},BA="AI_NoObjectGeneratedError",UA=`vercel.ai.error.${BA}`,W$=Symbol.for(UA),$A,Ui=class extends Cr{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:o}){super({name:BA,message:e,cause:t}),this[$A]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=o}static isInstance(e){return Cr.hasMarker(e,UA)}};$A=W$;var FA="AI_UIMessageStreamError",HA=`vercel.ai.error.${FA}`,eF=Symbol.for(HA),ZA,Es=class extends Cr{constructor({chunkType:e,chunkId:t,message:n}){super({name:FA,message:n}),this[ZA]=!0,this.chunkType=e,this.chunkId=t}static isInstance(e){return Cr.hasMarker(e,HA)}};ZA=eF;var AS="6.0.78",qA=ln([ce(),ef(Uint8Array),ef(ArrayBuffer),FT(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),Ol=N4(()=>ln([o4(),ce(),r4(),sn(),Tl(ce(),Ol.optional()),Ws(Ol)])),He=Tl(ce(),Tl(ce(),Ol.optional())),VA=lt({type:Te("text"),text:ce(),providerOptions:He.optional()}),tF=lt({type:Te("image"),image:ln([qA,ef(URL)]),mediaType:ce().optional(),providerOptions:He.optional()}),GA=lt({type:Te("file"),data:ln([qA,ef(URL)]),filename:ce().optional(),mediaType:ce(),providerOptions:He.optional()}),nF=lt({type:Te("reasoning"),text:ce(),providerOptions:He.optional()}),rF=lt({type:Te("tool-call"),toolCallId:ce(),toolName:ce(),input:xr(),providerOptions:He.optional(),providerExecuted:sn().optional()}),iF=d4("type",[lt({type:Te("text"),value:ce(),providerOptions:He.optional()}),lt({type:Te("json"),value:Ol,providerOptions:He.optional()}),lt({type:Te("execution-denied"),reason:ce().optional(),providerOptions:He.optional()}),lt({type:Te("error-text"),value:ce(),providerOptions:He.optional()}),lt({type:Te("error-json"),value:Ol,providerOptions:He.optional()}),lt({type:Te("content"),value:Ws(ln([lt({type:Te("text"),text:ce(),providerOptions:He.optional()}),lt({type:Te("media"),data:ce(),mediaType:ce()}),lt({type:Te("file-data"),data:ce(),mediaType:ce(),filename:ce().optional(),providerOptions:He.optional()}),lt({type:Te("file-url"),url:ce(),providerOptions:He.optional()}),lt({type:Te("file-id"),fileId:ln([ce(),Tl(ce(),ce())]),providerOptions:He.optional()}),lt({type:Te("image-data"),data:ce(),mediaType:ce(),providerOptions:He.optional()}),lt({type:Te("image-url"),url:ce(),providerOptions:He.optional()}),lt({type:Te("image-file-id"),fileId:ln([ce(),Tl(ce(),ce())]),providerOptions:He.optional()}),lt({type:Te("custom"),providerOptions:He.optional()})]))})]),YA=lt({type:Te("tool-result"),toolCallId:ce(),toolName:ce(),output:iF,providerOptions:He.optional()}),aF=lt({type:Te("tool-approval-request"),approvalId:ce(),toolCallId:ce()}),sF=lt({type:Te("tool-approval-response"),approvalId:ce(),approved:sn(),reason:ce().optional()}),oF=lt({role:Te("system"),content:ce(),providerOptions:He.optional()}),lF=lt({role:Te("user"),content:ln([ce(),Ws(ln([VA,tF,GA]))]),providerOptions:He.optional()}),uF=lt({role:Te("assistant"),content:ln([ce(),Ws(ln([VA,GA,nF,rF,YA,aF]))]),providerOptions:He.optional()}),cF=lt({role:Te("tool"),content:Ws(ln([YA,sF])),providerOptions:He.optional()});ln([oF,lF,uF,cF]);function JA(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(a===void 0)continue;const o=r in e?e[r]:void 0,l=a!==null&&typeof a=="object"&&!Array.isArray(a)&&!(a instanceof Date)&&!(a instanceof RegExp),c=o!=null&&typeof o=="object"&&!Array.isArray(o)&&!(o instanceof Date)&&!(o instanceof RegExp);l&&c?n[r]=JA(o,a):n[r]=a}return n}var fF={};Q$(fF,{array:()=>mF,choice:()=>gF,json:()=>yF,object:()=>pF,text:()=>hF});function dF(e){const t=["ROOT"];let n=-1,r=null;function a(h,d,p){switch(h){case'"':{n=d,t.pop(),t.push(p),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(p),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(p),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(p),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(p),t.push("INSIDE_ARRAY_START");break}}}function o(h,d){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function l(h,d){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let h=0;h<e.length;h++){const d=e[h];switch(t[t.length-1]){case"ROOT":a(d,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=h,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{d==='"'&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break}case"INSIDE_OBJECT_KEY":{d==='"'&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break}case"INSIDE_OBJECT_AFTER_KEY":{d===":"&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(d,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(d,h);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=h;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{d==="]"?(n=h,t.pop()):(n=h,a(d,h,"INSIDE_ARRAY_AFTER_VALUE"));break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=h,t.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(d,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=h;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(d,h);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(d,h);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,h);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const g=e.substring(r,h+1);!"false".startsWith(g)&&!"true".startsWith(g)&&!"null".startsWith(g)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(d,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,h)):n=h;break}}}let c=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const p=e.substring(r,e.length);"true".startsWith(p)?c+="true".slice(p.length):"false".startsWith(p)?c+="false".slice(p.length):"null".startsWith(p)&&(c+="null".slice(p.length))}}return c}async function Vl(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await Sa({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await Sa({text:dF(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var hF=()=>({name:"text",responseFormat:Promise.resolve({type:"text"}),async parseCompleteOutput({text:e}){return e},async parsePartialOutput({text:e}){return{partial:e}},createElementStreamTransform(){}}),pF=({schema:e,name:t,description:n})=>{const r=Kg(e);return{name:"object",responseFormat:Di(r.jsonSchema).then(a=>({type:"json",schema:a,...t!=null&&{name:t},...n!=null&&{description:n}})),async parseCompleteOutput({text:a},o){const l=await Sa({text:a});if(!l.success)throw new Ui({message:"No object generated: could not parse the response.",cause:l.error,text:a,response:o.response,usage:o.usage,finishReason:o.finishReason});const c=await Ml({value:l.value,schema:r});if(!c.success)throw new Ui({message:"No object generated: response did not match schema.",cause:c.error,text:a,response:o.response,usage:o.usage,finishReason:o.finishReason});return c.value},async parsePartialOutput({text:a}){const o=await Vl(a);switch(o.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:o.value}}},createElementStreamTransform(){}}},mF=({element:e,name:t,description:n})=>{const r=Kg(e);return{name:"array",responseFormat:Di(r.jsonSchema).then(a=>{const{$schema:o,...l}=a;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:l}},required:["elements"],additionalProperties:!1},...t!=null&&{name:t},...n!=null&&{description:n}}}),async parseCompleteOutput({text:a},o){const l=await Sa({text:a});if(!l.success)throw new Ui({message:"No object generated: could not parse the response.",cause:l.error,text:a,response:o.response,usage:o.usage,finishReason:o.finishReason});const c=l.value;if(c==null||typeof c!="object"||!("elements"in c)||!Array.isArray(c.elements))throw new Ui({message:"No object generated: response did not match schema.",cause:new Gs({value:c,cause:"response must be an object with an elements array"}),text:a,response:o.response,usage:o.usage,finishReason:o.finishReason});for(const h of c.elements){const d=await Ml({value:h,schema:r});if(!d.success)throw new Ui({message:"No object generated: response did not match schema.",cause:d.error,text:a,response:o.response,usage:o.usage,finishReason:o.finishReason})}return c.elements},async parsePartialOutput({text:a}){const o=await Vl(a);switch(o.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const l=o.value;if(l==null||typeof l!="object"||!("elements"in l)||!Array.isArray(l.elements))return;const c=o.state==="repaired-parse"&&l.elements.length>0?l.elements.slice(0,-1):l.elements,h=[];for(const d of c){const p=await Ml({value:d,schema:r});p.success&&h.push(p.value)}return{partial:h}}}},createElementStreamTransform(){let a=0;return new TransformStream({transform({partialOutput:o},l){if(o!=null)for(;a<o.length;a++)l.enqueue(o[a])}})}}},gF=({options:e,name:t,description:n})=>({name:"choice",responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},...t!=null&&{name:t},...n!=null&&{description:n}}),async parseCompleteOutput({text:r},a){const o=await Sa({text:r});if(!o.success)throw new Ui({message:"No object generated: could not parse the response.",cause:o.error,text:r,response:a.response,usage:a.usage,finishReason:a.finishReason});const l=o.value;if(l==null||typeof l!="object"||!("result"in l)||typeof l.result!="string"||!e.includes(l.result))throw new Ui({message:"No object generated: response did not match schema.",cause:new Gs({value:l,cause:"response must be an object that contains a choice value."}),text:r,response:a.response,usage:a.usage,finishReason:a.finishReason});return l.result},async parsePartialOutput({text:r}){const a=await Vl(r);switch(a.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const o=a.value;if(o==null||typeof o!="object"||!("result"in o)||typeof o.result!="string")return;const l=e.filter(c=>c.startsWith(o.result));return a.state==="successful-parse"?l.includes(o.result)?{partial:o.result}:void 0:l.length===1?{partial:l[0]}:void 0}}},createElementStreamTransform(){}}),yF=({name:e,description:t}={})=>({name:"json",responseFormat:Promise.resolve({type:"json",...e!=null&&{name:e},...t!=null&&{description:t}}),async parseCompleteOutput({text:n},r){const a=await Sa({text:n});if(!a.success)throw new Ui({message:"No object generated: could not parse the response.",cause:a.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return a.value},async parsePartialOutput({text:n}){const r=await Vl(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return r.value===void 0?void 0:{partial:r.value}}},createElementStreamTransform(){}});ql({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var bF=Z$(()=>LA(ln([pt({type:Te("text-start"),id:ce(),providerMetadata:He.optional()}),pt({type:Te("text-delta"),id:ce(),delta:ce(),providerMetadata:He.optional()}),pt({type:Te("text-end"),id:ce(),providerMetadata:He.optional()}),pt({type:Te("error"),errorText:ce()}),pt({type:Te("tool-input-start"),toolCallId:ce(),toolName:ce(),providerExecuted:sn().optional(),providerMetadata:He.optional(),dynamic:sn().optional(),title:ce().optional()}),pt({type:Te("tool-input-delta"),toolCallId:ce(),inputTextDelta:ce()}),pt({type:Te("tool-input-available"),toolCallId:ce(),toolName:ce(),input:xr(),providerExecuted:sn().optional(),providerMetadata:He.optional(),dynamic:sn().optional(),title:ce().optional()}),pt({type:Te("tool-input-error"),toolCallId:ce(),toolName:ce(),input:xr(),providerExecuted:sn().optional(),providerMetadata:He.optional(),dynamic:sn().optional(),errorText:ce(),title:ce().optional()}),pt({type:Te("tool-approval-request"),approvalId:ce(),toolCallId:ce()}),pt({type:Te("tool-output-available"),toolCallId:ce(),output:xr(),providerExecuted:sn().optional(),dynamic:sn().optional(),preliminary:sn().optional()}),pt({type:Te("tool-output-error"),toolCallId:ce(),errorText:ce(),providerExecuted:sn().optional(),dynamic:sn().optional()}),pt({type:Te("tool-output-denied"),toolCallId:ce()}),pt({type:Te("reasoning-start"),id:ce(),providerMetadata:He.optional()}),pt({type:Te("reasoning-delta"),id:ce(),delta:ce(),providerMetadata:He.optional()}),pt({type:Te("reasoning-end"),id:ce(),providerMetadata:He.optional()}),pt({type:Te("source-url"),sourceId:ce(),url:ce(),title:ce().optional(),providerMetadata:He.optional()}),pt({type:Te("source-document"),sourceId:ce(),mediaType:ce(),title:ce(),filename:ce().optional(),providerMetadata:He.optional()}),pt({type:Te("file"),url:ce(),mediaType:ce(),providerMetadata:He.optional()}),pt({type:FT(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:ce().optional(),data:xr(),transient:sn().optional()}),pt({type:Te("start-step")}),pt({type:Te("finish-step")}),pt({type:Te("start"),messageId:ce().optional(),messageMetadata:xr().optional()}),pt({type:Te("finish"),finishReason:BT(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:xr().optional()}),pt({type:Te("abort"),reason:ce().optional()}),pt({type:Te("message-metadata"),messageMetadata:xr()})])));function vF(e){return e.type.startsWith("data-")}function Pm(e){return e.type.startsWith("tool-")}function XA(e){return e.type==="dynamic-tool"}function Il(e){return Pm(e)||XA(e)}function Lm(e){return e.type.split("-").slice(1).join("-")}function xF(e){return XA(e)?e.toolName:Lm(e)}function wF({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function _F({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:o,onData:l}){return e.pipeThrough(new TransformStream({async transform(c,h){await r(async({state:d,write:p})=>{var g,b,v,E;function S(A){const F=d.message.parts.filter(Il).find(I=>I.toolCallId===A);if(F==null)throw new Es({chunkType:"tool-invocation",chunkId:A,message:`No tool invocation found for tool call ID "${A}".`});return F}function T(A){var j;const F=d.message.parts.find($=>Pm($)&&$.toolCallId===A.toolCallId),I=A,L=F;F!=null?(F.state=A.state,L.input=I.input,L.output=I.output,L.errorText=I.errorText,L.rawInput=I.rawInput,L.preliminary=I.preliminary,A.title!==void 0&&(L.title=A.title),L.providerExecuted=(j=I.providerExecuted)!=null?j:F.providerExecuted,I.providerMetadata!=null&&(F.callProviderMetadata=I.providerMetadata)):d.message.parts.push({type:`tool-${A.toolName}`,toolCallId:A.toolCallId,state:A.state,title:A.title,input:I.input,output:I.output,rawInput:I.rawInput,errorText:I.errorText,providerExecuted:I.providerExecuted,preliminary:I.preliminary,...I.providerMetadata!=null?{callProviderMetadata:I.providerMetadata}:{}})}function C(A){var j,F;const I=d.message.parts.find(se=>se.type==="dynamic-tool"&&se.toolCallId===A.toolCallId),L=A,$=I;I!=null?(I.state=A.state,$.toolName=A.toolName,$.input=L.input,$.output=L.output,$.errorText=L.errorText,$.rawInput=(j=L.rawInput)!=null?j:$.rawInput,$.preliminary=L.preliminary,A.title!==void 0&&($.title=A.title),$.providerExecuted=(F=L.providerExecuted)!=null?F:I.providerExecuted,L.providerMetadata!=null&&(I.callProviderMetadata=L.providerMetadata)):d.message.parts.push({type:"dynamic-tool",toolName:A.toolName,toolCallId:A.toolCallId,state:A.state,input:L.input,output:L.output,errorText:L.errorText,preliminary:L.preliminary,providerExecuted:L.providerExecuted,title:A.title,...L.providerMetadata!=null?{callProviderMetadata:L.providerMetadata}:{}})}async function O(A){if(A!=null){const j=d.message.metadata!=null?JA(d.message.metadata,A):A;t!=null&&await CS({value:j,schema:t,context:{field:"message.metadata",entityId:d.message.id}}),d.message.metadata=j}}switch(c.type){case"text-start":{const A={type:"text",text:"",providerMetadata:c.providerMetadata,state:"streaming"};d.activeTextParts[c.id]=A,d.message.parts.push(A),p();break}case"text-delta":{const A=d.activeTextParts[c.id];if(A==null)throw new Es({chunkType:"text-delta",chunkId:c.id,message:`Received text-delta for missing text part with ID "${c.id}". Ensure a "text-start" chunk is sent before any "text-delta" chunks.`});A.text+=c.delta,A.providerMetadata=(g=c.providerMetadata)!=null?g:A.providerMetadata,p();break}case"text-end":{const A=d.activeTextParts[c.id];if(A==null)throw new Es({chunkType:"text-end",chunkId:c.id,message:`Received text-end for missing text part with ID "${c.id}". Ensure a "text-start" chunk is sent before any "text-end" chunks.`});A.state="done",A.providerMetadata=(b=c.providerMetadata)!=null?b:A.providerMetadata,delete d.activeTextParts[c.id],p();break}case"reasoning-start":{const A={type:"reasoning",text:"",providerMetadata:c.providerMetadata,state:"streaming"};d.activeReasoningParts[c.id]=A,d.message.parts.push(A),p();break}case"reasoning-delta":{const A=d.activeReasoningParts[c.id];if(A==null)throw new Es({chunkType:"reasoning-delta",chunkId:c.id,message:`Received reasoning-delta for missing reasoning part with ID "${c.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-delta" chunks.`});A.text+=c.delta,A.providerMetadata=(v=c.providerMetadata)!=null?v:A.providerMetadata,p();break}case"reasoning-end":{const A=d.activeReasoningParts[c.id];if(A==null)throw new Es({chunkType:"reasoning-end",chunkId:c.id,message:`Received reasoning-end for missing reasoning part with ID "${c.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-end" chunks.`});A.providerMetadata=(E=c.providerMetadata)!=null?E:A.providerMetadata,A.state="done",delete d.activeReasoningParts[c.id],p();break}case"file":{d.message.parts.push({type:"file",mediaType:c.mediaType,url:c.url}),p();break}case"source-url":{d.message.parts.push({type:"source-url",sourceId:c.sourceId,url:c.url,title:c.title,providerMetadata:c.providerMetadata}),p();break}case"source-document":{d.message.parts.push({type:"source-document",sourceId:c.sourceId,mediaType:c.mediaType,title:c.title,filename:c.filename,providerMetadata:c.providerMetadata}),p();break}case"tool-input-start":{const A=d.message.parts.filter(Pm);d.partialToolCalls[c.toolCallId]={text:"",toolName:c.toolName,index:A.length,dynamic:c.dynamic,title:c.title},c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0,providerExecuted:c.providerExecuted,title:c.title,providerMetadata:c.providerMetadata}):T({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-streaming",input:void 0,providerExecuted:c.providerExecuted,title:c.title,providerMetadata:c.providerMetadata}),p();break}case"tool-input-delta":{const A=d.partialToolCalls[c.toolCallId];if(A==null)throw new Es({chunkType:"tool-input-delta",chunkId:c.toolCallId,message:`Received tool-input-delta for missing tool call with ID "${c.toolCallId}". Ensure a "tool-input-start" chunk is sent before any "tool-input-delta" chunks.`});A.text+=c.inputTextDelta;const{value:j}=await Vl(A.text);A.dynamic?C({toolCallId:c.toolCallId,toolName:A.toolName,state:"input-streaming",input:j,title:A.title}):T({toolCallId:c.toolCallId,toolName:A.toolName,state:"input-streaming",input:j,title:A.title}),p();break}case"tool-input-available":{c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata,title:c.title}):T({toolCallId:c.toolCallId,toolName:c.toolName,state:"input-available",input:c.input,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata,title:c.title}),p(),o&&!c.providerExecuted&&await o({toolCall:c});break}case"tool-input-error":{c.dynamic?C({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:c.input,errorText:c.errorText,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}):T({toolCallId:c.toolCallId,toolName:c.toolName,state:"output-error",input:void 0,rawInput:c.input,errorText:c.errorText,providerExecuted:c.providerExecuted,providerMetadata:c.providerMetadata}),p();break}case"tool-approval-request":{const A=S(c.toolCallId);A.state="approval-requested",A.approval={id:c.approvalId},p();break}case"tool-output-denied":{const A=S(c.toolCallId);A.state="output-denied",p();break}case"tool-output-available":{const A=S(c.toolCallId);A.type==="dynamic-tool"?C({toolCallId:c.toolCallId,toolName:A.toolName,state:"output-available",input:A.input,output:c.output,preliminary:c.preliminary,providerExecuted:c.providerExecuted,title:A.title}):T({toolCallId:c.toolCallId,toolName:Lm(A),state:"output-available",input:A.input,output:c.output,providerExecuted:c.providerExecuted,preliminary:c.preliminary,title:A.title}),p();break}case"tool-output-error":{const A=S(c.toolCallId);A.type==="dynamic-tool"?C({toolCallId:c.toolCallId,toolName:A.toolName,state:"output-error",input:A.input,errorText:c.errorText,providerExecuted:c.providerExecuted,title:A.title}):T({toolCallId:c.toolCallId,toolName:Lm(A),state:"output-error",input:A.input,rawInput:A.rawInput,errorText:c.errorText,providerExecuted:c.providerExecuted,title:A.title}),p();break}case"start-step":{d.message.parts.push({type:"step-start"});break}case"finish-step":{d.activeTextParts={},d.activeReasoningParts={};break}case"start":{c.messageId!=null&&(d.message.id=c.messageId),await O(c.messageMetadata),(c.messageId!=null||c.messageMetadata!=null)&&p();break}case"finish":{c.finishReason!=null&&(d.finishReason=c.finishReason),await O(c.messageMetadata),c.messageMetadata!=null&&p();break}case"message-metadata":{await O(c.messageMetadata),c.messageMetadata!=null&&p();break}case"error":{a?.(new Error(c.errorText));break}default:if(vF(c)){if(n?.[c.type]!=null){const F=d.message.parts.findIndex(L=>"id"in L&&"data"in L&&L.id===c.id&&L.type===c.type),I=F>=0?F:d.message.parts.length;await CS({value:c.data,schema:n[c.type],context:{field:`message.parts[${I}].data`,entityName:c.type,entityId:c.id}})}const A=c;if(A.transient){l?.(A);break}const j=A.id!=null?d.message.parts.find(F=>A.type===F.type&&A.id===F.id):void 0;j!=null?j.data=A.data:d.message.parts.push(A),l?.(A),p()}}h.enqueue(c)})}}))}async function SF({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}ql({prefix:"aitxt",size:24});ql({prefix:"aiobj",size:24});var EF=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};ql({prefix:"aiobj",size:24});async function TF(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,a=await new Promise((o,l)=>{const c=new FileReader;c.onload=h=>{var d;o((d=h.target)==null?void 0:d.result)},c.onerror=h=>l(h),c.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:a}}))}var CF=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:o,prepareReconnectToStreamRequest:l}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=o,this.prepareReconnectToStreamRequest=l}async sendMessages({abortSignal:e,...t}){var n,r,a,o,l;const c=await Di(this.body),h=await Di(this.headers),d=await Di(this.credentials),p={...xa(h),...xa(t.headers)},g=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...c,...t.body},headers:p,credentials:d,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),b=(r=g?.api)!=null?r:this.api,v=g?.headers!==void 0?xa(g.headers):p,E=g?.body!==void 0?g.body:{...c,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},S=(a=g?.credentials)!=null?a:d,C=await((o=this.fetch)!=null?o:globalThis.fetch)(b,{method:"POST",headers:_S({"Content-Type":"application/json",...v},`ai-sdk/${AS}`,wS()),body:JSON.stringify(E),credentials:S,signal:e});if(!C.ok)throw new Error((l=await C.text())!=null?l:"Failed to fetch the chat response.");if(!C.body)throw new Error("The response body is empty.");return this.processResponseStream(C.body)}async reconnectToStream(e){var t,n,r,a,o;const l=await Di(this.body),c=await Di(this.headers),h=await Di(this.credentials),d={...xa(c),...xa(e.headers)},p=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...l,...e.body},headers:d,credentials:h,requestMetadata:e.metadata})),g=(n=p?.api)!=null?n:`${this.api}/${e.chatId}/stream`,b=p?.headers!==void 0?xa(p.headers):d,v=(r=p?.credentials)!=null?r:h,S=await((a=this.fetch)!=null?a:globalThis.fetch)(g,{method:"GET",headers:_S(b,`ai-sdk/${AS}`,wS()),credentials:v});if(S.status===204)return null;if(!S.ok)throw new Error((o=await S.text())!=null?o:"Failed to fetch the chat response.");if(!S.body)throw new Error("The response body is empty.");return this.processResponseStream(S.body)}},KA=class extends CF{constructor(e={}){super(e)}processResponseStream(e){return X$({stream:e,schema:bF}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},AF=class{constructor({generateId:e=NA,id:t=e(),transport:n=new KA,messageMetadataSchema:r,dataPartSchemas:a,state:o,onError:l,onToolCall:c,onFinish:h,onData:d,sendAutomaticallyWhen:p}){this.activeResponse=void 0,this.jobExecutor=new EF,this.sendMessage=async(g,b)=>{var v,E,S,T;if(g==null){await this.makeRequest({trigger:"submit-message",messageId:(v=this.lastMessage)==null?void 0:v.id,...b});return}let C;if("text"in g||"files"in g?C={parts:[...Array.isArray(g.files)?g.files:await TF(g.files),..."text"in g&&g.text!=null?[{type:"text",text:g.text}]:[]]}:C=g,g.messageId!=null){const O=this.state.messages.findIndex(A=>A.id===g.messageId);if(O===-1)throw new Error(`message with id ${g.messageId} not found`);if(this.state.messages[O].role!=="user")throw new Error(`message with id ${g.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,O+1),this.state.replaceMessage(O,{...C,id:g.messageId,role:(E=C.role)!=null?E:"user",metadata:g.metadata})}else this.state.pushMessage({...C,id:(S=C.id)!=null?S:this.generateId(),role:(T=C.role)!=null?T:"user",metadata:g.metadata});await this.makeRequest({trigger:"submit-message",messageId:g.messageId,...b})},this.regenerate=async({messageId:g,...b}={})=>{const v=g==null?this.state.messages.length-1:this.state.messages.findIndex(E=>E.id===g);if(v===-1)throw new Error(`message ${g} not found`);this.state.messages=this.state.messages.slice(0,this.messages[v].role==="assistant"?v:v+1),await this.makeRequest({trigger:"regenerate-message",messageId:g,...b})},this.resumeStream=async(g={})=>{await this.makeRequest({trigger:"resume-stream",...g})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:g,approved:b,reason:v})=>this.jobExecutor.run(async()=>{const E=this.state.messages,S=E[E.length-1],T=C=>Il(C)&&C.state==="approval-requested"&&C.approval.id===g?{...C,state:"approval-responded",approval:{id:g,approved:b,reason:v}}:C;this.state.replaceMessage(E.length-1,{...S,parts:S.parts.map(T)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(T)),this.status!=="streaming"&&this.status!=="submitted"&&this.sendAutomaticallyWhen&&this.shouldSendAutomatically().then(C=>{var O;C&&this.makeRequest({trigger:"submit-message",messageId:(O=this.lastMessage)==null?void 0:O.id})})}),this.addToolOutput=async({state:g="output-available",tool:b,toolCallId:v,output:E,errorText:S})=>this.jobExecutor.run(async()=>{const T=this.state.messages,C=T[T.length-1],O=A=>Il(A)&&A.toolCallId===v?{...A,state:g,output:E,errorText:S}:A;this.state.replaceMessage(T.length-1,{...C,parts:C.parts.map(O)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(O)),this.status!=="streaming"&&this.status!=="submitted"&&this.sendAutomaticallyWhen&&this.shouldSendAutomatically().then(A=>{var j;A&&this.makeRequest({trigger:"submit-message",messageId:(j=this.lastMessage)==null?void 0:j.id})})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var g;this.status!=="streaming"&&this.status!=="submitted"||(g=this.activeResponse)!=null&&g.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=o,this.onError=l,this.onToolCall=c,this.onFinish=h,this.onData=d,this.sendAutomaticallyWhen=p}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async shouldSendAutomatically(){if(!this.sendAutomaticallyWhen)return!1;const e=this.sendAutomaticallyWhen({messages:this.state.messages});return e&&typeof e=="object"&&"then"in e?await e:e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var o,l,c;this.setStatus({status:"submitted",error:void 0});const h=this.lastMessage;let d=!1,p=!1,g=!1;try{const b={state:wF({lastMessage:this.state.snapshot(h),messageId:this.generateId()}),abortController:new AbortController};b.abortController.signal.addEventListener("abort",()=>{d=!0}),this.activeResponse=b;let v;if(e==="resume-stream"){const S=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(S==null){this.setStatus({status:"ready"});return}v=S}else v=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:b.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const E=S=>this.jobExecutor.run(()=>S({state:b.state,write:()=>{var T;this.setStatus({status:"streaming"}),b.state.message.id===((T=this.lastMessage)==null?void 0:T.id)?this.state.replaceMessage(this.state.messages.length-1,b.state.message):this.state.pushMessage(b.state.message)}}));await SF({stream:_F({stream:v,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:E,onError:S=>{throw S}}),onError:S=>{throw S}}),this.setStatus({status:"ready"})}catch(b){if(d||b.name==="AbortError")return d=!0,this.setStatus({status:"ready"}),null;g=!0,b instanceof TypeError&&(b.message.toLowerCase().includes("fetch")||b.message.toLowerCase().includes("network"))&&(p=!0),this.onError&&b instanceof Error&&this.onError(b),this.setStatus({status:"error",error:b})}finally{try{(l=this.onFinish)==null||l.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:d,isDisconnect:p,isError:g,finishReason:(o=this.activeResponse)==null?void 0:o.state.finishReason})}catch(b){console.error(b)}this.activeResponse=void 0}!g&&await this.shouldSendAutomatically()&&await this.makeRequest({trigger:"submit-message",messageId:(c=this.lastMessage)==null?void 0:c.id,metadata:t,headers:n,body:r})}};const kS=(e,t)=>{if(t==null)return[];let n=e.findIndex(r=>r.id===t);if(n===-1)throw new Error("useVercelAIThreadState: Message not found. This is likely an internal bug in assistant-ui.");for(;e[n+1]?.role==="assistant";)n++;return e.slice(0,n+1)},RS=e=>{const n=[...e.content.filter(r=>r.type!=="file"),...e.attachments?.flatMap(r=>r.content.map(a=>({...a,filename:r.name})))??[]].map(r=>{switch(r.type){case"text":return{type:"text",text:r.text};case"image":return{type:"file",url:r.image,...r.filename&&{filename:r.filename},mediaType:"image/png"};case"file":return{type:"file",url:r.data,mediaType:r.mimeType,...r.filename&&{filename:r.filename}};default:throw new Error(`Unsupported part type: ${r.type}`)}});return{role:e.role,parts:n,metadata:e.metadata}},kF=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=a=>n(a),r.readAsDataURL(e)}),RF={accept:"image/*, text/plain, text/html, text/markdown, text/csv, text/xml, text/json, text/css",async add({file:e}){return{id:NA(),type:e.type.startsWith("image/")?"image":"file",name:e.name,file:e,contentType:e.type,content:[],status:{type:"requires-action",reason:"composer-send"}}},async send(e){return{...e,status:{type:"complete"},content:[{type:"file",mimeType:e.contentType,filename:e.name,data:await kF(e.file)}]}},async remove(){}},MS=e=>Li(e);function MF(e){return e.replace(/[}\]"]+$/,"")}const Zp=(e,t)=>!e.parts||e.parts.length===0?[]:e.parts.filter(n=>n.type!=="step-start"&&n.type!=="file").map(n=>{const r=n.type;if(r==="text")return{type:"text",text:n.text};if(r==="reasoning")return{type:"reasoning",text:n.text};if(Il(n)){const a=xF(n),o=n.toolCallId;let l={},c,h=!1;n.state==="input-streaming"||n.state==="input-available"?l=n.input||{}:n.state==="output-available"?(l=n.input||{},c=n.output):n.state==="output-error"&&(l=n.input||{},h=!0,c={error:n.errorText});let d=JSON.stringify(l);n.state==="input-streaming"&&(d=MF(d));const p=t.toolStatuses?.[o];return{type:"tool-call",toolName:a,toolCallId:o,argsText:d,args:l,result:c,isError:h,...p?.type==="interrupt"&&{interrupt:p.payload,status:{type:"requires-action",reason:"interrupt"}}}}return r==="source-url"?{type:"source",sourceType:"url",id:n.sourceId,url:n.url,title:n.title||""}:r==="source-document"?(console.warn(`Source document part type ${r} is not yet supported in conversion`),null):r.startsWith("data-")?{type:"data",name:r.substring(5),data:n.data}:(console.warn(`Unsupported message part type: ${r}`),null)}).filter(Boolean),qp=hD((e,t)=>{const n=new Date;switch(e.role){case"user":return{role:"user",id:e.id,createdAt:n,content:Zp(e,t),attachments:e.parts?.filter(r=>r.type==="file").map((r,a)=>({id:a.toString(),type:r.mediaType.startsWith("image/")?"image":"file",name:r.filename??"file",content:[r.mediaType.startsWith("image/")?{type:"image",image:r.url,filename:r.filename}:{type:"file",filename:r.filename,data:r.url,mimeType:r.mediaType}],contentType:r.mediaType??"unknown/unknown",status:{type:"complete"}})),metadata:e.metadata};case"system":return{role:"system",id:e.id,createdAt:n,content:Zp(e,t),metadata:e.metadata};case"assistant":return{role:"assistant",id:e.id,createdAt:n,content:Zp(e,t),metadata:e.metadata};default:return console.warn(`Unsupported message role: ${e.role}`),[]}}),OF={format:"ai-sdk/v6",encode({message:{id:e,parts:t,...n}}){return{...n,parts:t}},decode(e){return{parentId:e.parent_id,message:{id:e.id,...e.content}}},getId(e){return e.id}},{MessageRepository:IF}=DE,QA=(e,t)=>({headId:t.headId,messages:t.messages.map(n=>{const r=e([n.message])[0];return{...n,message:r}})}),NF=(e,t,n,r,a)=>{const o=w.useRef(!1),l=ze(),c=w.useCallback(()=>l.threadListItem.source?l.threadListItem():null,[l]),[h,d]=w.useState(!1),p=w.useRef(new Set),g=w.useRef(()=>a);return w.useEffect(()=>{g.current=a}),w.useEffect(()=>{if(!t||o.current)return;const b=async()=>{d(!0);try{const v=await t.withFormat?.(r).load();if(v&&v.messages.length>0){const E=QA(n,v);e.current.thread.import(E);const S=new IF;S.import(E);const T=S.getMessages();g.current(T.map(Li).flat()),p.current=new Set(E.messages.map(C=>C.message.id))}}catch(v){console.error("Failed to load message history:",v)}finally{d(!1)}};if(!o.current){if(o.current=!0,!c()?.getState().remoteId){d(!1);return}b()}},[t,r,n,e,c]),w.useEffect(()=>e.current.thread.subscribe(async()=>{const{messages:b,isRunning:v}=e.current.thread.getState();if(!v)for(let E=0;E<b.length;E++){const S=b[E];if(S.status===void 0||S.status.type==="complete"||S.status.type==="incomplete"){if(p.current.has(S.id))continue;p.current.add(S.id);const T=E>0?b[E-1].id:null;await t?.withFormat?.(r).append({parentId:T,message:Li(S)[0]})}}}),[t,r,e]),h},zF=(e,{adapters:t,toCreateMessage:n,cancelPendingToolCallsOnSend:r=!0}={})=>{const a=EE(),[o,l]=w.useState({}),c=Object.values(o).some(S=>S?.type==="executing"),h=e.status==="submitted"||e.status==="streaming"||c,d=qp.useThreadMessages({isRunning:h,messages:e.messages,metadata:w.useMemo(()=>({toolStatuses:o,...e.error&&{error:e.error.message}}),[o,e.error])}),[p]=w.useState(()=>({get current(){return E}})),g=CE({state:{messages:d,isRunning:h},getTools:()=>p.current.thread.getModelContext().tools,onResult:S=>{S.type==="add-tool-result"&&e.addToolResult({tool:S.toolName,toolCallId:S.toolCallId,output:S.result})},setToolStatuses:l}),b=NF(p,t?.history??a?.history,qp.toThreadMessages,OF,S=>{e.setMessages(S)}),v=async()=>{r&&(await g.abort(),e.setMessages(S=>{const T=S.at(-1);if(T?.role!=="assistant")return S;let C=!1;const O=T.parts?.map(A=>!Il(A)||A.state==="output-available"||A.state==="output-error"?A:(C=!0,{...A,state:"output-error",errorText:"User cancelled tool call by sending a new message."}));return C?[...S.slice(0,-1),{...T,parts:O}]:S}))},E=uD({isRunning:h,messages:d,setMessages:S=>e.setMessages(S.map(MS).filter(Boolean).flat()),onImport:S=>e.setMessages(S.map(MS).filter(Boolean).flat()),onExportExternalState:()=>{const S=p.current.thread.export(),T={messages:S.messages.map(C=>({parentId:C.parentId,message:Li(C.message)[0]}))};return S.headId!==void 0&&(T.headId=S.headId),T},onLoadExternalState:S=>{const T=QA(qp.toThreadMessages,S);p.current.thread.import(T)},onCancel:async()=>{e.stop(),await g.abort()},onNew:async S=>{await v();const T=(n??RS)(S);await e.sendMessage(T,{metadata:S.runConfig})},onEdit:async S=>{const T=kS(e.messages,S.parentId);e.setMessages(T);const C=(n??RS)(S);await e.sendMessage(C,{metadata:S.runConfig})},onReload:async(S,T)=>{const C=kS(e.messages,S);e.setMessages(C),await e.regenerate({metadata:T.runConfig})},onAddToolResult:({toolCallId:S,result:T,isError:C})=>{C?e.addToolOutput({state:"output-error",tool:S,toolCallId:S,errorText:typeof T=="string"?T:JSON.stringify(T)}):e.addToolOutput({state:"output-available",tool:S,toolCallId:S,output:T})},onResumeToolCall:S=>g.resume(S.toolCallId,S.payload),adapters:{attachments:RF,...a,...t},isLoading:b});return E};var Vp,OS;function DF(){if(OS)return Vp;OS=1;function e(t,n){if(typeof t!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof t}\`.`);let r,a=0;return function(...l){clearTimeout(r);const c=Date.now(),h=c-a,d=n-h;d<=0?(a=c,t.apply(this,l)):r=setTimeout(()=>{a=Date.now(),t.apply(this,l)},d)}}return Vp=e,Vp}var jF=DF();const PF=Ca(jF);var Gp={exports:{}},Yp={};var IS;function LF(){if(IS)return Yp;IS=1;var e=gf();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function c(g,b){var v=b(),E=r({inst:{value:v,getSnapshot:b}}),S=E[0].inst,T=E[1];return o(function(){S.value=v,S.getSnapshot=b,h(S)&&T({inst:S})},[g,v,b]),a(function(){return h(S)&&T({inst:S}),g(function(){h(S)&&T({inst:S})})},[g]),l(v),v}function h(g){var b=g.getSnapshot;g=g.value;try{var v=b();return!n(g,v)}catch{return!0}}function d(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Yp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Yp}var NS;function BF(){return NS||(NS=1,Gp.exports=LF()),Gp.exports}var UF=BF(),WA=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},mt=(e,t,n)=>(WA(e,t,"read from private field"),n?n.call(e):t.get(e)),br=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},zi=(e,t,n,r)=>(WA(e,t,"write to private field"),t.set(e,n),n);function $F(e,t){return t!=null?PF(e,t):e}var Gn,Fc,Hc,ll,ul,cl,ks,Bm,Um,FF=class{constructor(e=[]){br(this,Gn,void 0),br(this,Fc,"ready"),br(this,Hc,void 0),br(this,ll,new Set),br(this,ul,new Set),br(this,cl,new Set),this.pushMessage=t=>{zi(this,Gn,mt(this,Gn).concat(t)),mt(this,ks).call(this)},this.popMessage=()=>{zi(this,Gn,mt(this,Gn).slice(0,-1)),mt(this,ks).call(this)},this.replaceMessage=(t,n)=>{zi(this,Gn,[...mt(this,Gn).slice(0,t),this.snapshot(n),...mt(this,Gn).slice(t+1)]),mt(this,ks).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?$F(t,n):t;return mt(this,ll).add(r),()=>{mt(this,ll).delete(r)}},this["~registerStatusCallback"]=t=>(mt(this,ul).add(t),()=>{mt(this,ul).delete(t)}),this["~registerErrorCallback"]=t=>(mt(this,cl).add(t),()=>{mt(this,cl).delete(t)}),br(this,ks,()=>{mt(this,ll).forEach(t=>t())}),br(this,Bm,()=>{mt(this,ul).forEach(t=>t())}),br(this,Um,()=>{mt(this,cl).forEach(t=>t())}),zi(this,Gn,e)}get status(){return mt(this,Fc)}set status(e){zi(this,Fc,e),mt(this,Bm).call(this)}get error(){return mt(this,Hc)}set error(e){zi(this,Hc,e),mt(this,Um).call(this)}get messages(){return mt(this,Gn)}set messages(e){zi(this,Gn,[...e]),mt(this,ks).call(this)}};Gn=new WeakMap;Fc=new WeakMap;Hc=new WeakMap;ll=new WeakMap;ul=new WeakMap;cl=new WeakMap;ks=new WeakMap;Bm=new WeakMap;Um=new WeakMap;var Rs,zS=class extends AF{constructor({messages:e,...t}){const n=new FF(e);super({...t,state:n}),br(this,Rs,void 0),this["~registerMessagesCallback"]=(r,a)=>mt(this,Rs)["~registerMessagesCallback"](r,a),this["~registerStatusCallback"]=r=>mt(this,Rs)["~registerStatusCallback"](r),this["~registerErrorCallback"]=r=>mt(this,Rs)["~registerErrorCallback"](r),zi(this,Rs,n)}};Rs=new WeakMap;function HF({experimental_throttle:e,resume:t=!1,...n}={}){const r=w.useRef("chat"in n?{}:{onToolCall:n.onToolCall,onData:n.onData,onFinish:n.onFinish,onError:n.onError,sendAutomaticallyWhen:n.sendAutomaticallyWhen});"chat"in n||(r.current={onToolCall:n.onToolCall,onData:n.onData,onFinish:n.onFinish,onError:n.onError,sendAutomaticallyWhen:n.sendAutomaticallyWhen});const a={...n,onToolCall:b=>{var v,E;return(E=(v=r.current).onToolCall)==null?void 0:E.call(v,b)},onData:b=>{var v,E;return(E=(v=r.current).onData)==null?void 0:E.call(v,b)},onFinish:b=>{var v,E;return(E=(v=r.current).onFinish)==null?void 0:E.call(v,b)},onError:b=>{var v,E;return(E=(v=r.current).onError)==null?void 0:E.call(v,b)},sendAutomaticallyWhen:b=>{var v,E,S;return(S=(E=(v=r.current).sendAutomaticallyWhen)==null?void 0:E.call(v,b))!=null?S:!1}},o=w.useRef("chat"in n?n.chat:new zS(a));("chat"in n&&n.chat!==o.current||"id"in n&&o.current.id!==n.id)&&(o.current="chat"in n?n.chat:new zS(a));const c=w.useCallback(b=>o.current["~registerMessagesCallback"](b,e),[e,o.current.id]),h=w.useSyncExternalStore(c,()=>o.current.messages,()=>o.current.messages),d=w.useSyncExternalStore(o.current["~registerStatusCallback"],()=>o.current.status,()=>o.current.status),p=w.useSyncExternalStore(o.current["~registerErrorCallback"],()=>o.current.error,()=>o.current.error),g=w.useCallback(b=>{typeof b=="function"&&(b=b(o.current.messages)),o.current.messages=b},[o]);return w.useEffect(()=>{t&&o.current.resumeStream()},[t,o]),{id:o.current.id,messages:h,setMessages:g,sendMessage:o.current.sendMessage,regenerate:o.current.regenerate,clearError:o.current.clearError,stop:o.current.stop,error:p,resumeStream:o.current.resumeStream,status:d,addToolResult:o.current.addToolOutput,addToolOutput:o.current.addToolOutput,addToolApprovalResponse:o.current.addToolApprovalResponse}}class $m extends KA{runtime;constructor(t){super({...t,prepareSendMessagesRequest:async n=>{const r=this.runtime?.thread.getModelContext(),a=(await this.runtime?.threads.mainItem.initialize())?.remoteId??n.id,o={...n,body:{callSettings:r?.callSettings,system:r?.system,config:r?.config,tools:Zz(r?.tools??{}),...n?.body}},l=await t?.prepareSendMessagesRequest?.(o);return{...l,body:l?.body??{...o.body,id:a,messages:n.messages,trigger:n.trigger,messageId:n.messageId,metadata:n.requestMetadata}}}})}setRuntime(t){this.runtime=t}}const ZF=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>new Proxy(t.current,{get(r,a){const o=t.current[a];return typeof o=="function"?o.bind(t.current):o}}),[])},qF=e=>{const{adapters:t,transport:n,toCreateMessage:r,...a}=e??{},o=ZF(n??new $m),l=xe(({threadListItem:d})=>d.id),c=HF({...a,id:l,transport:o}),h=zF(c,{adapters:t,...r&&{toCreateMessage:r}});return o instanceof $m&&o.setRuntime(h),h},VF=({cloud:e,...t}={})=>{const n=MD({cloud:e});return iB({runtimeHook:function(){return qF(t)},adapter:n,allowNesting:!0})};function ek(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ek(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tk(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ek(e))&&(r&&(r+=" "),r+=t);return r}const DS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jS=tk,GF=(e,t)=>n=>{var r;if(t?.variants==null)return jS(e,n?.class,n?.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(d=>{const p=n?.[d],g=o?.[d];if(p===null)return null;const b=DS(p)||DS(g);return a[d][b]}),c=n&&Object.entries(n).reduce((d,p)=>{let[g,b]=p;return b===void 0||(d[g]=b),d},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:g,className:b,...v}=p;return Object.entries(v).every(E=>{let[S,T]=E;return Array.isArray(T)?T.includes({...o,...c}[S]):{...o,...c}[S]===T})?[...d,g,b]:d},[]);return jS(e,l,h,n?.class,n?.className)};var YF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JF="VisuallyHidden",nk=w.forwardRef((e,t)=>x.jsx(at.span,{...e,ref:t,style:{...YF,...e.style}}));nk.displayName=JF;var XF=nk,Hf="Collapsible",[KF]=ii(Hf),[QF,Qg]=KF(Hf),rk=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:l,...c}=e,[h,d]=Bl({prop:r,defaultProp:a??!1,onChange:l,caller:Hf});return x.jsx(QF,{scope:n,disabled:o,contentId:Bi(),open:h,onOpenToggle:w.useCallback(()=>d(p=>!p),[d]),children:x.jsx(at.div,{"data-state":ey(h),"data-disabled":o?"":void 0,...c,ref:t})})});rk.displayName=Hf;var ik="CollapsibleTrigger",ak=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=Qg(ik,n);return x.jsx(at.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ey(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:_e(e.onClick,a.onOpenToggle)})});ak.displayName=ik;var Wg="CollapsibleContent",sk=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Qg(Wg,e.__scopeCollapsible);return x.jsx(dr,{present:n||a.open,children:({present:o})=>x.jsx(WF,{...r,ref:t,present:o})})});sk.displayName=Wg;var WF=w.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,l=Qg(Wg,n),[c,h]=w.useState(r),d=w.useRef(null),p=gt(t,d),g=w.useRef(0),b=g.current,v=w.useRef(0),E=v.current,S=l.open||c,T=w.useRef(S),C=w.useRef(void 0);return w.useEffect(()=>{const O=requestAnimationFrame(()=>T.current=!1);return()=>cancelAnimationFrame(O)},[]),Kn(()=>{const O=d.current;if(O){C.current=C.current||{transitionDuration:O.style.transitionDuration,animationName:O.style.animationName},O.style.transitionDuration="0s",O.style.animationName="none";const A=O.getBoundingClientRect();g.current=A.height,v.current=A.width,T.current||(O.style.transitionDuration=C.current.transitionDuration,O.style.animationName=C.current.animationName),h(r)}},[l.open,r]),x.jsx(at.div,{"data-state":ey(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!S,...o,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...e.style},children:S&&a})});function ey(e){return e?"open":"closed"}var eH=rk,Zf="Dialog",[ok]=ii(Zf),[tH,hr]=ok(Zf),lk=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=w.useRef(null),h=w.useRef(null),[d,p]=Bl({prop:r,defaultProp:a??!1,onChange:o,caller:Zf});return x.jsx(tH,{scope:t,triggerRef:c,contentRef:h,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:d,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};lk.displayName=Zf;var uk="DialogTrigger",ck=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=hr(uk,n),o=gt(t,a.triggerRef);return x.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ry(a.open),...r,ref:o,onClick:_e(e.onClick,a.onOpenToggle)})});ck.displayName=uk;var ty="DialogPortal",[nH,fk]=ok(ty,{forceMount:void 0}),dk=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=hr(ty,t);return x.jsx(nH,{scope:t,forceMount:n,children:w.Children.map(r,l=>x.jsx(dr,{present:n||o.open,children:x.jsx(zf,{asChild:!0,container:a,children:l})}))})};dk.displayName=ty;var cf="DialogOverlay",hk=w.forwardRef((e,t)=>{const n=fk(cf,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=hr(cf,e.__scopeDialog);return o.modal?x.jsx(dr,{present:r||o.open,children:x.jsx(iH,{...a,ref:t})}):null});hk.displayName=cf;var rH=qs("DialogOverlay.RemoveScroll"),iH=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=hr(cf,n);return x.jsx(Pg,{as:rH,allowPinchZoom:!0,shards:[a.contentRef],children:x.jsx(at.div,{"data-state":ry(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ea="DialogContent",pk=w.forwardRef((e,t)=>{const n=fk(Ea,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=hr(Ea,e.__scopeDialog);return x.jsx(dr,{present:r||o.open,children:o.modal?x.jsx(aH,{...a,ref:t}):x.jsx(sH,{...a,ref:t})})});pk.displayName=Ea;var aH=w.forwardRef((e,t)=>{const n=hr(Ea,e.__scopeDialog),r=w.useRef(null),a=gt(t,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return L1(o)},[]),x.jsx(mk,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault())})}),sH=w.forwardRef((e,t)=>{const n=hr(Ea,e.__scopeDialog),r=w.useRef(!1),a=w.useRef(!1);return x.jsx(mk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=o.target;n.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),mk=w.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...l}=e,c=hr(Ea,n),h=w.useRef(null),d=gt(t,h);return i1(),x.jsxs(x.Fragment,{children:[x.jsx(kg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:x.jsx(kf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ry(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(lH,{titleId:c.titleId}),x.jsx(cH,{contentRef:h,descriptionId:c.descriptionId})]})]})}),ny="DialogTitle",gk=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=hr(ny,n);return x.jsx(at.h2,{id:a.titleId,...r,ref:t})});gk.displayName=ny;var yk="DialogDescription",oH=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=hr(yk,n);return x.jsx(at.p,{id:a.descriptionId,...r,ref:t})});oH.displayName=yk;var bk="DialogClose",vk=w.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=hr(bk,n);return x.jsx(at.button,{type:"button",...r,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});vk.displayName=bk;function ry(e){return e?"open":"closed"}var xk="DialogTitleWarning",[lK,wk]=wB(xk,{contentName:Ea,titleName:ny,docsSlug:"dialog"}),lH=({titleId:e})=>{const t=wk(xk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uH="DialogDescriptionWarning",cH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wk(uH).contentName}}.`;return w.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},fH=lk,dH=ck,hH=dk,pH=hk,mH=pk,gH=gk,yH=vk;function bH(){return UF.useSyncExternalStore(vH,()=>!0,()=>!1)}function vH(){return()=>{}}var iy="Avatar",[xH]=ii(iy),[wH,_k]=xH(iy),Sk=w.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,o]=w.useState("idle");return x.jsx(wH,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:x.jsx(at.span,{...r,ref:t})})});Sk.displayName=iy;var Ek="AvatarImage",Tk=w.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...o}=e,l=_k(Ek,n),c=_H(r,o),h=Xt(d=>{a(d),l.onImageLoadingStatusChange(d)});return Kn(()=>{c!=="idle"&&h(c)},[c,h]),c==="loaded"?x.jsx(at.img,{...o,ref:t,src:r}):null});Tk.displayName=Ek;var Ck="AvatarFallback",Ak=w.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,o=_k(Ck,n),[l,c]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const h=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(h)}},[r]),l&&o.imageLoadingStatus!=="loaded"?x.jsx(at.span,{...a,ref:t}):null});Ak.displayName=Ck;function PS(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _H(e,{referrerPolicy:t,crossOrigin:n}){const r=bH(),a=w.useRef(null),o=r?(a.current||(a.current=new window.Image),a.current):null,[l,c]=w.useState(()=>PS(o,e));return Kn(()=>{c(PS(o,e))},[o,e]),Kn(()=>{const h=g=>()=>{c(g)};if(!o)return;const d=h("loaded"),p=h("error");return o.addEventListener("load",d),o.addEventListener("error",p),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",p)}},[o,n,t]),l}var SH=Sk,EH=Tk,TH=Ak,[qf]=ii("Tooltip",[Nf]),Vf=Nf(),kk="TooltipProvider",CH=700,Fm="tooltip.open",[AH,ay]=qf(kk),Rk=e=>{const{__scopeTooltip:t,delayDuration:n=CH,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,l=w.useRef(!0),c=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const d=h.current;return()=>window.clearTimeout(d)},[]),x.jsx(AH,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:o})};Rk.displayName=kk;var Nl="Tooltip",[kH,Gl]=qf(Nl),Mk=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:o,disableHoverableContent:l,delayDuration:c}=e,h=ay(Nl,e.__scopeTooltip),d=Vf(t),[p,g]=w.useState(null),b=Bi(),v=w.useRef(0),E=l??h.disableHoverableContent,S=c??h.delayDuration,T=w.useRef(!1),[C,O]=Bl({prop:r,defaultProp:a??!1,onChange:L=>{L?(h.onOpen(),document.dispatchEvent(new CustomEvent(Fm))):h.onClose(),o?.(L)},caller:Nl}),A=w.useMemo(()=>C?T.current?"delayed-open":"instant-open":"closed",[C]),j=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T.current=!1,O(!0)},[O]),F=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,O(!1)},[O]),I=w.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{T.current=!0,O(!0),v.current=0},S)},[S,O]);return w.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),x.jsx(A1,{...d,children:x.jsx(kH,{scope:t,contentId:b,open:C,stateAttribute:A,trigger:p,onTriggerChange:g,onTriggerEnter:w.useCallback(()=>{h.isOpenDelayedRef.current?I():j()},[h.isOpenDelayedRef,I,j]),onTriggerLeave:w.useCallback(()=>{E?F():(window.clearTimeout(v.current),v.current=0)},[F,E]),onOpen:j,onClose:F,disableHoverableContent:E,children:n})})};Mk.displayName=Nl;var Hm="TooltipTrigger",Ok=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Gl(Hm,n),o=ay(Hm,n),l=Vf(n),c=w.useRef(null),h=gt(t,c,a.onTriggerChange),d=w.useRef(!1),p=w.useRef(!1),g=w.useCallback(()=>d.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),x.jsx(k1,{asChild:!0,...l,children:x.jsx(at.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:h,onPointerMove:_e(e.onPointerMove,b=>{b.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),p.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),p.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:_e(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});Ok.displayName=Hm;var sy="TooltipPortal",[RH,MH]=qf(sy,{forceMount:void 0}),Ik=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,o=Gl(sy,t);return x.jsx(RH,{scope:t,forceMount:n,children:x.jsx(dr,{present:n||o.open,children:x.jsx(zf,{asChild:!0,container:a,children:r})})})};Ik.displayName=sy;var Ys="TooltipContent",Nk=w.forwardRef((e,t)=>{const n=MH(Ys,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,l=Gl(Ys,e.__scopeTooltip);return x.jsx(dr,{present:r||l.open,children:l.disableHoverableContent?x.jsx(zk,{side:a,...o,ref:t}):x.jsx(OH,{side:a,...o,ref:t})})}),OH=w.forwardRef((e,t)=>{const n=Gl(Ys,e.__scopeTooltip),r=ay(Ys,e.__scopeTooltip),a=w.useRef(null),o=gt(t,a),[l,c]=w.useState(null),{trigger:h,onClose:d}=n,p=a.current,{onPointerInTransitChange:g}=r,b=w.useCallback(()=>{c(null),g(!1)},[g]),v=w.useCallback((E,S)=>{const T=E.currentTarget,C={x:E.clientX,y:E.clientY},O=DH(C,T.getBoundingClientRect()),A=jH(C,O),j=PH(S.getBoundingClientRect()),F=BH([...A,...j]);c(F),g(!0)},[g]);return w.useEffect(()=>()=>b(),[b]),w.useEffect(()=>{if(h&&p){const E=T=>v(T,p),S=T=>v(T,h);return h.addEventListener("pointerleave",E),p.addEventListener("pointerleave",S),()=>{h.removeEventListener("pointerleave",E),p.removeEventListener("pointerleave",S)}}},[h,p,v,b]),w.useEffect(()=>{if(l){const E=S=>{const T=S.target,C={x:S.clientX,y:S.clientY},O=h?.contains(T)||p?.contains(T),A=!LH(C,l);O?b():A&&(b(),d())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,p,l,d,b]),x.jsx(zk,{...e,ref:o})}),[IH,NH]=qf(Nl,{isInside:!1}),zH=QT("TooltipContent"),zk=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,h=Gl(Ys,n),d=Vf(n),{onClose:p}=h;return w.useEffect(()=>(document.addEventListener(Fm,p),()=>document.removeEventListener(Fm,p)),[p]),w.useEffect(()=>{if(h.trigger){const g=b=>{b.target?.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),x.jsx(kf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:x.jsxs(R1,{"data-state":h.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(zH,{children:r}),x.jsx(IH,{scope:n,isInside:!0,children:x.jsx(XF,{id:h.contentId,role:"tooltip",children:a||r})})]})})});Nk.displayName=Ys;var Dk="TooltipArrow",jk=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Vf(n);return NH(Dk,n).isInside?null:x.jsx(M1,{...a,...r,ref:t})});jk.displayName=Dk;function DH(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jH(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function PH(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function LH(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],h=t[l],d=c.x,p=c.y,g=h.x,b=h.y;p>r!=b>r&&n<(g-d)*(r-p)/(b-p)+d&&(a=!a)}return a}function BH(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UH(t)}function UH(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $H=Rk,FH=Mk,HH=Ok,ZH=Ik,qH=Nk,VH=jk;const GH=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},YH=(e,t)=>({classGroupId:e,validator:t}),Pk=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ff="-",LS=[],JH="arbitrary..",XH=e=>{const t=QH(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return KH(l);const c=l.split(ff),h=c[0]===""&&c.length>1?1:0;return Lk(c,h,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const h=r[l],d=n[l];return h?d?GH(d,h):h:d||LS}return n[l]||LS}}},Lk=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],o=n.nextPart.get(a);if(o){const d=Lk(e,t+1,o);if(d)return d}const l=n.validators;if(l===null)return;const c=t===0?e.join(ff):e.slice(t).join(ff),h=l.length;for(let d=0;d<h;d++){const p=l[d];if(p.validator(c))return p.classGroupId}},KH=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?JH+r:void 0})(),QH=e=>{const{theme:t,classGroups:n}=e;return WH(n,t)},WH=(e,t)=>{const n=Pk();for(const r in e){const a=e[r];oy(a,n,r,t)}return n},oy=(e,t,n,r)=>{const a=e.length;for(let o=0;o<a;o++){const l=e[o];e8(l,t,n,r)}},e8=(e,t,n,r)=>{if(typeof e=="string"){t8(e,t,n);return}if(typeof e=="function"){n8(e,t,n,r);return}r8(e,t,n,r)},t8=(e,t,n)=>{const r=e===""?t:Bk(t,e);r.classGroupId=n},n8=(e,t,n,r)=>{if(i8(e)){oy(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(YH(n,e))},r8=(e,t,n,r)=>{const a=Object.entries(e),o=a.length;for(let l=0;l<o;l++){const[c,h]=a[l];oy(h,Bk(t,c),n,r)}},Bk=(e,t)=>{let n=e;const r=t.split(ff),a=r.length;for(let o=0;o<a;o++){const l=r[o];let c=n.nextPart.get(l);c||(c=Pk(),n.nextPart.set(l,c)),n=c}return n},i8=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,a8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(o,l)=>{n[o]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return a(o,l),l},set(o,l){o in n?n[o]=l:a(o,l)}}},Zm="!",BS=":",s8=[],US=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),o8=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let l=0,c=0,h=0,d;const p=a.length;for(let S=0;S<p;S++){const T=a[S];if(l===0&&c===0){if(T===BS){o.push(a.slice(h,S)),h=S+1;continue}if(T==="/"){d=S;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const g=o.length===0?a:a.slice(h);let b=g,v=!1;g.endsWith(Zm)?(b=g.slice(0,-1),v=!0):g.startsWith(Zm)&&(b=g.slice(1),v=!0);const E=d&&d>h?d-h:void 0;return US(o,v,b,E)};if(t){const a=t+BS,o=r;r=l=>l.startsWith(a)?o(l.slice(a.length)):US(s8,!1,l,void 0,!0)}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},l8=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let o=0;o<n.length;o++){const l=n[o],c=l[0]==="[",h=t.has(l);c||h?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(l)):a.push(l)}return a.length>0&&(a.sort(),r.push(...a)),r}},u8=e=>({cache:a8(e.cacheSize),parseClassName:o8(e),sortModifiers:l8(e),...XH(e)}),c8=/\s+/,f8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,l=[],c=e.trim().split(c8);let h="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:g,modifiers:b,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:S}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let T=!!S,C=r(T?E.substring(0,S):E);if(!C){if(!T){h=p+(h.length>0?" "+h:h);continue}if(C=r(E),!C){h=p+(h.length>0?" "+h:h);continue}T=!1}const O=b.length===0?"":b.length===1?b[0]:o(b).join(":"),A=v?O+Zm:O,j=A+C;if(l.indexOf(j)>-1)continue;l.push(j);const F=a(C,T);for(let I=0;I<F.length;++I){const L=F[I];l.push(A+L)}h=p+(h.length>0?" "+h:h)}return h},d8=(...e)=>{let t=0,n,r,a="";for(;t<e.length;)(n=e[t++])&&(r=Uk(n))&&(a&&(a+=" "),a+=r);return a},Uk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Uk(e[r]))&&(n&&(n+=" "),n+=t);return n},h8=(e,...t)=>{let n,r,a,o;const l=h=>{const d=t.reduce((p,g)=>g(p),e());return n=u8(d),r=n.cache.get,a=n.cache.set,o=c,c(h)},c=h=>{const d=r(h);if(d)return d;const p=f8(h,n);return a(h,p),p};return o=l,(...h)=>o(d8(...h))},p8=[],Pt=e=>{const t=n=>n[e]||p8;return t.isThemeGetter=!0,t},$k=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,m8=/^\d+\/\d+$/,g8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,v8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,x8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ts=e=>m8.test(e),Ne=e=>!!e&&!Number.isNaN(Number(e)),Oi=e=>!!e&&Number.isInteger(Number(e)),Jp=e=>e.endsWith("%")&&Ne(e.slice(0,-1)),Qr=e=>g8.test(e),w8=()=>!0,_8=e=>y8.test(e)&&!b8.test(e),Hk=()=>!1,S8=e=>v8.test(e),E8=e=>x8.test(e),T8=e=>!me(e)&&!ge(e),C8=e=>no(e,Vk,Hk),me=e=>$k.test(e),ba=e=>no(e,Gk,_8),Xp=e=>no(e,O8,Ne),$S=e=>no(e,Zk,Hk),A8=e=>no(e,qk,E8),Rc=e=>no(e,Yk,S8),ge=e=>Fk.test(e),tl=e=>ro(e,Gk),k8=e=>ro(e,I8),FS=e=>ro(e,Zk),R8=e=>ro(e,Vk),M8=e=>ro(e,qk),Mc=e=>ro(e,Yk,!0),no=(e,t,n)=>{const r=$k.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ro=(e,t,n=!1)=>{const r=Fk.exec(e);return r?r[1]?t(r[1]):n:!1},Zk=e=>e==="position"||e==="percentage",qk=e=>e==="image"||e==="url",Vk=e=>e==="length"||e==="size"||e==="bg-size",Gk=e=>e==="length",O8=e=>e==="number",I8=e=>e==="family-name",Yk=e=>e==="shadow",N8=()=>{const e=Pt("color"),t=Pt("font"),n=Pt("text"),r=Pt("font-weight"),a=Pt("tracking"),o=Pt("leading"),l=Pt("breakpoint"),c=Pt("container"),h=Pt("spacing"),d=Pt("radius"),p=Pt("shadow"),g=Pt("inset-shadow"),b=Pt("text-shadow"),v=Pt("drop-shadow"),E=Pt("blur"),S=Pt("perspective"),T=Pt("aspect"),C=Pt("ease"),O=Pt("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...j(),ge,me],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],$=()=>[ge,me,h],se=()=>[Ts,"full","auto",...$()],B=()=>[Oi,"none","subgrid",ge,me],ne=()=>["auto",{span:["full",Oi,ge,me]},Oi,ge,me],re=()=>[Oi,"auto",ge,me],he=()=>["auto","min","max","fr",ge,me],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...$()],K=()=>[Ts,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],V=()=>[e,ge,me],ie=()=>[...j(),FS,$S,{position:[ge,me]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",R8,C8,{size:[ge,me]}],Y=()=>[Jp,tl,ba],R=()=>["","none","full",d,ge,me],ae=()=>["",Ne,tl,ba],ve=()=>["solid","dashed","dotted","double"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[Ne,Jp,FS,$S],Ge=()=>["","none",E,ge,me],$e=()=>["none",Ne,ge,me],zt=()=>["none",Ne,ge,me],Qt=()=>[Ne,ge,me],jn=()=>[Ts,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qr],breakpoint:[Qr],color:[w8],container:[Qr],"drop-shadow":[Qr],ease:["in","out","in-out"],font:[T8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qr],shadow:[Qr],spacing:["px",Ne],text:[Qr],"text-shadow":[Qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ts,me,ge,T]}],container:["container"],columns:[{columns:[Ne,me,ge,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[Oi,"auto",ge,me]}],basis:[{basis:[Ts,"full","auto",c,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ne,Ts,"auto","initial","none",me]}],grow:[{grow:["",Ne,ge,me]}],shrink:[{shrink:["",Ne,ge,me]}],order:[{order:[Oi,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":he()}],"auto-rows":[{"auto-rows":he()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[c,"screen",...K()]}],"min-w":[{"min-w":[c,"screen","none",...K()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,tl,ba]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,Xp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jp,me]}],"font-family":[{font:[k8,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,me]}],"line-clamp":[{"line-clamp":[Ne,"none",ge,Xp]}],leading:[{leading:[o,...$()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ne,"from-font","auto",ge,ba]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Ne,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oi,ge,me],radial:["",ge,me],conic:[Oi,ge,me]},M8,A8]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ne,ge,me]}],"outline-w":[{outline:["",Ne,tl,ba]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,Mc,Rc]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,Mc,Rc]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Ne,ba]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",b,Mc,Rc]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Ne,ge,me]}],"mix-blend":[{"mix-blend":[...de(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":de()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ne]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ne]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:Ge()}],brightness:[{brightness:[Ne,ge,me]}],contrast:[{contrast:[Ne,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",v,Mc,Rc]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Ne,ge,me]}],"hue-rotate":[{"hue-rotate":[Ne,ge,me]}],invert:[{invert:["",Ne,ge,me]}],saturate:[{saturate:[Ne,ge,me]}],sepia:[{sepia:["",Ne,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ne,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Ne,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ne,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ne,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Ne,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Ne,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Ne,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ne,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ne,"initial",ge,me]}],ease:[{ease:["linear","initial",C,ge,me]}],delay:[{delay:[Ne,ge,me]}],animate:[{animate:["none",O,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,ge,me]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:$e()}],"rotate-x":[{"rotate-x":$e()}],"rotate-y":[{"rotate-y":$e()}],"rotate-z":[{"rotate-z":$e()}],scale:[{scale:zt()}],"scale-x":[{"scale-x":zt()}],"scale-y":[{"scale-y":zt()}],"scale-z":[{"scale-z":zt()}],"scale-3d":["scale-3d"],skew:[{skew:Qt()}],"skew-x":[{"skew-x":Qt()}],"skew-y":[{"skew-y":Qt()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:jn()}],"translate-x":[{"translate-x":jn()}],"translate-y":[{"translate-y":jn()}],"translate-z":[{"translate-z":jn()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Ne,tl,ba,Xp]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},z8=h8(N8);function Ae(...e){return z8(tk(e))}const D8=GF("focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 rounded-lg border border-transparent bg-clip-padding text-sm font-medium focus-visible:ring-3 aria-invalid:ring-3 [&_svg:not([class*='size-'])]:size-4 inline-flex items-center justify-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none shrink-0 [&_svg]:shrink-0 outline-none group/button select-none",{variants:{variant:{default:"bg-primary text-primary-foreground [a]:hover:bg-primary/80",outline:"border-border bg-background hover:bg-muted hover:text-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 aria-expanded:bg-muted aria-expanded:text-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 aria-expanded:bg-secondary aria-expanded:text-secondary-foreground",ghost:"hover:bg-muted hover:text-foreground dark:hover:bg-muted/50 aria-expanded:bg-muted aria-expanded:text-foreground",destructive:"bg-destructive/10 hover:bg-destructive/20 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/20 text-destructive focus-visible:border-destructive/40 dark:hover:bg-destructive/30",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-8 gap-1.5 px-2.5 has-data-[icon=inline-end]:pr-2 has-data-[icon=inline-start]:pl-2",xs:"h-6 gap-1 rounded-[min(var(--radius-md),10px)] px-2 text-xs in-data-[slot=button-group]:rounded-lg has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 gap-1 rounded-[min(var(--radius-md),12px)] px-2.5 text-[0.8rem] in-data-[slot=button-group]:rounded-lg has-data-[icon=inline-end]:pr-1.5 has-data-[icon=inline-start]:pl-1.5 [&_svg:not([class*='size-'])]:size-3.5",lg:"h-9 gap-1.5 px-2.5 has-data-[icon=inline-end]:pr-3 has-data-[icon=inline-start]:pl-3",icon:"size-8","icon-xs":"size-6 rounded-[min(var(--radius-md),10px)] in-data-[slot=button-group]:rounded-lg [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-7 rounded-[min(var(--radius-md),12px)] in-data-[slot=button-group]:rounded-lg","icon-lg":"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Vi({className:e,variant:t="default",size:n="default",asChild:r=!1,...a}){const o=r?CB:"button";return x.jsx(o,{"data-slot":"button","data-variant":t,"data-size":n,className:Ae(D8({variant:t,size:n,className:e})),...a})}function j8({className:e,...t}){return x.jsx("div",{"data-slot":"skeleton",className:Ae("bg-muted rounded-md animate-pulse",e),...t})}const Jk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const P8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const L8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const HS=e=>{const t=L8(e);return t.charAt(0).toUpperCase()+t.slice(1)};var B8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const $8=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...c},h)=>w.createElement("svg",{ref:h,...B8,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Jk("lucide",a),...!o&&!U8(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>w.createElement(d,p)),...Array.isArray(o)?o:[o]]));const Nt=(e,t)=>{const n=w.forwardRef(({className:r,...a},o)=>w.createElement($8,{ref:o,iconNode:t,className:Jk(`lucide-${P8(HS(e))}`,`lucide-${e}`,r),...a}));return n.displayName=HS(e),n};const F8=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],H8=Nt("archive",F8);const Z8=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q8=Nt("arrow-down",Z8);const V8=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],G8=Nt("arrow-up",V8);const Y8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ly=Nt("check",Y8);const J8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],X8=Nt("chevron-down",J8);const K8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Q8=Nt("chevron-left",K8);const W8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eZ=Nt("chevron-right",W8);const tZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nZ=Nt("circle-alert",tZ);const rZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],iZ=Nt("circle-x",rZ);const aZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xk=Nt("copy",aZ);const sZ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oZ=Nt("download",sZ);const lZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Kk=Nt("ellipsis",lZ);const uZ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cZ=Nt("file-text",uZ);const fZ=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],dZ=Nt("loader",fZ);const hZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pZ=Nt("pencil",hZ);const mZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qk=Nt("plus",mZ);const gZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yZ=Nt("refresh-cw",gZ);const bZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],vZ=Nt("square",bZ);const xZ=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wZ=Nt("trash",xZ);const _Z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wk=Nt("x",_Z),SZ=()=>x.jsxs(bA,{className:"aui-root aui-thread-list-root flex flex-col gap-1",children:[x.jsx(EZ,{}),x.jsx($i,{condition:e=>e.threads.isLoading,children:x.jsx(TZ,{})}),x.jsx($i,{condition:e=>!e.threads.isLoading,children:x.jsx(yA,{components:{ThreadListItem:CZ}})})]}),EZ=()=>x.jsx(mA,{asChild:!0,children:x.jsxs(Vi,{variant:"outline",className:"aui-thread-list-new h-9 justify-start gap-2 rounded-lg px-3 text-sm hover:bg-muted data-active:bg-muted",children:[x.jsx(Qk,{className:"size-4"}),"New Thread"]})}),TZ=()=>x.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:5},(e,t)=>x.jsx("div",{role:"status","aria-label":"Loading threads",className:"aui-thread-list-skeleton-wrapper flex h-9 items-center px-3",children:x.jsx(j8,{className:"aui-thread-list-skeleton h-4 w-full"})},t))}),CZ=()=>x.jsxs(vA,{className:"aui-thread-list-item group flex h-9 items-center gap-2 rounded-lg transition-colors hover:bg-muted focus-visible:bg-muted focus-visible:outline-none data-active:bg-muted",children:[x.jsx(Z9,{className:"aui-thread-list-item-trigger flex h-full min-w-0 flex-1 items-center truncate px-3 text-start text-sm",children:x.jsx(xA,{fallback:"New Chat"})}),x.jsx(AZ,{})]}),AZ=()=>x.jsxs(wA,{children:[x.jsx(_A,{asChild:!0,children:x.jsxs(Vi,{variant:"ghost",size:"icon",className:"aui-thread-list-item-more mr-2 size-7 p-0 opacity-0 transition-opacity group-hover:opacity-100 data-[state=open]:bg-accent data-[state=open]:opacity-100 group-data-active:opacity-100",children:[x.jsx(Kk,{className:"size-4"}),x.jsx("span",{className:"sr-only",children:"More options"})]})}),x.jsxs(SA,{side:"bottom",align:"start",className:"aui-thread-list-item-more-content z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",children:[x.jsx(U9,{asChild:!0,children:x.jsxs(Nm,{className:"aui-thread-list-item-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[x.jsx(H8,{className:"size-4"}),"Archive"]})}),x.jsx(F9,{asChild:!0,children:x.jsxs(Nm,{className:"aui-thread-list-item-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-destructive text-sm outline-none hover:bg-destructive/10 hover:text-destructive focus:bg-destructive/10 focus:text-destructive",children:[x.jsx(wZ,{className:"size-4"}),"Delete"]})})]})]});function kZ({delayDuration:e=0,...t}){return x.jsx($H,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function eR({...e}){return x.jsx(FH,{"data-slot":"tooltip",...e})}function tR({...e}){return x.jsx(HH,{"data-slot":"tooltip-trigger",...e})}function nR({className:e,sideOffset:t=0,children:n,...r}){return x.jsx(ZH,{children:x.jsxs(qH,{"data-slot":"tooltip-content",sideOffset:t,className:Ae("data-open:animate-in data-open:fade-in-0 data-open:zoom-in-95 data-[state=delayed-open]:animate-in data-[state=delayed-open]:fade-in-0 data-[state=delayed-open]:zoom-in-95 data-closed:animate-out data-closed:fade-out-0 data-closed:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 rounded-md px-3 py-1.5 text-xs bg-foreground text-background z-50 w-fit max-w-xs origin-(--radix-tooltip-content-transform-origin)",e),...r,children:[n,x.jsx(VH,{className:"size-2.5 rotate-45 rounded-[2px] bg-foreground fill-foreground z-50 translate-y-[calc(-50%_-_2px)]"})]})})}function RZ({...e}){return x.jsx(fH,{"data-slot":"dialog",...e})}function MZ({...e}){return x.jsx(dH,{"data-slot":"dialog-trigger",...e})}function OZ({...e}){return x.jsx(hH,{"data-slot":"dialog-portal",...e})}function IZ({className:e,...t}){return x.jsx(pH,{"data-slot":"dialog-overlay",className:Ae("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 isolate z-50",e),...t})}function NZ({className:e,children:t,showCloseButton:n=!0,...r}){return x.jsxs(OZ,{children:[x.jsx(IZ,{}),x.jsxs(mH,{"data-slot":"dialog-content",className:Ae("bg-background data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 ring-foreground/10 grid max-w-[calc(100%-2rem)] gap-4 rounded-xl p-4 text-sm ring-1 duration-100 sm:max-w-sm fixed top-1/2 left-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 outline-none",e),...r,children:[t,n&&x.jsx(yH,{"data-slot":"dialog-close",asChild:!0,children:x.jsxs(Vi,{variant:"ghost",className:"absolute top-2 right-2",size:"icon-sm",children:[x.jsx(Wk,{}),x.jsx("span",{className:"sr-only",children:"Close"})]})})]})]})}function zZ({className:e,...t}){return x.jsx(gH,{"data-slot":"dialog-title",className:Ae("text-base leading-none font-medium",e),...t})}function DZ({className:e,size:t="default",...n}){return x.jsx(SH,{"data-slot":"avatar","data-size":t,className:Ae("size-8 rounded-full after:rounded-full data-[size=lg]:size-10 data-[size=sm]:size-6 after:border-border group/avatar relative flex shrink-0 select-none after:absolute after:inset-0 after:border after:mix-blend-darken dark:after:mix-blend-lighten",e),...n})}function jZ({className:e,...t}){return x.jsx(EH,{"data-slot":"avatar-image",className:Ae("rounded-full aspect-square size-full object-cover",e),...t})}function PZ({className:e,...t}){return x.jsx(TH,{"data-slot":"avatar-fallback",className:Ae("bg-muted text-muted-foreground rounded-full flex size-full items-center justify-center text-sm group-data-[size=sm]/avatar:text-xs",e),...t})}const Xn=w.forwardRef(({children:e,tooltip:t,side:n="bottom",className:r,...a},o)=>x.jsxs(eR,{children:[x.jsx(tR,{asChild:!0,children:x.jsxs(Vi,{variant:"ghost",size:"icon",...a,className:Ae("aui-button-icon size-6 p-1",r),ref:o,children:[x.jsx(kB,{children:e}),x.jsx("span",{className:"aui-sr-only sr-only",children:t})]})}),x.jsx(nR,{side:n,children:t})]}));Xn.displayName="TooltipIconButton";const LZ=e=>{const[t,n]=w.useState(void 0);return w.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},rR=()=>{const{file:e,src:t}=xe(FC(n=>{if(n.attachment.type!=="image")return{};if(n.attachment.file)return{file:n.attachment.file};const r=n.attachment.content?.filter(a=>a.type==="image")[0]?.image;return r?{src:r}:{}}));return LZ(e)??t},BZ=({src:e})=>{const[t,n]=w.useState(!1);return x.jsx("img",{src:e,alt:"Image Preview",className:Ae("block h-auto max-h-[80vh] w-auto max-w-full object-contain",t?"aui-attachment-preview-image-loaded":"aui-attachment-preview-image-loading invisible"),onLoad:()=>n(!0)})},UZ=({children:e})=>{const t=rR();return t?x.jsxs(RZ,{children:[x.jsx(MZ,{className:"aui-attachment-preview-trigger cursor-pointer transition-colors hover:bg-accent/50",asChild:!0,children:e}),x.jsxs(NZ,{className:"aui-attachment-preview-dialog-content p-2 sm:max-w-3xl [&>button]:rounded-full [&>button]:bg-foreground/60 [&>button]:p-1 [&>button]:opacity-100 [&>button]:ring-0! [&_svg]:text-background [&>button]:hover:[&_svg]:text-destructive",children:[x.jsx(zZ,{className:"aui-sr-only sr-only",children:"Image Attachment Preview"}),x.jsx("div",{className:"aui-attachment-preview relative mx-auto flex max-h-[80dvh] w-full items-center justify-center overflow-hidden bg-background",children:x.jsx(BZ,{src:t})})]})]}):e},$Z=()=>{const e=xe(n=>n.attachment.type==="image"),t=rR();return x.jsxs(DZ,{className:"aui-attachment-tile-avatar h-full w-full rounded-none",children:[x.jsx(jZ,{src:t,alt:"Attachment preview",className:"aui-attachment-tile-image object-cover"}),x.jsx(PZ,{delayMs:e?200:0,children:x.jsx(cZ,{className:"aui-attachment-tile-fallback-icon size-8 text-muted-foreground"})})]})},iR=()=>{const t=ze().attachment.source==="composer",n=xe(a=>a.attachment.type==="image"),r=xe(a=>{const o=a.attachment.type;switch(o){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const l=o;throw new Error(`Unknown attachment type: ${l}`)}});return x.jsxs(eR,{children:[x.jsxs(NC,{className:Ae("aui-attachment-root relative",n&&"aui-attachment-root-composer only:[&>#attachment-tile]:size-24"),children:[x.jsx(UZ,{children:x.jsx(tR,{asChild:!0,children:x.jsx("div",{className:Ae("aui-attachment-tile size-14 cursor-pointer overflow-hidden rounded-[14px] border bg-muted transition-opacity hover:opacity-75",t&&"aui-attachment-tile-composer border-foreground/20"),role:"button",id:"attachment-tile","aria-label":`${r} attachment`,children:x.jsx($Z,{})})})}),t&&x.jsx(FZ,{})]}),x.jsx(nR,{side:"top",children:x.jsx(zC,{})})]})},FZ=()=>x.jsx(O5,{asChild:!0,children:x.jsx(Xn,{tooltip:"Remove file",className:"aui-attachment-tile-remove absolute top-1.5 right-1.5 size-3.5 rounded-full bg-white text-muted-foreground opacity-100 shadow-sm hover:bg-white! [&_svg]:text-black hover:[&_svg]:text-destructive",side:"top",children:x.jsx(Wk,{className:"aui-attachment-remove-icon size-3 dark:stroke-[2.5px]"})})}),HZ=()=>x.jsx("div",{className:"aui-user-message-attachments-end col-span-full col-start-1 row-start-1 flex w-full flex-row justify-end gap-2",children:x.jsx(VC,{components:{Attachment:iR}})}),ZZ=()=>x.jsx("div",{className:"aui-composer-attachments mb-2 flex w-full flex-row items-center gap-2 overflow-x-auto px-1.5 pt-0.5 pb-1 empty:hidden",children:x.jsx(eA,{components:{Attachment:iR}})}),qZ=()=>x.jsx(S9,{asChild:!0,children:x.jsx(Xn,{tooltip:"Add Attachment",side:"bottom",variant:"ghost",size:"icon",className:"aui-composer-add-attachment size-8.5 rounded-full p-1 font-semibold text-xs hover:bg-muted-foreground/15 dark:border-muted-foreground/15 dark:hover:bg-muted-foreground/30","aria-label":"Add Attachment",children:x.jsx(Qk,{className:"aui-attachment-add-icon size-5 stroke-[1.5px]"})})});function VZ(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GZ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,YZ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JZ={};function ZS(e,t){return(JZ.jsx?YZ:GZ).test(e)}const XZ=/[ \t\n\f\r]/g;function KZ(e){return typeof e=="object"?e.type==="text"?qS(e.value):!1:qS(e)}function qS(e){return e.replace(XZ,"")===""}class Yl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Yl.prototype.normal={};Yl.prototype.property={};Yl.prototype.space=void 0;function aR(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Yl(n,r,t)}function qm(e){return e.toLowerCase()}class xn{constructor(t,n){this.attribute=n,this.property=t}}xn.prototype.attribute="";xn.prototype.booleanish=!1;xn.prototype.boolean=!1;xn.prototype.commaOrSpaceSeparated=!1;xn.prototype.commaSeparated=!1;xn.prototype.defined=!1;xn.prototype.mustUseProperty=!1;xn.prototype.number=!1;xn.prototype.overloadedBoolean=!1;xn.prototype.property="";xn.prototype.spaceSeparated=!1;xn.prototype.space=void 0;let QZ=0;const Ie=Ia(),It=Ia(),Vm=Ia(),le=Ia(),ct=Ia(),Ps=Ia(),Rn=Ia();function Ia(){return 2**++QZ}const Gm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:It,commaOrSpaceSeparated:Rn,commaSeparated:Ps,number:le,overloadedBoolean:Vm,spaceSeparated:ct},Symbol.toStringTag,{value:"Module"})),Kp=Object.keys(Gm);class uy extends xn{constructor(t,n,r,a){let o=-1;if(super(t,n),VS(this,"space",a),typeof r=="number")for(;++o<Kp.length;){const l=Kp[o];VS(this,Kp[o],(r&Gm[l])===Gm[l])}}}uy.prototype.defined=!0;function VS(e,t,n){n&&(e[t]=n)}function io(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const o=new uy(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[qm(r)]=r,n[qm(o.attribute)]=r}return new Yl(t,n,e.space)}const sR=io({properties:{ariaActiveDescendant:null,ariaAtomic:It,ariaAutoComplete:null,ariaBusy:It,ariaChecked:It,ariaColCount:le,ariaColIndex:le,ariaColSpan:le,ariaControls:ct,ariaCurrent:null,ariaDescribedBy:ct,ariaDetails:null,ariaDisabled:It,ariaDropEffect:ct,ariaErrorMessage:null,ariaExpanded:It,ariaFlowTo:ct,ariaGrabbed:It,ariaHasPopup:null,ariaHidden:It,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ct,ariaLevel:le,ariaLive:null,ariaModal:It,ariaMultiLine:It,ariaMultiSelectable:It,ariaOrientation:null,ariaOwns:ct,ariaPlaceholder:null,ariaPosInSet:le,ariaPressed:It,ariaReadOnly:It,ariaRelevant:null,ariaRequired:It,ariaRoleDescription:ct,ariaRowCount:le,ariaRowIndex:le,ariaRowSpan:le,ariaSelected:It,ariaSetSize:le,ariaSort:null,ariaValueMax:le,ariaValueMin:le,ariaValueNow:le,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function oR(e,t){return t in e?e[t]:t}function lR(e,t){return oR(e,t.toLowerCase())}const WZ=io({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ps,acceptCharset:ct,accessKey:ct,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:ct,autoFocus:Ie,autoPlay:Ie,blocking:ct,capture:null,charSet:null,checked:Ie,cite:null,className:ct,cols:le,colSpan:null,content:null,contentEditable:It,controls:Ie,controlsList:ct,coords:le|Ps,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:Vm,draggable:It,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:ct,height:le,hidden:Vm,high:le,href:null,hrefLang:null,htmlFor:ct,httpEquiv:ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:ct,itemRef:ct,itemScope:Ie,itemType:ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:le,manifest:null,max:null,maxLength:le,media:null,method:null,min:null,minLength:le,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:le,pattern:null,ping:ct,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:ct,required:Ie,reversed:Ie,rows:le,rowSpan:le,sandbox:ct,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:le,sizes:null,slot:null,span:le,spellCheck:It,src:null,srcDoc:null,srcLang:null,srcSet:null,start:le,step:null,style:null,tabIndex:le,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:It,width:le,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ct,axis:null,background:null,bgColor:null,border:le,borderColor:null,bottomMargin:le,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:le,leftMargin:le,link:null,longDesc:null,lowSrc:null,marginHeight:le,marginWidth:le,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:le,rules:null,scheme:null,scrolling:It,standby:null,summary:null,text:null,topMargin:le,valueType:null,version:null,vAlign:null,vLink:null,vSpace:le,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:le,security:null,unselectable:null},space:"html",transform:lR}),eq=io({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Rn,accentHeight:le,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:le,amplitude:le,arabicForm:null,ascent:le,attributeName:null,attributeType:null,azimuth:le,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:le,by:null,calcMode:null,capHeight:le,className:ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:le,diffuseConstant:le,direction:null,display:null,dur:null,divisor:le,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:le,enableBackground:null,end:null,event:null,exponent:le,externalResourcesRequired:null,fill:null,fillOpacity:le,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ps,g2:Ps,glyphName:Ps,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:le,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:le,horizOriginX:le,horizOriginY:le,id:null,ideographic:le,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:le,k:le,k1:le,k2:le,k3:le,k4:le,kernelMatrix:Rn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:le,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:le,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:le,overlineThickness:le,paintOrder:null,panose1:null,path:null,pathLength:le,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:le,pointsAtY:le,pointsAtZ:le,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Rn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Rn,rev:Rn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Rn,requiredFeatures:Rn,requiredFonts:Rn,requiredFormats:Rn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:le,specularExponent:le,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:le,strikethroughThickness:le,string:null,stroke:null,strokeDashArray:Rn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:le,strokeOpacity:le,strokeWidth:null,style:null,surfaceScale:le,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Rn,tabIndex:le,tableValues:null,target:null,targetX:le,targetY:le,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Rn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:le,underlineThickness:le,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:le,values:null,vAlphabetic:le,vMathematical:le,vectorEffect:null,vHanging:le,vIdeographic:le,version:null,vertAdvY:le,vertOriginX:le,vertOriginY:le,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:le,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:oR}),uR=io({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),cR=io({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lR}),fR=io({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),tq={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},nq=/[A-Z]/g,GS=/-[a-z]/g,rq=/^data[-\w.:]+$/i;function iq(e,t){const n=qm(t);let r=t,a=xn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rq.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(GS,sq);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!GS.test(o)){let l=o.replace(nq,aq);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}a=uy}return new a(r,t)}function aq(e){return"-"+e.toLowerCase()}function sq(e){return e.charAt(1).toUpperCase()}const oq=aR([sR,WZ,uR,cR,fR],"html"),cy=aR([sR,eq,uR,cR,fR],"svg");function lq(e){return e.join(" ").trim()}var Cs={},Qp,YS;function uq(){if(YS)return Qp;YS=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,d="/",p="*",g="",b="comment",v="declaration";function E(T,C){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];C=C||{};var O=1,A=1;function j(oe){var te=oe.match(t);te&&(O+=te.length);var P=oe.lastIndexOf(h);A=~P?oe.length-P:A+oe.length}function F(){var oe={line:O,column:A};return function(te){return te.position=new I(oe),se(),te}}function I(oe){this.start=oe,this.end={line:O,column:A},this.source=C.source}I.prototype.content=T;function L(oe){var te=new Error(C.source+":"+O+":"+A+": "+oe);if(te.reason=oe,te.filename=C.source,te.line=O,te.column=A,te.source=T,!C.silent)throw te}function $(oe){var te=oe.exec(T);if(te){var P=te[0];return j(P),T=T.slice(P.length),te}}function se(){$(n)}function B(oe){var te;for(oe=oe||[];te=ne();)te!==!1&&oe.push(te);return oe}function ne(){var oe=F();if(!(d!=T.charAt(0)||p!=T.charAt(1))){for(var te=2;g!=T.charAt(te)&&(p!=T.charAt(te)||d!=T.charAt(te+1));)++te;if(te+=2,g===T.charAt(te-1))return L("End of comment missing");var P=T.slice(2,te-2);return A+=2,j(P),T=T.slice(te),A+=2,oe({type:b,comment:P})}}function re(){var oe=F(),te=$(r);if(te){if(ne(),!$(a))return L("property missing ':'");var P=$(o),K=oe({type:v,property:S(te[0].replace(e,g)),value:P?S(P[0].replace(e,g)):g});return $(l),K}}function he(){var oe=[];B(oe);for(var te;te=re();)te!==!1&&(oe.push(te),B(oe));return oe}return se(),he()}function S(T){return T?T.replace(c,g):g}return Qp=E,Qp}var JS;function cq(){if(JS)return Cs;JS=1;var e=Cs&&Cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.default=n;const t=e(uq());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),c=typeof a=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:d,value:p}=h;c?a(d,p,h):p&&(o=o||{},o[d]=p)}),o}return Cs}var nl={},XS;function fq(){if(XS)return nl;XS=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(d){return!d||n.test(d)||e.test(d)},l=function(d,p){return p.toUpperCase()},c=function(d,p){return"".concat(p,"-")},h=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(a,c):d=d.replace(r,c),d.replace(t,l))};return nl.camelCase=h,nl}var rl,KS;function dq(){if(KS)return rl;KS=1;var e=rl&&rl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},t=e(cq()),n=fq();function r(a,o){var l={};return!a||typeof a!="string"||(0,t.default)(a,function(c,h){c&&h&&(l[(0,n.camelCase)(c,o)]=h)}),l}return r.default=r,rl=r,rl}var hq=dq();const pq=Ca(hq),dR=hR("end"),fy=hR("start");function hR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function mq(e){const t=fy(e),n=dR(e);if(t&&n)return{start:t,end:n}}function gl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?QS(e.position):"start"in e||"end"in e?QS(e):"line"in e||"column"in e?Ym(e):""}function Ym(e){return WS(e&&e.line)+":"+WS(e&&e.column)}function QS(e){return Ym(e&&e.start)+"-"+Ym(e&&e.end)}function WS(e){return e&&typeof e=="number"?e:1}class Kt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?a=t:!o.cause&&t&&(l=!0,a=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=gl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Kt.prototype.file="";Kt.prototype.name="";Kt.prototype.reason="";Kt.prototype.message="";Kt.prototype.stack="";Kt.prototype.column=void 0;Kt.prototype.line=void 0;Kt.prototype.ancestors=void 0;Kt.prototype.cause=void 0;Kt.prototype.fatal=void 0;Kt.prototype.place=void 0;Kt.prototype.ruleId=void 0;Kt.prototype.source=void 0;const dy={}.hasOwnProperty,gq=new Map,yq=/[A-Z]/g,bq=new Set(["table","tbody","thead","tfoot","tr"]),vq=new Set(["td","th"]),pR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function xq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=kq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Aq(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?cy:oq,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=mR(a,e,void 0);return o&&typeof o!="string"?o:a.create(e,a.Fragment,{children:o||void 0},void 0)}function mR(e,t,n){if(t.type==="element")return wq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return _q(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Eq(e,t,n);if(t.type==="mdxjsEsm")return Sq(e,t);if(t.type==="root")return Tq(e,t,n);if(t.type==="text")return Cq(e,t)}function wq(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=cy,e.schema=a),e.ancestors.push(t);const o=yR(e,t.tagName,!1),l=Rq(e,t);let c=py(e,t);return bq.has(t.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!KZ(h):!0})),gR(e,l,o,t),hy(l,c),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function _q(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}zl(e,t.position)}function Sq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);zl(e,t.position)}function Eq(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=cy,e.schema=a),e.ancestors.push(t);const o=t.name===null?e.Fragment:yR(e,t.name,!0),l=Mq(e,t),c=py(e,t);return gR(e,l,o,t),hy(l,c),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Tq(e,t,n){const r={};return hy(r,py(e,t)),e.create(t,e.Fragment,r,n)}function Cq(e,t){return t.value}function gR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function hy(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Aq(e,t,n){return r;function r(a,o,l,c){const d=Array.isArray(l.children)?n:t;return c?d(o,l,c):d(o,l)}}function kq(e,t){return n;function n(r,a,o,l){const c=Array.isArray(o.children),h=fy(r);return t(a,o,l,c,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function Rq(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&dy.call(t.properties,a)){const o=Oq(e,a,t.properties[a]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&vq.has(t.tagName)?r=c:n[l]=c}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Mq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else zl(e,t.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else zl(e,t.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function py(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:gq;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const d=a.get(h)||0;l=h+"-"+d,a.set(h,d+1)}}const c=mR(e,o,l);c!==void 0&&n.push(c)}return n}function Oq(e,t,n){const r=iq(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?VZ(n):lq(n)),r.property==="style"){let a=typeof n=="object"?n:Iq(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Nq(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?tq[r.property]||r.property:r.attribute,n]}}function Iq(e,t){try{return pq(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Kt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=pR+"#cannot-parse-style-attribute",a}}function yR(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let o=-1,l;for(;++o<a.length;){const c=ZS(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=l}else r=ZS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return dy.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);zl(e)}function zl(e,t){const n=new Kt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Nq(e){const t={};let n;for(n in e)dy.call(e,n)&&(t[zq(n)]=e[n]);return t}function zq(e){let t=e.replace(yq,Dq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Dq(e){return"-"+e.toLowerCase()}const Wp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jq={};function my(e,t){const n=jq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bR(e,r,a)}function bR(e,t,n){if(Pq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return e0(e.children,t,n)}return Array.isArray(e)?e0(e,t,n):""}function e0(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=bR(e[a],t,n);return r.join("")}function Pq(e){return!!(e&&typeof e=="object")}const t0=document.createElement("i");function gy(e){const t="&"+e+";";t0.innerHTML=t;const n=t0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Nn(e,t,n,r){const a=e.length;let o=0,l;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function Yn(e,t){return e.length>0?(Nn(e,e.length,0,t),e):t}const n0={}.hasOwnProperty;function vR(e){const t={};let n=-1;for(;++n<e.length;)Lq(t,e[n]);return t}function Lq(e,t){let n;for(n in t){const a=(n0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){n0.call(a,l)||(a[l]=[]);const c=o[l];Bq(a[l],Array.isArray(c)?c:c?[c]:[])}}}function Bq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Nn(e,0,0,r)}function xR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function or(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const on=Ji(/[A-Za-z]/),Jt=Ji(/[\dA-Za-z]/),Uq=Ji(/[#-'*+\--9=?A-Z^-~]/);function df(e){return e!==null&&(e<32||e===127)}const Jm=Ji(/\d/),$q=Ji(/[\dA-Fa-f]/),Fq=Ji(/[!-/:-@[-`{-~]/);function Se(e){return e!==null&&e<-2}function ut(e){return e!==null&&(e<0||e===32)}function Le(e){return e===-2||e===-1||e===32}const Gf=Ji(new RegExp("\\p{P}|\\p{S}","u")),Ta=Ji(/\s/);function Ji(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ao(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&Jt(e.charCodeAt(n+1))&&Jt(e.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),a=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+a+1,l=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function qe(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return Le(h)?(e.enter(n),c(h)):t(h)}function c(h){return Le(h)&&o++<a?(e.consume(h),c):(e.exit(n),t(h))}}const Hq={tokenize:Zq};function Zq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),qe(e,t,"linePrefix")}function a(c){return e.enter("paragraph"),o(c)}function o(c){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Se(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const qq={tokenize:Vq},r0={tokenize:Gq};function Vq(e){const t=this,n=[];let r=0,a,o,l;return c;function c(A){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,h,d)(A)}return d(A)}function h(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&O();const j=t.events.length;let F=j,I;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){I=t.events[F][1].end;break}C(r);let L=j;for(;L<t.events.length;)t.events[L][1].end={...I},L++;return Nn(t.events,F+1,0,t.events.slice(j)),t.events.length=L,d(A)}return c(A)}function d(A){if(r===n.length){if(!a)return b(A);if(a.currentConstruct&&a.currentConstruct.concrete)return E(A);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(r0,p,g)(A)}function p(A){return a&&O(),C(r),b(A)}function g(A){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,E(A)}function b(A){return t.containerState={},e.attempt(r0,v,E)(A)}function v(A){return r++,n.push([t.currentConstruct,t.containerState]),b(A)}function E(A){if(A===null){a&&O(),C(0),e.consume(A);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),S(A)}function S(A){if(A===null){T(e.exit("chunkFlow"),!0),C(0),e.consume(A);return}return Se(A)?(e.consume(A),T(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(A),S)}function T(A,j){const F=t.sliceStream(A);if(j&&F.push(null),A.previous=o,o&&(o.next=A),o=A,a.defineSkip(A.start),a.write(F),t.parser.lazy[A.start.line]){let I=a.events.length;for(;I--;)if(a.events[I][1].start.offset<l&&(!a.events[I][1].end||a.events[I][1].end.offset>l))return;const L=t.events.length;let $=L,se,B;for(;$--;)if(t.events[$][0]==="exit"&&t.events[$][1].type==="chunkFlow"){if(se){B=t.events[$][1].end;break}se=!0}for(C(r),I=L;I<t.events.length;)t.events[I][1].end={...B},I++;Nn(t.events,$+1,0,t.events.slice(L)),t.events.length=I}}function C(A){let j=n.length;for(;j-- >A;){const F=n[j];t.containerState=F[1],F[0].exit.call(t,e)}n.length=A}function O(){a.write([null]),o=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Gq(e,t,n){return qe(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Js(e){if(e===null||ut(e)||Ta(e))return 1;if(Gf(e))return 2}function Yf(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Xm={name:"attention",resolveAll:Yq,tokenize:Jq};function Yq(e,t){let n=-1,r,a,o,l,c,h,d,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},b={...e[n][1].start};i0(g,-h),i0(b,h),l={type:h>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:b},o={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:h>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Yn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Yn(d,[["enter",a,t],["enter",l,t],["exit",l,t],["enter",o,t]]),d=Yn(d,Yf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Yn(d,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,d=Yn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Nn(e,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Jq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Js(r);let o;return l;function l(h){return o=h,e.enter("attentionSequence"),c(h)}function c(h){if(h===o)return e.consume(h),c;const d=e.exit("attentionSequence"),p=Js(h),g=!p||p===2&&a||n.includes(h),b=!a||a===2&&p||n.includes(r);return d._open=!!(o===42?g:g&&(a||!b)),d._close=!!(o===42?b:b&&(p||!g)),t(h)}}function i0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Xq={name:"autolink",tokenize:Kq};function Kq(e,t,n){let r=0;return a;function a(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return on(v)?(e.consume(v),l):v===64?n(v):d(v)}function l(v){return v===43||v===45||v===46||Jt(v)?(r=1,c(v)):d(v)}function c(v){return v===58?(e.consume(v),r=0,h):(v===43||v===45||v===46||Jt(v))&&r++<32?(e.consume(v),c):(r=0,d(v))}function h(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||df(v)?n(v):(e.consume(v),h)}function d(v){return v===64?(e.consume(v),p):Uq(v)?(e.consume(v),d):n(v)}function p(v){return Jt(v)?g(v):n(v)}function g(v){return v===46?(e.consume(v),r=0,p):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):b(v)}function b(v){if((v===45||Jt(v))&&r++<63){const E=v===45?b:g;return e.consume(v),E}return n(v)}}const Jl={partial:!0,tokenize:Qq};function Qq(e,t,n){return r;function r(o){return Le(o)?qe(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||Se(o)?t(o):n(o)}}const wR={continuation:{tokenize:eV},exit:tV,name:"blockQuote",tokenize:Wq};function Wq(e,t,n){const r=this;return a;function a(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Le(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function eV(e,t,n){const r=this;return a;function a(l){return Le(l)?qe(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(wR,t,n)(l)}}function tV(e){e.exit("blockQuote")}const _R={name:"characterEscape",tokenize:nV};function nV(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return Fq(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const SR={name:"characterReference",tokenize:rV};function rV(e,t,n){const r=this;let a=0,o,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),h}function h(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),o=31,l=Jt,p(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=$q,p):(e.enter("characterReferenceValue"),o=7,l=Jm,p(g))}function p(g){if(g===59&&a){const b=e.exit("characterReferenceValue");return l===Jt&&!gy(r.sliceSerialize(b))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&a++<o?(e.consume(g),p):n(g)}}const a0={partial:!0,tokenize:aV},s0={concrete:!0,name:"codeFenced",tokenize:iV};function iV(e,t,n){const r=this,a={partial:!0,tokenize:F};let o=0,l=0,c;return h;function h(I){return d(I)}function d(I){const L=r.events[r.events.length-1];return o=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,c=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===c?(l++,e.consume(I),p):l<3?n(I):(e.exit("codeFencedFenceSequence"),Le(I)?qe(e,g,"whitespace")(I):g(I))}function g(I){return I===null||Se(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(a0,S,j)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(I))}function b(I){return I===null||Se(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(I)):Le(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),qe(e,v,"whitespace")(I)):I===96&&I===c?n(I):(e.consume(I),b)}function v(I){return I===null||Se(I)?g(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(I))}function E(I){return I===null||Se(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(I)):I===96&&I===c?n(I):(e.consume(I),E)}function S(I){return e.attempt(a,j,T)(I)}function T(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),C}function C(I){return o>0&&Le(I)?qe(e,O,"linePrefix",o+1)(I):O(I)}function O(I){return I===null||Se(I)?e.check(a0,S,j)(I):(e.enter("codeFlowValue"),A(I))}function A(I){return I===null||Se(I)?(e.exit("codeFlowValue"),O(I)):(e.consume(I),A)}function j(I){return e.exit("codeFenced"),t(I)}function F(I,L,$){let se=0;return B;function B(te){return I.enter("lineEnding"),I.consume(te),I.exit("lineEnding"),ne}function ne(te){return I.enter("codeFencedFence"),Le(te)?qe(I,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):re(te)}function re(te){return te===c?(I.enter("codeFencedFenceSequence"),he(te)):$(te)}function he(te){return te===c?(se++,I.consume(te),he):se>=l?(I.exit("codeFencedFenceSequence"),Le(te)?qe(I,oe,"whitespace")(te):oe(te)):$(te)}function oe(te){return te===null||Se(te)?(I.exit("codeFencedFence"),L(te)):$(te)}}}function aV(e,t,n){const r=this;return a;function a(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const em={name:"codeIndented",tokenize:oV},sV={partial:!0,tokenize:lV};function oV(e,t,n){const r=this;return a;function a(d){return e.enter("codeIndented"),qe(e,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?h(d):Se(d)?e.attempt(sV,l,h)(d):(e.enter("codeFlowValue"),c(d))}function c(d){return d===null||Se(d)?(e.exit("codeFlowValue"),l(d)):(e.consume(d),c)}function h(d){return e.exit("codeIndented"),t(d)}}function lV(e,t,n){const r=this;return a;function a(l){return r.parser.lazy[r.now().line]?n(l):Se(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):qe(e,o,"linePrefix",5)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Se(l)?a(l):n(l)}}const uV={name:"codeText",previous:fV,resolve:cV,tokenize:dV};function cV(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function fV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dV(e,t,n){let r=0,a,o;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),h(g))}function h(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),h):g===96?(o=e.enter("codeTextSequence"),a=0,p(g)):Se(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Se(g)?(e.exit("codeTextData"),h(g)):(e.consume(g),d)}function p(g){return g===96?(e.consume(g),a++,p):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(o.type="codeTextData",d(g))}}class hV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&il(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),il(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),il(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);il(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);il(this.left,n.reverse())}}}function il(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function ER(e){const t={};let n=-1,r,a,o,l,c,h,d;const p=new hV(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pV(p,n)),n=t[n],d=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(p.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(r[1].end={...p.get(a)[1].start},c=p.slice(a,n),c.unshift(r),p.splice(a,n-a+1,c))}}return Nn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function pV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,h=[],d={};let p,g,b=-1,v=n,E=0,S=0;const T=[S];for(;v;){for(;e.get(++a)[1]!==v;);o.push(a),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),g&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(S=b+1,T.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):T.pop(),b=T.length;b--;){const C=c.slice(T[b],T[b+1]),O=o.pop();h.push([O,O+C.length-1]),e.splice(O,2,C)}for(h.reverse(),b=-1;++b<h.length;)d[E+h[b][0]]=E+h[b][1],E+=h[b][1]-h[b][0]-1;return d}const mV={resolve:yV,tokenize:bV},gV={partial:!0,tokenize:vV};function yV(e){return ER(e),e}function bV(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?o(c):Se(c)?e.check(gV,l,o)(c):(e.consume(c),a)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function vV(e,t,n){const r=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),qe(e,o,"linePrefix")}function o(l){if(l===null||Se(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function TR(e,t,n,r,a,o,l,c,h){const d=h||Number.POSITIVE_INFINITY;let p=0;return g;function g(C){return C===60?(e.enter(r),e.enter(a),e.enter(o),e.consume(C),e.exit(o),b):C===null||C===32||C===41||df(C)?n(C):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),S(C))}function b(C){return C===62?(e.enter(o),e.consume(C),e.exit(o),e.exit(a),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(e.exit("chunkString"),e.exit(c),b(C)):C===null||C===60||Se(C)?n(C):(e.consume(C),C===92?E:v)}function E(C){return C===60||C===62||C===92?(e.consume(C),v):v(C)}function S(C){return!p&&(C===null||C===41||ut(C))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(C)):p<d&&C===40?(e.consume(C),p++,S):C===41?(e.consume(C),p--,S):C===null||C===32||C===40||df(C)?n(C):(e.consume(C),C===92?T:S)}function T(C){return C===40||C===41||C===92?(e.consume(C),S):S(C)}}function CR(e,t,n,r,a,o){const l=this;let c=0,h;return d;function d(v){return e.enter(r),e.enter(a),e.consume(v),e.exit(a),e.enter(o),p}function p(v){return c>999||v===null||v===91||v===93&&!h||v===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(o),e.enter(a),e.consume(v),e.exit(a),e.exit(r),t):Se(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||Se(v)||c++>999?(e.exit("chunkString"),p(v)):(e.consume(v),h||(h=!Le(v)),v===92?b:g)}function b(v){return v===91||v===92||v===93?(e.consume(v),c++,g):g(v)}}function AR(e,t,n,r,a,o){let l;return c;function c(b){return b===34||b===39||b===40?(e.enter(r),e.enter(a),e.consume(b),e.exit(a),l=b===40?41:b,h):n(b)}function h(b){return b===l?(e.enter(a),e.consume(b),e.exit(a),e.exit(r),t):(e.enter(o),d(b))}function d(b){return b===l?(e.exit(o),h(l)):b===null?n(b):Se(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),qe(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===l||b===null||Se(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:p)}function g(b){return b===l||b===92?(e.consume(b),p):p(b)}}function yl(e,t){let n;return r;function r(a){return Se(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):Le(a)?qe(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const xV={name:"definition",tokenize:_V},wV={partial:!0,tokenize:SV};function _V(e,t,n){const r=this;let a;return o;function o(v){return e.enter("definition"),l(v)}function l(v){return CR.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return a=or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),h):n(v)}function h(v){return ut(v)?yl(e,d)(v):d(v)}function d(v){return TR(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return e.attempt(wV,g,g)(v)}function g(v){return Le(v)?qe(e,b,"whitespace")(v):b(v)}function b(v){return v===null||Se(v)?(e.exit("definition"),r.parser.defined.push(a),t(v)):n(v)}}function SV(e,t,n){return r;function r(c){return ut(c)?yl(e,a)(c):n(c)}function a(c){return AR(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Le(c)?qe(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Se(c)?t(c):n(c)}}const EV={name:"hardBreakEscape",tokenize:TV};function TV(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return Se(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const CV={name:"headingAtx",resolve:AV,tokenize:kV};function AV(e,t){let n=e.length-2,r=3,a,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Nn(e,r,n-r+1,[["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t]])),e}function kV(e,t,n){let r=0;return a;function a(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||ut(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),h(p)):p===null||Se(p)?(e.exit("atxHeading"),t(p)):Le(p)?qe(e,c,"whitespace")(p):(e.enter("atxHeadingText"),d(p))}function h(p){return p===35?(e.consume(p),h):(e.exit("atxHeadingSequence"),c(p))}function d(p){return p===null||p===35||ut(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),d)}}const RV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],o0=["pre","script","style","textarea"],MV={concrete:!0,name:"htmlFlow",resolveTo:NV,tokenize:zV},OV={partial:!0,tokenize:jV},IV={partial:!0,tokenize:DV};function NV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function zV(e,t,n){const r=this;let a,o,l,c,h;return d;function d(R){return p(R)}function p(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),g}function g(R){return R===33?(e.consume(R),b):R===47?(e.consume(R),o=!0,S):R===63?(e.consume(R),a=3,r.interrupt?t:M):on(R)?(e.consume(R),l=String.fromCharCode(R),T):n(R)}function b(R){return R===45?(e.consume(R),a=2,v):R===91?(e.consume(R),a=5,c=0,E):on(R)?(e.consume(R),a=4,r.interrupt?t:M):n(R)}function v(R){return R===45?(e.consume(R),r.interrupt?t:M):n(R)}function E(R){const ae="CDATA[";return R===ae.charCodeAt(c++)?(e.consume(R),c===ae.length?r.interrupt?t:re:E):n(R)}function S(R){return on(R)?(e.consume(R),l=String.fromCharCode(R),T):n(R)}function T(R){if(R===null||R===47||R===62||ut(R)){const ae=R===47,ve=l.toLowerCase();return!ae&&!o&&o0.includes(ve)?(a=1,r.interrupt?t(R):re(R)):RV.includes(l.toLowerCase())?(a=6,ae?(e.consume(R),C):r.interrupt?t(R):re(R)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):o?O(R):A(R))}return R===45||Jt(R)?(e.consume(R),l+=String.fromCharCode(R),T):n(R)}function C(R){return R===62?(e.consume(R),r.interrupt?t:re):n(R)}function O(R){return Le(R)?(e.consume(R),O):B(R)}function A(R){return R===47?(e.consume(R),B):R===58||R===95||on(R)?(e.consume(R),j):Le(R)?(e.consume(R),A):B(R)}function j(R){return R===45||R===46||R===58||R===95||Jt(R)?(e.consume(R),j):F(R)}function F(R){return R===61?(e.consume(R),I):Le(R)?(e.consume(R),F):A(R)}function I(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),h=R,L):Le(R)?(e.consume(R),I):$(R)}function L(R){return R===h?(e.consume(R),h=null,se):R===null||Se(R)?n(R):(e.consume(R),L)}function $(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||ut(R)?F(R):(e.consume(R),$)}function se(R){return R===47||R===62||Le(R)?A(R):n(R)}function B(R){return R===62?(e.consume(R),ne):n(R)}function ne(R){return R===null||Se(R)?re(R):Le(R)?(e.consume(R),ne):n(R)}function re(R){return R===45&&a===2?(e.consume(R),P):R===60&&a===1?(e.consume(R),K):R===62&&a===4?(e.consume(R),z):R===63&&a===3?(e.consume(R),M):R===93&&a===5?(e.consume(R),ie):Se(R)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(OV,Y,he)(R)):R===null||Se(R)?(e.exit("htmlFlowData"),he(R)):(e.consume(R),re)}function he(R){return e.check(IV,oe,Y)(R)}function oe(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),te}function te(R){return R===null||Se(R)?he(R):(e.enter("htmlFlowData"),re(R))}function P(R){return R===45?(e.consume(R),M):re(R)}function K(R){return R===47?(e.consume(R),l="",V):re(R)}function V(R){if(R===62){const ae=l.toLowerCase();return o0.includes(ae)?(e.consume(R),z):re(R)}return on(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),V):re(R)}function ie(R){return R===93?(e.consume(R),M):re(R)}function M(R){return R===62?(e.consume(R),z):R===45&&a===2?(e.consume(R),M):re(R)}function z(R){return R===null||Se(R)?(e.exit("htmlFlowData"),Y(R)):(e.consume(R),z)}function Y(R){return e.exit("htmlFlow"),t(R)}}function DV(e,t,n){const r=this;return a;function a(l){return Se(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function jV(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Jl,t,n)}}const PV={name:"htmlText",tokenize:LV};function LV(e,t,n){const r=this;let a,o,l;return c;function c(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),h}function h(M){return M===33?(e.consume(M),d):M===47?(e.consume(M),F):M===63?(e.consume(M),A):on(M)?(e.consume(M),$):n(M)}function d(M){return M===45?(e.consume(M),p):M===91?(e.consume(M),o=0,E):on(M)?(e.consume(M),O):n(M)}function p(M){return M===45?(e.consume(M),v):n(M)}function g(M){return M===null?n(M):M===45?(e.consume(M),b):Se(M)?(l=g,K(M)):(e.consume(M),g)}function b(M){return M===45?(e.consume(M),v):g(M)}function v(M){return M===62?P(M):M===45?b(M):g(M)}function E(M){const z="CDATA[";return M===z.charCodeAt(o++)?(e.consume(M),o===z.length?S:E):n(M)}function S(M){return M===null?n(M):M===93?(e.consume(M),T):Se(M)?(l=S,K(M)):(e.consume(M),S)}function T(M){return M===93?(e.consume(M),C):S(M)}function C(M){return M===62?P(M):M===93?(e.consume(M),C):S(M)}function O(M){return M===null||M===62?P(M):Se(M)?(l=O,K(M)):(e.consume(M),O)}function A(M){return M===null?n(M):M===63?(e.consume(M),j):Se(M)?(l=A,K(M)):(e.consume(M),A)}function j(M){return M===62?P(M):A(M)}function F(M){return on(M)?(e.consume(M),I):n(M)}function I(M){return M===45||Jt(M)?(e.consume(M),I):L(M)}function L(M){return Se(M)?(l=L,K(M)):Le(M)?(e.consume(M),L):P(M)}function $(M){return M===45||Jt(M)?(e.consume(M),$):M===47||M===62||ut(M)?se(M):n(M)}function se(M){return M===47?(e.consume(M),P):M===58||M===95||on(M)?(e.consume(M),B):Se(M)?(l=se,K(M)):Le(M)?(e.consume(M),se):P(M)}function B(M){return M===45||M===46||M===58||M===95||Jt(M)?(e.consume(M),B):ne(M)}function ne(M){return M===61?(e.consume(M),re):Se(M)?(l=ne,K(M)):Le(M)?(e.consume(M),ne):se(M)}function re(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),a=M,he):Se(M)?(l=re,K(M)):Le(M)?(e.consume(M),re):(e.consume(M),oe)}function he(M){return M===a?(e.consume(M),a=void 0,te):M===null?n(M):Se(M)?(l=he,K(M)):(e.consume(M),he)}function oe(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||ut(M)?se(M):(e.consume(M),oe)}function te(M){return M===47||M===62||ut(M)?se(M):n(M)}function P(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function K(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),V}function V(M){return Le(M)?qe(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):ie(M)}function ie(M){return e.enter("htmlTextData"),l(M)}}const yy={name:"labelEnd",resolveAll:FV,resolveTo:HV,tokenize:ZV},BV={tokenize:qV},UV={tokenize:VV},$V={tokenize:GV};function FV(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Nn(e,0,e.length,n),e}function HV(e,t){let n=e.length,r=0,a,o,l,c;for(;n--;)if(a=e[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(l=n);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",h,t],["enter",d,t]],c=Yn(c,e.slice(o+1,o+r+3)),c=Yn(c,[["enter",p,t]]),c=Yn(c,Yf(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),c=Yn(c,[["exit",p,t],e[l-2],e[l-1],["exit",d,t]]),c=Yn(c,e.slice(l+1)),c=Yn(c,[["exit",h,t]]),Nn(e,o,e.length,c),e}function ZV(e,t,n){const r=this;let a=r.events.length,o,l;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return c;function c(b){return o?o._inactive?g(b):(l=r.parser.defined.includes(or(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),h):n(b)}function h(b){return b===40?e.attempt(BV,p,l?p:g)(b):b===91?e.attempt(UV,p,l?d:g)(b):l?p(b):g(b)}function d(b){return e.attempt($V,p,g)(b)}function p(b){return t(b)}function g(b){return o._balanced=!0,n(b)}}function qV(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),a}function a(g){return ut(g)?yl(e,o)(g):o(g)}function o(g){return g===41?p(g):TR(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return ut(g)?yl(e,h)(g):p(g)}function c(g){return n(g)}function h(g){return g===34||g===39||g===40?AR(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function d(g){return ut(g)?yl(e,p)(g):p(g)}function p(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function VV(e,t,n){const r=this;return a;function a(c){return CR.call(r,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(or(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function GV(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const YV={name:"labelStartImage",resolveAll:yy.resolveAll,tokenize:JV};function JV(e,t,n){const r=this;return a;function a(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const XV={name:"labelStartLink",resolveAll:yy.resolveAll,tokenize:KV};function KV(e,t,n){const r=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const tm={name:"lineEnding",tokenize:QV};function QV(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),qe(e,t,"linePrefix")}}const Zc={name:"thematicBreak",tokenize:WV};function WV(e,t,n){let r=0,a;return o;function o(d){return e.enter("thematicBreak"),l(d)}function l(d){return a=d,c(d)}function c(d){return d===a?(e.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||Se(d))?(e.exit("thematicBreak"),t(d)):n(d)}function h(d){return d===a?(e.consume(d),r++,h):(e.exit("thematicBreakSequence"),Le(d)?qe(e,c,"whitespace")(d):c(d))}}const bn={continuation:{tokenize:r7},exit:a7,name:"list",tokenize:n7},e7={partial:!0,tokenize:s7},t7={partial:!0,tokenize:i7};function n7(e,t,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return c;function c(v){const E=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:Jm(v)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Zc,n,d)(v):d(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(v)}return n(v)}function h(v){return Jm(v)&&++l<10?(e.consume(v),h):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),d(v)):n(v)}function d(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(Jl,r.interrupt?n:p,e.attempt(e7,b,g))}function p(v){return r.containerState.initialBlankLine=!0,o++,b(v)}function g(v){return Le(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),b):n(v)}function b(v){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function r7(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Jl,a,o);function a(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(e,t,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Le(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(t7,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(e,e.attempt(bn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function i7(e,t,n){const r=this;return qe(e,a,"listItemIndent",r.containerState.size+1);function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function a7(e){e.exit(this.containerState.type)}function s7(e,t,n){const r=this;return qe(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const l=r.events[r.events.length-1];return!Le(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const l0={name:"setextUnderline",resolveTo:o7,tokenize:l7};function o7(e,t){let n=e.length,r,a,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function l7(e,t,n){const r=this;let a;return o;function o(d){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),a=d,l(d)):n(d)}function l(d){return e.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===a?(e.consume(d),c):(e.exit("setextHeadingLineSequence"),Le(d)?qe(e,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Se(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const u7={tokenize:c7};function c7(e){const t=this,n=e.attempt(Jl,r,e.attempt(this.parser.constructs.flowInitial,a,qe(e,e.attempt(this.parser.constructs.flow,a,e.attempt(mV,a)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const f7={resolveAll:RR()},d7=kR("string"),h7=kR("text");function kR(e){return{resolveAll:RR(e==="text"?p7:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],o=n.attempt(a,l,c);return l;function l(p){return d(p)?o(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),h}function h(p){return d(p)?(n.exit("data"),o(p)):(n.consume(p),h)}function d(p){if(p===null)return!0;const g=a[p];let b=-1;if(g)for(;++b<g.length;){const v=g[b];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function RR(e){return t;function t(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(n,r):n}}function p7(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let o=a.length,l=-1,c=0,h;for(;o--;){const d=a[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)h=!0,c++;else if(d!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const d={type:n===e.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const m7={42:bn,43:bn,45:bn,48:bn,49:bn,50:bn,51:bn,52:bn,53:bn,54:bn,55:bn,56:bn,57:bn,62:wR},g7={91:xV},y7={[-2]:em,[-1]:em,32:em},b7={35:CV,42:Zc,45:[l0,Zc],60:MV,61:l0,95:Zc,96:s0,126:s0},v7={38:SR,92:_R},x7={[-5]:tm,[-4]:tm,[-3]:tm,33:YV,38:SR,42:Xm,60:[Xq,PV],91:XV,92:[EV,_R],93:yy,95:Xm,96:uV},w7={null:[Xm,f7]},_7={null:[42,95]},S7={null:[]},E7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_7,contentInitial:g7,disable:S7,document:m7,flow:b7,flowInitial:y7,insideSpan:w7,string:v7,text:x7},Symbol.toStringTag,{value:"Module"}));function T7(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let l=[],c=[];const h={attempt:L(F),check:L(I),consume:O,enter:A,exit:j,interrupt:L(I,{interrupt:!0})},d={code:null,containerState:{},defineSkip:S,events:[],now:E,parser:e,previous:null,sliceSerialize:b,sliceStream:v,write:g};let p=t.tokenize.call(d,h);return t.resolveAll&&o.push(t),d;function g(ne){return l=Yn(l,ne),T(),l[l.length-1]!==null?[]:($(t,0),d.events=Yf(o,d.events,d),d.events)}function b(ne,re){return A7(v(ne),re)}function v(ne){return C7(l,ne)}function E(){const{_bufferIndex:ne,_index:re,line:he,column:oe,offset:te}=r;return{_bufferIndex:ne,_index:re,line:he,column:oe,offset:te}}function S(ne){a[ne.line]=ne.column,B()}function T(){let ne;for(;r._index<l.length;){const re=l[r._index];if(typeof re=="string")for(ne=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ne&&r._bufferIndex<re.length;)C(re.charCodeAt(r._bufferIndex));else C(re)}}function C(ne){p=p(ne)}function O(ne){Se(ne)?(r.line++,r.column=1,r.offset+=ne===-3?2:1,B()):ne!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=ne}function A(ne,re){const he=re||{};return he.type=ne,he.start=E(),d.events.push(["enter",he,d]),c.push(he),he}function j(ne){const re=c.pop();return re.end=E(),d.events.push(["exit",re,d]),re}function F(ne,re){$(ne,re.from)}function I(ne,re){re.restore()}function L(ne,re){return he;function he(oe,te,P){let K,V,ie,M;return Array.isArray(oe)?Y(oe):"tokenize"in oe?Y([oe]):z(oe);function z(de){return fe;function fe(Ge){const $e=Ge!==null&&de[Ge],zt=Ge!==null&&de.null,Qt=[...Array.isArray($e)?$e:$e?[$e]:[],...Array.isArray(zt)?zt:zt?[zt]:[]];return Y(Qt)(Ge)}}function Y(de){return K=de,V=0,de.length===0?P:R(de[V])}function R(de){return fe;function fe(Ge){return M=se(),ie=de,de.partial||(d.currentConstruct=de),de.name&&d.parser.constructs.disable.null.includes(de.name)?ve():de.tokenize.call(re?Object.assign(Object.create(d),re):d,h,ae,ve)(Ge)}}function ae(de){return ne(ie,M),te}function ve(de){return M.restore(),++V<K.length?R(K[V]):P}}}function $(ne,re){ne.resolveAll&&!o.includes(ne)&&o.push(ne),ne.resolve&&Nn(d.events,re,d.events.length-re,ne.resolve(d.events.slice(re),d)),ne.resolveTo&&(d.events=ne.resolveTo(d.events,d))}function se(){const ne=E(),re=d.previous,he=d.currentConstruct,oe=d.events.length,te=Array.from(c);return{from:oe,restore:P};function P(){r=ne,d.previous=re,d.currentConstruct=he,d.events.length=oe,c=te,B()}}function B(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function C7(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,o=t.end._bufferIndex;let l;if(n===a)l=[e[n].slice(r,o)];else{if(l=e.slice(n,a),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}o>0&&l.push(e[a].slice(0,o))}return l}function A7(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&a)continue;l=" ";break}default:l=String.fromCharCode(o)}a=o===-2,r.push(l)}return r.join("")}function k7(e){const r={constructs:vR([E7,...(e||{}).extensions||[]]),content:a(Hq),defined:[],document:a(qq),flow:a(u7),lazy:{},string:a(d7),text:a(h7)};return r;function a(o){return l;function l(c){return T7(r,o,c)}}}function R7(e){for(;!ER(e););return e}const u0=/[\0\t\n\r]/g;function M7(){let e=1,t="",n=!0,r;return a;function a(o,l,c){const h=[];let d,p,g,b,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,t="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(u0.lastIndex=g,d=u0.exec(o),b=d&&d.index!==void 0?d.index:o.length,v=o.charCodeAt(b),!d){t=o.slice(g);break}if(v===10&&g===b&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),g<b&&(h.push(o.slice(g,b)),e+=b-g),v){case 0:{h.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,h.push(-2);e++<p;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return c&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const O7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function I7(e){return e.replace(O7,N7)}function N7(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return xR(n.slice(o?2:1),o?16:10)}return gy(n)||e}const MR={}.hasOwnProperty;function z7(e,t,n){return typeof t!="string"&&(n=t,t=void 0),D7(n)(R7(k7(n).document().write(M7()(e,t,!0))))}function D7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Da),autolinkProtocol:se,autolinkEmail:se,atxHeading:o(Na),blockQuote:o(zt),characterEscape:se,characterReference:se,codeFenced:o(Qt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Qt,l),codeText:o(jn,l),codeTextData:se,data:se,codeFlowValue:se,definition:o(Or),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ir),hardBreakEscape:o(za),hardBreakTrailing:o(za),htmlFlow:o(Kl,l),htmlFlowData:se,htmlText:o(Kl,l),htmlTextData:se,image:o(Ql),label:l,link:o(Da),listItem:o(so),listItemValue:b,listOrdered:o(ja,g),listUnordered:o(ja),paragraph:o(Qf),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Na),strong:o(Wf),thematicBreak:o(ed)},exit:{atxHeading:h(),atxHeadingSequence:F,autolink:h(),autolinkEmail:$e,autolinkProtocol:Ge,blockQuote:h(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:de,characterReference:fe,codeFenced:h(T),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:E,codeFlowValue:B,codeIndented:h(C),codeText:h(te),codeTextData:B,data:B,definition:h(),definitionDestinationString:j,definitionLabelString:O,definitionTitleString:A,emphasis:h(),hardBreakEscape:h(re),hardBreakTrailing:h(re),htmlFlow:h(he),htmlFlowData:B,htmlText:h(oe),htmlTextData:B,image:h(K),label:ie,labelText:V,lineEnding:ne,link:h(P),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ae,resourceDestinationString:M,resourceTitleString:z,resource:Y,setextHeading:h($),setextHeadingLineSequence:L,setextHeadingText:I,strong:h(),thematicBreak:h()}};OR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Q){let ue={type:"root",children:[]};const Ce={stack:[ue],tokenStack:[],config:t,enter:c,exit:d,buffer:l,resume:p,data:n},De=[];let Ke=-1;for(;++Ke<Q.length;)if(Q[Ke][1].type==="listOrdered"||Q[Ke][1].type==="listUnordered")if(Q[Ke][0]==="enter")De.push(Ke);else{const wn=De.pop();Ke=a(Q,wn,Ke)}for(Ke=-1;++Ke<Q.length;){const wn=t[Q[Ke][0]];MR.call(wn,Q[Ke][1].type)&&wn[Q[Ke][1].type].call(Object.assign({sliceSerialize:Q[Ke][2].sliceSerialize},Ce),Q[Ke][1])}if(Ce.tokenStack.length>0){const wn=Ce.tokenStack[Ce.tokenStack.length-1];(wn[1]||c0).call(Ce,void 0,wn[0])}for(ue.position={start:Ii(Q.length>0?Q[0][1].start:{line:1,column:1,offset:0}),end:Ii(Q.length>0?Q[Q.length-2][1].end:{line:1,column:1,offset:0})},Ke=-1;++Ke<t.transforms.length;)ue=t.transforms[Ke](ue)||ue;return ue}function a(Q,ue,Ce){let De=ue-1,Ke=-1,wn=!1,Nr,en,Dt,cn;for(;++De<=Ce;){const st=Q[De];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?Ke++:Ke--,cn=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(Nr&&!cn&&!Ke&&!Dt&&(Dt=De),cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:cn=void 0}if(!Ke&&st[0]==="enter"&&st[1].type==="listItemPrefix"||Ke===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Nr){let si=De;for(en=void 0;si--;){const Wn=Q[si];if(Wn[1].type==="lineEnding"||Wn[1].type==="lineEndingBlank"){if(Wn[0]==="exit")continue;en&&(Q[en][1].type="lineEndingBlank",wn=!0),Wn[1].type="lineEnding",en=si}else if(!(Wn[1].type==="linePrefix"||Wn[1].type==="blockQuotePrefix"||Wn[1].type==="blockQuotePrefixWhitespace"||Wn[1].type==="blockQuoteMarker"||Wn[1].type==="listItemIndent"))break}Dt&&(!en||Dt<en)&&(Nr._spread=!0),Nr.end=Object.assign({},en?Q[en][1].start:st[1].end),Q.splice(en||De,0,["exit",Nr,st[2]]),De++,Ce++}if(st[1].type==="listItemPrefix"){const si={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};Nr=si,Q.splice(De,0,["enter",si,st[2]]),De++,Ce++,Dt=void 0,cn=!0}}}return Q[ue][1]._spread=wn,Ce}function o(Q,ue){return Ce;function Ce(De){c.call(this,Q(De),De),ue&&ue.call(this,De)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(Q,ue,Ce){this.stack[this.stack.length-1].children.push(Q),this.stack.push(Q),this.tokenStack.push([ue,Ce||void 0]),Q.position={start:Ii(ue.start),end:void 0}}function h(Q){return ue;function ue(Ce){Q&&Q.call(this,Ce),d.call(this,Ce)}}function d(Q,ue){const Ce=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==Q.type&&(ue?ue.call(this,Q,De[0]):(De[1]||c0).call(this,Q,De[0]));else throw new Error("Cannot close `"+Q.type+"` ("+gl({start:Q.start,end:Q.end})+"): its not open");Ce.position.end=Ii(Q.end)}function p(){return my(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(Q){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(Q),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=Q}function E(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=Q}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Q.replace(/(\r?\n|\r)$/g,"")}function O(Q){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=or(this.sliceSerialize(Q)).toLowerCase()}function A(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.title=Q}function j(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.url=Q}function F(Q){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Ce=this.sliceSerialize(Q).length;ue.depth=Ce}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function L(Q){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(Q).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function se(Q){const Ce=this.stack[this.stack.length-1].children;let De=Ce[Ce.length-1];(!De||De.type!=="text")&&(De=Wt(),De.position={start:Ii(Q.start),end:void 0},Ce.push(De)),this.stack.push(De)}function B(Q){const ue=this.stack.pop();ue.value+=this.sliceSerialize(Q),ue.position.end=Ii(Q.end)}function ne(Q){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ue.children[ue.children.length-1];Ce.position.end=Ii(Q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(se.call(this,Q),B.call(this,Q))}function re(){this.data.atHardBreak=!0}function he(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Q}function oe(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Q}function te(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.value=Q}function P(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ue,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function K(){const Q=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";Q.type+="Reference",Q.referenceType=ue,delete Q.url,delete Q.title}else delete Q.identifier,delete Q.label;this.data.referenceType=void 0}function V(Q){const ue=this.sliceSerialize(Q),Ce=this.stack[this.stack.length-2];Ce.label=I7(ue),Ce.identifier=or(ue).toLowerCase()}function ie(){const Q=this.stack[this.stack.length-1],ue=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const De=Q.children;Ce.children=De}else Ce.alt=ue}function M(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.url=Q}function z(){const Q=this.resume(),ue=this.stack[this.stack.length-1];ue.title=Q}function Y(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function ae(Q){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=or(this.sliceSerialize(Q)).toLowerCase(),this.data.referenceType="full"}function ve(Q){this.data.characterReferenceType=Q.type}function de(Q){const ue=this.sliceSerialize(Q),Ce=this.data.characterReferenceType;let De;Ce?(De=xR(ue,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=gy(ue);const Ke=this.stack[this.stack.length-1];Ke.value+=De}function fe(Q){const ue=this.stack.pop();ue.position.end=Ii(Q.end)}function Ge(Q){B.call(this,Q);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(Q)}function $e(Q){B.call(this,Q);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(Q)}function zt(){return{type:"blockquote",children:[]}}function Qt(){return{type:"code",lang:null,meta:null,value:""}}function jn(){return{type:"inlineCode",value:""}}function Or(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ir(){return{type:"emphasis",children:[]}}function Na(){return{type:"heading",depth:0,children:[]}}function za(){return{type:"break"}}function Kl(){return{type:"html",value:""}}function Ql(){return{type:"image",title:null,url:"",alt:null}}function Da(){return{type:"link",title:null,url:"",children:[]}}function ja(Q){return{type:"list",ordered:Q.type==="listOrdered",start:null,spread:Q._spread,children:[]}}function so(Q){return{type:"listItem",spread:Q._spread,checked:null,children:[]}}function Qf(){return{type:"paragraph",children:[]}}function Wf(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function ed(){return{type:"thematicBreak"}}}function Ii(e){return{line:e.line,column:e.column,offset:e.offset}}function OR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?OR(e,r):j7(e,r)}}function j7(e,t){let n;for(n in t)if(MR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function c0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gl({start:t.start,end:t.end})+") is still open")}function P7(e){const t=this;t.parser=n;function n(r){return z7(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function L7(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function B7(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function U7(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function $7(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F7(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H7(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ao(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(r,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,d),e.applyData(t,d)}function Z7(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q7(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function IR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=r:a.push({type:"text",value:r}),a}function V7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IR(e,t);const a={src:ao(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,o),e.applyData(t,o)}function G7(e,t){const n={src:ao(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Y7(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function J7(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return IR(e,t);const a={href:ao(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function X7(e,t){const n={href:ao(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function K7(e,t,n){const r=e.all(t),a=n?Q7(n):NR(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(a||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!a?l.push(...p.children):l.push(p)}const h=r[r.length-1];h&&(a||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,d),e.applyData(t,d)}function Q7(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=NR(n[r])}return t}function NR(e){const t=e.spread;return t??e.children.length>1}function W7(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const l=r[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function eG(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tG(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nG(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rG(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),a.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=fy(t.children[1]),h=dR(t.children[t.children.length-1]);c&&h&&(l.position={start:c,end:h}),a.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function iG(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let h=-1;const d=[];for(;++h<c;){const g=t.children[h],b={},v=l?l[h]:void 0;v&&(b.align=v);let E={type:"element",tagName:o,properties:b,children:[]};g&&(E.children=e.all(g),e.patch(g,E),E=e.applyData(g,E)),d.push(E)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,p),e.applyData(t,p)}function aG(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const f0=9,d0=32;function sG(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const o=[];for(;r;)o.push(h0(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return o.push(h0(t.slice(a),a>0,!1)),o.join("")}function h0(e,t,n){let r=0,a=e.length;if(t){let o=e.codePointAt(r);for(;o===f0||o===d0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(a-1);for(;o===f0||o===d0;)a--,o=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function oG(e,t){const n={type:"text",value:sG(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lG(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const uG={blockquote:L7,break:B7,code:U7,delete:$7,emphasis:F7,footnoteReference:H7,heading:Z7,html:q7,imageReference:V7,image:G7,inlineCode:Y7,linkReference:J7,link:X7,listItem:K7,list:W7,paragraph:eG,root:tG,strong:nG,table:rG,tableCell:aG,tableRow:iG,text:oG,thematicBreak:lG,toml:Oc,yaml:Oc,definition:Oc,footnoteDefinition:Oc};function Oc(){}const zR=-1,Jf=0,bl=1,hf=2,by=3,vy=4,xy=5,wy=6,DR=7,jR=8,p0=typeof self=="object"?self:globalThis,cG=(e,t)=>{const n=(a,o)=>(e.set(o,a),a),r=a=>{if(e.has(a))return e.get(a);const[o,l]=t[a];switch(o){case Jf:case zR:return n(l,a);case bl:{const c=n([],a);for(const h of l)c.push(r(h));return c}case hf:{const c=n({},a);for(const[h,d]of l)c[r(h)]=r(d);return c}case by:return n(new Date(l),a);case vy:{const{source:c,flags:h}=l;return n(new RegExp(c,h),a)}case xy:{const c=n(new Map,a);for(const[h,d]of l)c.set(r(h),r(d));return c}case wy:{const c=n(new Set,a);for(const h of l)c.add(r(h));return c}case DR:{const{name:c,message:h}=l;return n(new p0[c](h),a)}case jR:return n(BigInt(l),a);case"BigInt":return n(Object(BigInt(l)),a);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new p0[o](l),a)};return r},m0=e=>cG(new Map,e)(0),As="",{toString:fG}={},{keys:dG}=Object,al=e=>{const t=typeof e;if(t!=="object"||!e)return[Jf,t];const n=fG.call(e).slice(8,-1);switch(n){case"Array":return[bl,As];case"Object":return[hf,As];case"Date":return[by,As];case"RegExp":return[vy,As];case"Map":return[xy,As];case"Set":return[wy,As];case"DataView":return[bl,n]}return n.includes("Array")?[bl,n]:n.includes("Error")?[DR,n]:[hf,n]},Ic=([e,t])=>e===Jf&&(t==="function"||t==="symbol"),hG=(e,t,n,r)=>{const a=(l,c)=>{const h=r.push(l)-1;return n.set(c,h),h},o=l=>{if(n.has(l))return n.get(l);let[c,h]=al(l);switch(c){case Jf:{let p=l;switch(h){case"bigint":c=jR,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return a([zR],l)}return a([c,p],l)}case bl:{if(h){let b=l;return h==="DataView"?b=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(b=new Uint8Array(l)),a([h,[...b]],l)}const p=[],g=a([c,p],l);for(const b of l)p.push(o(b));return g}case hf:{if(h)switch(h){case"BigInt":return a([h,l.toString()],l);case"Boolean":case"Number":case"String":return a([h,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],g=a([c,p],l);for(const b of dG(l))(e||!Ic(al(l[b])))&&p.push([o(b),o(l[b])]);return g}case by:return a([c,l.toISOString()],l);case vy:{const{source:p,flags:g}=l;return a([c,{source:p,flags:g}],l)}case xy:{const p=[],g=a([c,p],l);for(const[b,v]of l)(e||!(Ic(al(b))||Ic(al(v))))&&p.push([o(b),o(v)]);return g}case wy:{const p=[],g=a([c,p],l);for(const b of l)(e||!Ic(al(b)))&&p.push(o(b));return g}}const{message:d}=l;return a([c,{name:h,message:d}],l)};return o},g0=(e,{json:t,lossy:n}={})=>{const r=[];return hG(!(t||n),!!t,new Map,r)(e),r},pf=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?m0(g0(e,t)):structuredClone(e):(e,t)=>m0(g0(e,t));function pG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function mG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pG,r=e.options.footnoteBackLabel||mG,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[h]);if(!d)continue;const p=e.all(d),g=String(d.identifier).toUpperCase(),b=ao(g.toLowerCase());let v=0;const E=[],S=e.footnoteCounts.get(g);for(;S!==void 0&&++v<=S;){E.length>0&&E.push({type:"text",value:" "});let O=typeof n=="string"?n:n(h,v);typeof O=="string"&&(O={type:"text",value:O}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+b+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,v),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const T=p[p.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const O=T.children[T.children.length-1];O&&O.type==="text"?O.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...E)}else p.push(...E);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+b},children:e.wrap(p,!0)};e.patch(d,C),c.push(C)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...pf(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Xf=(function(e){if(e==null)return xG;if(typeof e=="function")return Kf(e);if(typeof e=="object")return Array.isArray(e)?yG(e):bG(e);if(typeof e=="string")return vG(e);throw new Error("Expected function, string, or object as test")});function yG(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Xf(e[n]);return Kf(r);function r(...a){let o=-1;for(;++o<t.length;)if(t[o].apply(this,a))return!0;return!1}}function bG(e){const t=e;return Kf(n);function n(r){const a=r;let o;for(o in e)if(a[o]!==t[o])return!1;return!0}}function vG(e){return Kf(t);function t(n){return n&&n.type===e}}function Kf(e){return t;function t(n,r,a){return!!(wG(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function xG(){return!0}function wG(e){return e!==null&&typeof e=="object"&&"type"in e}const PR=[],_G=!0,Km=!1,SG="skip";function LR(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const o=Xf(a),l=r?-1:1;c(e,void 0,[])();function c(h,d,p){const g=h&&typeof h=="object"?h:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return b;function b(){let v=PR,E,S,T;if((!t||o(h,d,p[p.length-1]||void 0))&&(v=EG(n(h,p)),v[0]===Km))return v;if("children"in h&&h.children){const C=h;if(C.children&&v[0]!==SG)for(S=(r?C.children.length:-1)+l,T=p.concat(C);S>-1&&S<C.children.length;){const O=C.children[S];if(E=c(O,S,T)(),E[0]===Km)return E;S=typeof E[1]=="number"?E[1]:S+l}}return v}}}function EG(e){return Array.isArray(e)?e:typeof e=="number"?[_G,e]:e==null?PR:[e]}function _y(e,t,n,r){let a,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,a=n):(o=t,l=n,a=r),LR(e,o,c,a);function c(h,d){const p=d[d.length-1],g=p?p.children.indexOf(h):void 0;return l(h,g,p)}}const Qm={}.hasOwnProperty,TG={};function CG(e,t){const n=t||TG,r=new Map,a=new Map,o=new Map,l={...uG,...n.handlers},c={all:d,applyData:kG,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:AG,wrap:MG};return _y(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:a,b=String(p.identifier).toUpperCase();g.has(b)||g.set(b,p)}}),c;function h(p,g){const b=p.type,v=c.handlers[b];if(Qm.call(c.handlers,b)&&v)return v(c,p,g);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:S,...T}=p,C=pf(T);return C.children=c.all(p),C}return pf(p)}return(c.options.unknownHandler||RG)(c,p,g)}function d(p){const g=[];if("children"in p){const b=p.children;let v=-1;for(;++v<b.length;){const E=c.one(b[v],p);if(E){if(v&&b[v-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=y0(E.value)),!Array.isArray(E)&&E.type==="element")){const S=E.children[0];S&&S.type==="text"&&(S.value=y0(S.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function AG(e,t){e.position&&(t.position=mq(e))}function kG(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,pf(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function RG(e,t){const n=t.data||{},r="value"in t&&!(Qm.call(n,"hProperties")||Qm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function MG(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function y0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function b0(e,t){const n=CG(e,t),r=n.one(e,void 0),a=gG(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function OG(e,t){return e&&"run"in e?async function(n,r){const a=b0(n,{file:r,...t});await e.run(a,r)}:function(n,r){return b0(n,{file:r,...e||t})}}function v0(e){if(e)throw e}var nm,x0;function IG(){if(x0)return nm;x0=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},o=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var p=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},l=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},c=function(d,p){if(p==="__proto__")if(e.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return nm=function h(){var d,p,g,b,v,E,S=arguments[0],T=1,C=arguments.length,O=!1;for(typeof S=="boolean"&&(O=S,S=arguments[1]||{},T=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});T<C;++T)if(d=arguments[T],d!=null)for(p in d)g=c(S,p),b=c(d,p),S!==b&&(O&&b&&(o(b)||(v=a(b)))?(v?(v=!1,E=g&&a(g)?g:[]):E=g&&o(g)?g:{},l(S,{name:p,newValue:h(O,E,b)})):typeof b<"u"&&l(S,{name:p,newValue:b}));return S},nm}var NG=IG();const rm=Ca(NG);function Wm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zG(){const e=[],t={run:n,use:r};return t;function n(...a){let o=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...a);function c(h,...d){const p=e[++o];let g=-1;if(h){l(h);return}for(;++g<a.length;)(d[g]===null||d[g]===void 0)&&(d[g]=a[g]);a=d,p?DG(p,c)(...d):l(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function DG(e,t){let n;return r;function r(...l){const c=e.length>l.length;let h;c&&l.push(a);try{h=e.apply(this,l)}catch(d){const p=d;if(c&&n)throw p;return a(p)}c||(h&&h.then&&typeof h.then=="function"?h.then(o,a):h instanceof Error?a(h):o(h))}function a(l,...c){n||(n=!0,t(l,...c))}function o(l){a(null,l)}}const vr={basename:jG,dirname:PG,extname:LG,join:BG,sep:"/"};function jG(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xl(e);let n=0,r=-1,a=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){n=a+1;break}}else l<0&&(o=!0,l=a+1),c>-1&&(e.codePointAt(a)===t.codePointAt(c--)?c<0&&(r=a):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function PG(e){if(Xl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function LG(e){Xl(e);let t=e.length,n=-1,r=0,a=-1,o=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?a<0?a=t:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function BG(...e){let t=-1,n;for(;++t<e.length;)Xl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":UG(n)}function UG(e){Xl(e);const t=e.codePointAt(0)===47;let n=$G(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function $G(e,t){let n="",r=0,a=-1,o=0,l=-1,c,h;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),a=l,o=0;continue}}else if(n.length>0){n="",r=0,a=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,l):n=e.slice(a+1,l),r=l-a-1;a=l,o=0}else c===46&&o>-1?o++:o=-1}return n}function Xl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FG={cwd:HG};function HG(){return"/"}function eg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ZG(e){if(typeof e=="string")e=new URL(e);else if(!eg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return qG(e)}function qG(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const im=["history","path","basename","stem","extname","dirname"];class BR{constructor(t){let n;t?eg(t)?n={path:t}:typeof t=="string"||VG(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":FG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<im.length;){const o=im[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)im.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(t){sm(t,"basename"),am(t,"basename"),this.path=vr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(t){w0(this.basename,"dirname"),this.path=vr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(t){if(am(t,"extname"),w0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){eg(t)&&(t=ZG(t)),sm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(t){sm(t,"stem"),am(t,"stem"),this.path=vr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Kt(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function am(e,t){if(e&&e.includes(vr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vr.sep+"`")}function sm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function w0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function VG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const GG=(function(e){const r=this.constructor.prototype,a=r[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),YG={}.hasOwnProperty;class Sy extends GG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zG()}copy(){const t=new Sy;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(um("data",this.frozen),this.namespace[t]=n,this):YG.call(this.namespace,t)&&this.namespace[t]||void 0:t?(um("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Nc(t),r=this.parser||this.Parser;return om("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),om("process",this.parser||this.Parser),lm("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,l){const c=Nc(t),h=r.parse(c);r.run(h,c,function(p,g,b){if(p||!g||!b)return d(p);const v=g,E=r.stringify(v,b);KG(E)?b.value=E:b.result=E,d(p,b)});function d(p,g){p||!g?l(p):o?o(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),om("processSync",this.parser||this.Parser),lm("processSync",this.compiler||this.Compiler),this.process(t,a),S0("processSync","process",n),r;function a(o,l){n=!0,v0(o),r=l}}run(t,n,r){_0(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,c){const h=Nc(n);a.run(t,h,d);function d(p,g,b){const v=g||t;p?c(p):l?l(v):r(void 0,v,b)}}}runSync(t,n){let r=!1,a;return this.run(t,n,o),S0("runSync","run",r),a;function o(l,c){v0(l),a=c,r=!0}}stringify(t,n){this.freeze();const r=Nc(n),a=this.compiler||this.Compiler;return lm("stringify",a),_0(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(um("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...g]=d;h(p,g)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(a.settings=rm(!0,a.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const g=d[p];o(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,p){let g=-1,b=-1;for(;++g<r.length;)if(r[g][0]===d){b=g;break}if(b===-1)r.push([d,...p]);else if(p.length>0){let[v,...E]=p;const S=r[b][1];Wm(S)&&Wm(v)&&(v=rm(!0,S,v)),r[b]=[d,v,...E]}}}}const JG=new Sy().freeze();function om(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function lm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function um(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _0(e){if(!Wm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function S0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Nc(e){return XG(e)?e:new BR(e)}function XG(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function KG(e){return typeof e=="string"||QG(e)}function QG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E0=[],T0={allowDangerousHtml:!0},eY=/^(https?|ircs?|mailto|xmpp)$/i,tY=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function nY(e){const t=rY(e),n=iY(e);return aY(t.runSync(t.parse(n),n),e)}function rY(e){const t=e.rehypePlugins||E0,n=e.remarkPlugins||E0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...T0}:T0;return JG().use(P7).use(n).use(OG,r).use(t)}function iY(e){const t=e.children||"",n=new BR;return typeof t=="string"&&(n.value=t),n}function aY(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,o=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,h=t.urlTransform||sY;for(const p of tY)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+WG+p.id,void 0);return _y(e,d),xq(e,{Fragment:x.Fragment,components:a,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function d(p,g,b){if(p.type==="raw"&&b&&typeof g=="number")return l?b.children.splice(g,1):b.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let v;for(v in Wp)if(Object.hasOwn(Wp,v)&&Object.hasOwn(p.properties,v)){const E=p.properties[v],S=Wp[v];(S===null||S.includes(p.tagName))&&(p.properties[v]=h(String(E||""),v,p))}}if(p.type==="element"){let v=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&r&&typeof g=="number"&&(v=!r(p,g,b)),v&&b&&typeof g=="number")return c&&p.children?b.children.splice(g,1,...p.children):b.children.splice(g,1),g}}}function sY(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||eY.test(e.slice(0,t))?e:""}const oY=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),lY=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:a,data:o,...l}=r||{};return l};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&oY(e.children,t.children)},Ey=(e,t)=>lY(e.node,t.node),uY=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,a=({node:o,...l})=>x.jsx(r,{...l});return[t,w.memo(a,Ey)]})),Ty=w.createContext(null),UR=()=>w.useContext(Ty)!==null,cY=({children:e,...t})=>x.jsx(Ty.Provider,{value:t,children:e}),fY=w.memo(cY,Ey),dY=({node:e,...t})=>x.jsx("pre",{...t}),hY=({node:e,...t})=>x.jsx("code",{...t}),Cy=({node:e,components:{Pre:t,Code:n},code:r})=>x.jsx(t,{children:x.jsx(n,{node:e,children:r})}),pY=()=>null,mY=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:a},language:o,code:l})=>{const c=w.useMemo(()=>({Pre:t,Code:n}),[t,n]),h=o?r:Cy;return x.jsxs(x.Fragment,{children:[x.jsx(a,{node:e,language:o,code:l}),x.jsx(h,{node:e,components:c,language:o??"unknown",code:l})]})};var cm={exports:{}};var C0;function gY(){return C0||(C0=1,(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=a(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=a(l,c));return l}function a(o,l){return l?o?o+" "+l:o+l:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(cm)),cm.exports}var yY=gY();const $R=Ca(yY),A0=({className:e,...t})=>({className:n,...r})=>({className:$R(e,n),...t,...r}),bY=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:a},componentsByLanguage:o={},children:l,...c})=>{const h=w.useContext(Ty),d=A0(h),p=Xt(T=>x.jsx(t,{...d(T)})),g=A0(c),b=Xt(T=>x.jsx(n,{...g(T)})),v=/language-(\w+)/.exec(c.className||"")?.[1]??"";if(typeof l!="string")return x.jsx(Cy,{node:e,components:{Pre:p,Code:b},code:l});const E=o[v]?.SyntaxHighlighter??r,S=o[v]?.CodeHeader??a;return x.jsx(mY,{node:e,components:{Pre:p,Code:b,SyntaxHighlighter:E,CodeHeader:S},language:v||"unknown",code:l})},vY=({node:e,components:t,componentsByLanguage:n,...r})=>UR()?x.jsx(bY,{node:e,components:t,componentsByLanguage:n,...r}):x.jsx(t.Code,{...r}),xY=w.memo(vY,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&Ey(e,t)),{useSmooth:wY,useSmoothStatus:_Y,withSmoothContextProvider:SY}=DE,EY=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...a})=>{const o=LC(),l=w.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:c}=wY(l,n),{pre:h=dY,code:d=hY,SyntaxHighlighter:p=Cy,CodeHeader:g=pY}=e??{},b=w.useMemo(()=>({Pre:h,Code:d,SyntaxHighlighter:p,CodeHeader:g}),[h,d,p,g]),v=Xt(S=>x.jsx(xY,{components:b,componentsByLanguage:t,...S})),E=w.useMemo(()=>{const{pre:S,code:T,SyntaxHighlighter:C,CodeHeader:O,...A}=e??{};return{...A,pre:fY,code:v}},[v,e]);return x.jsx(nY,{components:E,...a,children:c})},FR=w.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},a)=>{const o=_Y();return x.jsx(n,{"data-status":o.type,...t,className:$R(e,t?.className),ref:a,children:x.jsx(EY,{...r})})});FR.displayName="MarkdownTextPrimitive";const TY=SY(FR);function k0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function CY(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function AY(e,t,n){const a=Xf((n||{}).ignore||[]),o=kY(t);let l=-1;for(;++l<o.length;)LR(e,"text",c);function c(d,p){let g=-1,b;for(;++g<p.length;){const v=p[g],E=b?b.children:void 0;if(a(v,E?E.indexOf(v):void 0,b))return;b=v}if(b)return h(d,p)}function h(d,p){const g=p[p.length-1],b=o[l][0],v=o[l][1];let E=0;const T=g.children.indexOf(d);let C=!1,O=[];b.lastIndex=0;let A=b.exec(d.value);for(;A;){const j=A.index,F={index:A.index,input:A.input,stack:[...p,d]};let I=v(...A,F);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?b.lastIndex=j+1:(E!==j&&O.push({type:"text",value:d.value.slice(E,j)}),Array.isArray(I)?O.push(...I):I&&O.push(I),E=j+A[0].length,C=!0),!b.global)break;A=b.exec(d.value)}return C?(E<d.value.length&&O.push({type:"text",value:d.value.slice(E)}),g.children.splice(T,1,...O)):O=[d],T+O.length}}function kY(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([RY(a[0]),MY(a[1])])}return t}function RY(e){return typeof e=="string"?new RegExp(CY(e),"g"):e}function MY(e){return typeof e=="function"?e:function(){return e}}const fm="phrasing",dm=["autolink","link","image","label"];function OY(){return{transforms:[LY],enter:{literalAutolink:NY,literalAutolinkEmail:hm,literalAutolinkHttp:hm,literalAutolinkWww:hm},exit:{literalAutolink:PY,literalAutolinkEmail:jY,literalAutolinkHttp:zY,literalAutolinkWww:DY}}}function IY(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:fm,notInConstruct:dm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:fm,notInConstruct:dm},{character:":",before:"[ps]",after:"\\/",inConstruct:fm,notInConstruct:dm}]}}function NY(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function hm(e){this.config.enter.autolinkProtocol.call(this,e)}function zY(e){this.config.exit.autolinkProtocol.call(this,e)}function DY(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function jY(e){this.config.exit.autolinkEmail.call(this,e)}function PY(e){this.exit(e)}function LY(e){AY(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,BY],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),UY]],{ignore:["link","linkReference"]})}function BY(e,t,n,r,a){let o="";if(!HR(a)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!$Y(n)))return!1;const l=FY(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function UY(e,t,n,r){return!HR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function $Y(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function FY(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=k0(e,"(");let o=k0(e,")");for(;r!==-1&&a>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function HR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ta(n)||Gf(n))&&(!t||n!==47)}ZR.peek=KY;function HY(){this.buffer()}function ZY(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qY(){this.buffer()}function VY(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function GY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function YY(e){this.exit(e)}function JY(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=or(this.sliceSerialize(e)).toLowerCase(),n.label=t}function XY(e){this.exit(e)}function KY(){return"["}function ZR(e,t,n,r){const a=n.createTracker(r);let o=a.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return o+=a.move(n.safe(n.associationId(e),{after:"]",before:o})),c(),l(),o+=a.move("]"),o}function QY(){return{enter:{gfmFootnoteCallString:HY,gfmFootnoteCall:ZY,gfmFootnoteDefinitionLabelString:qY,gfmFootnoteDefinition:VY},exit:{gfmFootnoteCallString:GY,gfmFootnoteCall:YY,gfmFootnoteDefinitionLabelString:JY,gfmFootnoteDefinition:XY}}}function WY(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:ZR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,o,l){const c=o.createTracker(l);let h=c.move("[^");const d=o.enter("footnoteDefinition"),p=o.enter("label");return h+=c.move(o.safe(o.associationId(r),{before:h,after:"]"})),p(),h+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),h+=c.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,c.current()),t?qR:eJ))),d(),h}}function eJ(e,t,n){return t===0?e:qR(e,t,n)}function qR(e,t,n){return(n?"":"    ")+e}const tJ=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];VR.peek=sJ;function nJ(){return{canContainEols:["delete"],enter:{strikethrough:iJ},exit:{strikethrough:aJ}}}function rJ(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tJ}],handlers:{delete:VR}}}function iJ(e){this.enter({type:"delete",children:[]},e)}function aJ(e){this.exit(e)}function VR(e,t,n,r){const a=n.createTracker(r),o=n.enter("strikethrough");let l=a.move("~~");return l+=n.containerPhrasing(e,{...a.current(),before:l,after:"~"}),l+=a.move("~~"),o(),l}function sJ(){return"~"}function oJ(e){return e.length}function lJ(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||oJ,o=[],l=[],c=[],h=[];let d=0,p=-1;for(;++p<e.length;){const S=[],T=[];let C=-1;for(e[p].length>d&&(d=e[p].length);++C<e[p].length;){const O=uJ(e[p][C]);if(n.alignDelimiters!==!1){const A=a(O);T[C]=A,(h[C]===void 0||A>h[C])&&(h[C]=A)}S.push(O)}l[p]=S,c[p]=T}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<d;)o[g]=R0(r[g]);else{const S=R0(r);for(;++g<d;)o[g]=S}g=-1;const b=[],v=[];for(;++g<d;){const S=o[g];let T="",C="";S===99?(T=":",C=":"):S===108?T=":":S===114&&(C=":");let O=n.alignDelimiters===!1?1:Math.max(1,h[g]-T.length-C.length);const A=T+"-".repeat(O)+C;n.alignDelimiters!==!1&&(O=T.length+O+C.length,O>h[g]&&(h[g]=O),v[g]=O),b[g]=A}l.splice(1,0,b),c.splice(1,0,v),p=-1;const E=[];for(;++p<l.length;){const S=l[p],T=c[p];g=-1;const C=[];for(;++g<d;){const O=S[g]||"";let A="",j="";if(n.alignDelimiters!==!1){const F=h[g]-(T[g]||0),I=o[g];I===114?A=" ".repeat(F):I===99?F%2?(A=" ".repeat(F/2+.5),j=" ".repeat(F/2-.5)):(A=" ".repeat(F/2),j=A):j=" ".repeat(F)}n.delimiterStart!==!1&&!g&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&O==="")&&(n.delimiterStart!==!1||g)&&C.push(" "),n.alignDelimiters!==!1&&C.push(A),C.push(O),n.alignDelimiters!==!1&&C.push(j),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||g!==d-1)&&C.push("|")}E.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return E.join(`
`)}function uJ(e){return e==null?"":String(e)}function R0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function cJ(e,t,n,r){const a=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),fJ);return a(),l}function fJ(e,t,n){return">"+(n?"":" ")+e}function dJ(e,t){return M0(e,t.inConstruct,!0)&&!M0(e,t.notInConstruct,!1)}function M0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function O0(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&dJ(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function hJ(e,t){const n=String(e);let r=n.indexOf(t),a=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++o>l&&(l=o):o=1,a=r+t.length,r=n.indexOf(t,a);return l}function pJ(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function mJ(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gJ(e,t,n,r){const a=mJ(n),o=e.value||"",l=a==="`"?"GraveAccent":"Tilde";if(pJ(e,n)){const g=n.enter("codeIndented"),b=n.indentLines(o,yJ);return g(),b}const c=n.createTracker(r),h=a.repeat(Math.max(hJ(o,a)+1,3)),d=n.enter("codeFenced");let p=c.move(h);if(e.lang){const g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),o&&(p+=c.move(o+`
`)),p+=c.move(h),d(),p}function yJ(e,t,n){return(n?"":"    ")+e}function Ay(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bJ(e,t,n,r){const a=Ay(n),o=a==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const h=n.createTracker(r);let d=h.move("[");return d+=h.move(n.safe(n.associationId(e),{before:d,after:"]",...h.current()})),d+=h.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(c=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":`
`,...h.current()}))),c(),e.title&&(c=n.enter(`title${o}`),d+=h.move(" "+a),d+=h.move(n.safe(e.title,{before:d,after:a,...h.current()})),d+=h.move(a),c()),l(),d}function vJ(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Dl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function mf(e,t,n){const r=Js(e),a=Js(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}GR.peek=xJ;function GR(e,t,n,r){const a=vJ(n),o=n.enter("emphasis"),l=n.createTracker(r),c=l.move(a);let h=l.move(n.containerPhrasing(e,{after:a,before:c,...l.current()}));const d=h.charCodeAt(0),p=mf(r.before.charCodeAt(r.before.length-1),d,a);p.inside&&(h=Dl(d)+h.slice(1));const g=h.charCodeAt(h.length-1),b=mf(r.after.charCodeAt(0),g,a);b.inside&&(h=h.slice(0,-1)+Dl(g));const v=l.move(a);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+h+v}function xJ(e,t,n){return n.options.emphasis||"*"}function wJ(e,t){let n=!1;return _y(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Km}),!!((!e.depth||e.depth<3)&&my(e)&&(t.options.setext||n))}function _J(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(wJ(e,n)){const p=n.enter("headingSetext"),g=n.enter("phrasing"),b=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return g(),p(),b+`
`+(a===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const l="#".repeat(a),c=n.enter("headingAtx"),h=n.enter("phrasing");o.move(l+" ");let d=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(d)&&(d=Dl(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,n.options.closeAtx&&(d+=" "+l),h(),c(),d}YR.peek=SJ;function YR(e){return e.value||""}function SJ(){return"<"}JR.peek=EJ;function JR(e,t,n,r){const a=Ay(n),o=a==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const h=n.createTracker(r);let d=h.move("![");return d+=h.move(n.safe(e.alt,{before:d,after:"]",...h.current()})),d+=h.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),d+=h.move("<"),d+=h.move(n.safe(e.url,{before:d,after:">",...h.current()})),d+=h.move(">")):(c=n.enter("destinationRaw"),d+=h.move(n.safe(e.url,{before:d,after:e.title?" ":")",...h.current()}))),c(),e.title&&(c=n.enter(`title${o}`),d+=h.move(" "+a),d+=h.move(n.safe(e.title,{before:d,after:a,...h.current()})),d+=h.move(a),c()),d+=h.move(")"),l(),d}function EJ(){return"!"}XR.peek=TJ;function XR(e,t,n,r){const a=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("![");const d=n.safe(e.alt,{before:h,after:"]",...c.current()});h+=c.move(d+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...c.current()});return l(),n.stack=p,o(),a==="full"||!d||d!==g?h+=c.move(g+"]"):a==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function TJ(){return"!"}KR.peek=CJ;function KR(e,t,n){let r=e.value||"",a="`",o=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],c=n.compilePattern(l);let h;if(l.atBreak)for(;h=c.exec(r);){let d=h.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(h.index+1)}}return a+r+a}function CJ(){return"`"}function QR(e,t){const n=my(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}WR.peek=AJ;function WR(e,t,n,r){const a=Ay(n),o=a==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,h;if(QR(e,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(e,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),h=n.enter("label");let d=l.move("[");return d+=l.move(n.containerPhrasing(e,{before:d,after:"](",...l.current()})),d+=l.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),d+=l.move("<"),d+=l.move(n.safe(e.url,{before:d,after:">",...l.current()})),d+=l.move(">")):(h=n.enter("destinationRaw"),d+=l.move(n.safe(e.url,{before:d,after:e.title?" ":")",...l.current()}))),h(),e.title&&(h=n.enter(`title${o}`),d+=l.move(" "+a),d+=l.move(n.safe(e.title,{before:d,after:a,...l.current()})),d+=l.move(a),h()),d+=l.move(")"),c(),d}function AJ(e,t,n){return QR(e,n)?"<":"["}eM.peek=kJ;function eM(e,t,n,r){const a=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let h=c.move("[");const d=n.containerPhrasing(e,{before:h,after:"]",...c.current()});h+=c.move(d+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:h,after:"]",...c.current()});return l(),n.stack=p,o(),a==="full"||!d||d!==g?h+=c.move(g+"]"):a==="shortcut"?h=h.slice(0,-1):h+=c.move("]"),h}function kJ(){return"["}function ky(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function RJ(e){const t=ky(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function MJ(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tM(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function OJ(e,t,n,r){const a=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?MJ(n):ky(n);const c=e.ordered?l==="."?")":".":RJ(n);let h=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),tM(n)===l&&p){let g=-1;for(;++g<e.children.length;){const b=e.children[g];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(l=c),n.bulletCurrent=l;const d=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,a(),d}function IJ(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function NJ(e,t,n,r){const a=IJ(n);let o=n.bulletCurrent||ky(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(o+" ".repeat(l-o.length)),c.shift(l);const h=n.enter("listItem"),d=n.indentLines(n.containerFlow(e,c.current()),p);return h(),d;function p(g,b,v){return b?(v?"":" ".repeat(l))+g:(v?o:o+" ".repeat(l-o.length))+g}}function zJ(e,t,n,r){const a=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),a(),l}const DJ=Xf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function jJ(e,t,n,r){return(e.children.some(function(l){return DJ(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function PJ(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}nM.peek=LJ;function nM(e,t,n,r){const a=PJ(n),o=n.enter("strong"),l=n.createTracker(r),c=l.move(a+a);let h=l.move(n.containerPhrasing(e,{after:a,before:c,...l.current()}));const d=h.charCodeAt(0),p=mf(r.before.charCodeAt(r.before.length-1),d,a);p.inside&&(h=Dl(d)+h.slice(1));const g=h.charCodeAt(h.length-1),b=mf(r.after.charCodeAt(0),g,a);b.inside&&(h=h.slice(0,-1)+Dl(g));const v=l.move(a+a);return o(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},c+h+v}function LJ(e,t,n){return n.options.strong||"*"}function BJ(e,t,n,r){return n.safe(e.value,r)}function UJ(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $J(e,t,n){const r=(tM(n)+(n.options.ruleSpaces?" ":"")).repeat(UJ(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rM={blockquote:cJ,break:O0,code:gJ,definition:bJ,emphasis:GR,hardBreak:O0,heading:_J,html:YR,image:JR,imageReference:XR,inlineCode:KR,link:WR,linkReference:eM,list:OJ,listItem:NJ,paragraph:zJ,root:jJ,strong:nM,text:BJ,thematicBreak:$J};function FJ(){return{enter:{table:HJ,tableData:I0,tableHeader:I0,tableRow:qJ},exit:{codeText:VJ,table:ZJ,tableData:pm,tableHeader:pm,tableRow:pm}}}function HJ(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function ZJ(e){this.exit(e),this.data.inTable=void 0}function qJ(e){this.enter({type:"tableRow",children:[]},e)}function pm(e){this.exit(e)}function I0(e){this.enter({type:"tableCell",children:[]},e)}function VJ(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,GJ));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function GJ(e,t){return t==="|"?t:e}function YJ(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:l,tableCell:h,tableRow:c}};function l(v,E,S,T){return d(p(v,S,T),v.align)}function c(v,E,S,T){const C=g(v,S,T),O=d([C]);return O.slice(0,O.indexOf(`
`))}function h(v,E,S,T){const C=S.enter("tableCell"),O=S.enter("phrasing"),A=S.containerPhrasing(v,{...T,before:o,after:o});return O(),C(),A}function d(v,E){return lJ(v,{align:E,alignDelimiters:r,padding:n,stringLength:a})}function p(v,E,S){const T=v.children;let C=-1;const O=[],A=E.enter("table");for(;++C<T.length;)O[C]=g(T[C],E,S);return A(),O}function g(v,E,S){const T=v.children;let C=-1;const O=[],A=E.enter("tableRow");for(;++C<T.length;)O[C]=h(T[C],v,E,S);return A(),O}function b(v,E,S){let T=rM.inlineCode(v,E,S);return S.stack.includes("tableCell")&&(T=T.replace(/\|/g,"\\$&")),T}}function JJ(){return{exit:{taskListCheckValueChecked:N0,taskListCheckValueUnchecked:N0,paragraph:KJ}}}function XJ(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:QJ}}}function N0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function KJ(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let o=-1,l;for(;++o<a.length;){const c=a[o];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function QJ(e,t,n,r){const a=e.children[0],o=typeof e.checked=="boolean"&&a&&a.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);o&&c.move(l);let h=rM.listItem(e,t,n,{...r,...c.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),h;function d(p){return p+l}}function WJ(){return[OY(),QY(),nJ(),FJ(),JJ()]}function eX(e){return{extensions:[IY(),WY(e),rJ(),YJ(e),XJ()]}}const tX={tokenize:oX,partial:!0},iM={tokenize:lX,partial:!0},aM={tokenize:uX,partial:!0},sM={tokenize:cX,partial:!0},nX={tokenize:fX,partial:!0},oM={name:"wwwAutolink",tokenize:aX,previous:uM},lM={name:"protocolAutolink",tokenize:sX,previous:cM},ai={name:"emailAutolink",tokenize:iX,previous:fM},Mr={};function rX(){return{text:Mr}}let va=48;for(;va<123;)Mr[va]=ai,va++,va===58?va=65:va===91&&(va=97);Mr[43]=ai;Mr[45]=ai;Mr[46]=ai;Mr[95]=ai;Mr[72]=[ai,lM];Mr[104]=[ai,lM];Mr[87]=[ai,oM];Mr[119]=[ai,oM];function iX(e,t,n){const r=this;let a,o;return l;function l(g){return!tg(g)||!fM.call(r,r.previous)||Ry(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(g))}function c(g){return tg(g)?(e.consume(g),c):g===64?(e.consume(g),h):n(g)}function h(g){return g===46?e.check(nX,p,d)(g):g===45||g===95||Jt(g)?(o=!0,e.consume(g),h):p(g)}function d(g){return e.consume(g),a=!0,h}function p(g){return o&&a&&on(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function aX(e,t,n){const r=this;return a;function a(l){return l!==87&&l!==119||!uM.call(r,r.previous)||Ry(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tX,e.attempt(iM,e.attempt(aM,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function sX(e,t,n){const r=this;let a="",o=!1;return l;function l(g){return(g===72||g===104)&&cM.call(r,r.previous)&&!Ry(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(g),e.consume(g),c):n(g)}function c(g){if(on(g)&&a.length<5)return a+=String.fromCodePoint(g),e.consume(g),c;if(g===58){const b=a.toLowerCase();if(b==="http"||b==="https")return e.consume(g),h}return n(g)}function h(g){return g===47?(e.consume(g),o?d:(o=!0,h)):n(g)}function d(g){return g===null||df(g)||ut(g)||Ta(g)||Gf(g)?n(g):e.attempt(iM,e.attempt(aM,p),n)(g)}function p(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function oX(e,t,n){let r=0;return a;function a(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),a):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function lX(e,t,n){let r,a,o;return l;function l(d){return d===46||d===95?e.check(sM,h,c)(d):d===null||ut(d)||Ta(d)||d!==45&&Gf(d)?h(d):(o=!0,e.consume(d),l)}function c(d){return d===95?r=!0:(a=r,r=void 0),e.consume(d),l}function h(d){return a||r||!o?n(d):t(d)}}function uX(e,t){let n=0,r=0;return a;function a(l){return l===40?(n++,e.consume(l),a):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(sM,t,o)(l):l===null||ut(l)||Ta(l)?t(l):(e.consume(l),a)}function o(l){return l===41&&r++,e.consume(l),a}}function cX(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),o):c===93?(e.consume(c),a):c===60||c===null||ut(c)||Ta(c)?t(c):n(c)}function a(c){return c===null||c===40||c===91||ut(c)||Ta(c)?t(c):r(c)}function o(c){return on(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):on(c)?(e.consume(c),l):n(c)}}function fX(e,t,n){return r;function r(o){return e.consume(o),a}function a(o){return Jt(o)?n(o):t(o)}}function uM(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||ut(e)}function cM(e){return!on(e)}function fM(e){return!(e===47||tg(e))}function tg(e){return e===43||e===45||e===46||e===95||Jt(e)}function Ry(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const dX={tokenize:xX,partial:!0};function hX(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:yX,continuation:{tokenize:bX},exit:vX}},text:{91:{name:"gfmFootnoteCall",tokenize:gX},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:pX,resolveTo:mX}}}}function pX(e,t,n){const r=this;let a=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;a--;){const h=r.events[a][1];if(h.type==="labelImage"){l=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return c;function c(h){if(!l||!l._balanced)return n(h);const d=or(r.sliceSerialize({start:l.end,end:r.now()}));return d.codePointAt(0)!==94||!o.includes(d.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function mX(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function gX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return c;function c(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),h}function h(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",d)}function d(g){if(o>999||g===93&&!l||g===null||g===91||ut(g))return n(g);if(g===93){e.exit("chunkString");const b=e.exit("gfmFootnoteCallString");return a.includes(or(r.sliceSerialize(b)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return ut(g)||(l=!0),o++,e.consume(g),g===92?p:d}function p(g){return g===91||g===92||g===93?(e.consume(g),o++,d):d(g)}}function yX(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,c;return h;function h(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(E)}function p(E){if(l>999||E===93&&!c||E===null||E===91||ut(E))return n(E);if(E===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return o=or(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),b}return ut(E)||(c=!0),l++,e.consume(E),E===92?g:p}function g(E){return E===91||E===92||E===93?(e.consume(E),l++,p):p(E)}function b(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),a.includes(o)||a.push(o),qe(e,v,"gfmFootnoteDefinitionWhitespace")):n(E)}function v(E){return t(E)}}function bX(e,t,n){return e.check(Jl,t,e.attempt(dX,t,n))}function vX(e){e.exit("gfmFootnoteDefinition")}function xX(e,t,n){const r=this;return qe(e,a,"gfmFootnoteDefinitionIndent",5);function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function wX(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(l,c){let h=-1;for(;++h<l.length;)if(l[h][0]==="enter"&&l[h][1].type==="strikethroughSequenceTemporary"&&l[h][1]._close){let d=h;for(;d--;)if(l[d][0]==="exit"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._open&&l[h][1].end.offset-l[h][1].start.offset===l[d][1].end.offset-l[d][1].start.offset){l[h][1].type="strikethroughSequence",l[d][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[d][1].start),end:Object.assign({},l[h][1].end)},g={type:"strikethroughText",start:Object.assign({},l[d][1].end),end:Object.assign({},l[h][1].start)},b=[["enter",p,c],["enter",l[d][1],c],["exit",l[d][1],c],["enter",g,c]],v=c.parser.constructs.insideSpan.null;v&&Nn(b,b.length,0,Yf(v,l.slice(d+1,h),c)),Nn(b,b.length,0,[["exit",g,c],["enter",l[h][1],c],["exit",l[h][1],c],["exit",p,c]]),Nn(l,d-1,h-d+3,b),h=d+b.length-2;break}}for(h=-1;++h<l.length;)l[h][1].type==="strikethroughSequenceTemporary"&&(l[h][1].type="data");return l}function o(l,c,h){const d=this.previous,p=this.events;let g=0;return b;function b(E){return d===126&&p[p.length-1][1].type!=="characterEscape"?h(E):(l.enter("strikethroughSequenceTemporary"),v(E))}function v(E){const S=Js(d);if(E===126)return g>1?h(E):(l.consume(E),g++,v);if(g<2&&!n)return h(E);const T=l.exit("strikethroughSequenceTemporary"),C=Js(E);return T._open=!C||C===2&&!!S,T._close=!S||S===2&&!!C,c(E)}}}class _X{constructor(){this.map=[]}add(t,n,r){SX(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const o of a)t.push(o);a=r.pop()}this.map.length=0}}function SX(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function EX(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function TX(){return{flow:{null:{name:"table",tokenize:CX,resolveAll:AX}}}}function CX(e,t,n){const r=this;let a=0,o=0,l;return c;function c(B){let ne=r.events.length-1;for(;ne>-1;){const oe=r.events[ne][1].type;if(oe==="lineEnding"||oe==="linePrefix")ne--;else break}const re=ne>-1?r.events[ne][1].type:null,he=re==="tableHead"||re==="tableRow"?I:h;return he===I&&r.parser.lazy[r.now().line]?n(B):he(B)}function h(B){return e.enter("tableHead"),e.enter("tableRow"),d(B)}function d(B){return B===124||(l=!0,o+=1),p(B)}function p(B){return B===null?n(B):Se(B)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),v):n(B):Le(B)?qe(e,p,"whitespace")(B):(o+=1,l&&(l=!1,a+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),g(B)))}function g(B){return B===null||B===124||ut(B)?(e.exit("data"),p(B)):(e.consume(B),B===92?b:g)}function b(B){return B===92||B===124?(e.consume(B),g):g(B)}function v(B){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(B):(e.enter("tableDelimiterRow"),l=!1,Le(B)?qe(e,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):E(B))}function E(B){return B===45||B===58?T(B):B===124?(l=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),S):F(B)}function S(B){return Le(B)?qe(e,T,"whitespace")(B):T(B)}function T(B){return B===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),C):B===45?(o+=1,C(B)):B===null||Se(B)?j(B):F(B)}function C(B){return B===45?(e.enter("tableDelimiterFiller"),O(B)):F(B)}function O(B){return B===45?(e.consume(B),O):B===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(B))}function A(B){return Le(B)?qe(e,j,"whitespace")(B):j(B)}function j(B){return B===124?E(B):B===null||Se(B)?!l||a!==o?F(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):F(B)}function F(B){return n(B)}function I(B){return e.enter("tableRow"),L(B)}function L(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),L):B===null||Se(B)?(e.exit("tableRow"),t(B)):Le(B)?qe(e,L,"whitespace")(B):(e.enter("data"),$(B))}function $(B){return B===null||B===124||ut(B)?(e.exit("data"),L(B)):(e.consume(B),B===92?se:$)}function se(B){return B===92||B===124?(e.consume(B),$):$(B)}}function AX(e,t){let n=-1,r=!0,a=0,o=[0,0,0,0],l=[0,0,0,0],c=!1,h=0,d,p,g;const b=new _X;for(;++n<e.length;){const v=e[n],E=v[1];v[0]==="enter"?E.type==="tableHead"?(c=!1,h!==0&&(z0(b,t,h,d,p),p=void 0,h=0),d={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(n,0,[["enter",d,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,g=void 0,o=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},b.add(n,0,[["enter",p,t]])),a=E.type==="tableDelimiterRow"?2:p?3:1):a&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],g=zc(b,t,o,a,void 0,g),o=[0,0,0,0]),l[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],g=zc(b,t,o,a,void 0,g)),o=l,l=[o[1],n,0,0])):E.type==="tableHead"?(c=!0,h=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(h=n,o[1]!==0?(l[0]=l[1],g=zc(b,t,o,a,n,g)):l[1]!==0&&(g=zc(b,t,l,a,n,g)),a=0):a&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(l[3]=n)}for(h!==0&&z0(b,t,h,d,p),b.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=EX(t.events,n))}return e}function zc(e,t,n,r,a,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(o.end=Object.assign({},Ms(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const h=Ms(t.events,n[1]);if(o={type:l,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const d=Ms(t.events,n[2]),p=Ms(t.events,n[3]),g={type:c,start:Object.assign({},d),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const b=t.events[n[2]],v=t.events[n[3]];if(b[1].end=Object.assign({},v[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,S=n[3]-n[2]-1;e.add(E,S,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return a!==void 0&&(o.end=Object.assign({},Ms(t.events,a)),e.add(a,0,[["exit",o,t]]),o=void 0),o}function z0(e,t,n,r,a){const o=[],l=Ms(t.events,n);a&&(a.end=Object.assign({},l),o.push(["exit",a,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function Ms(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const kX={name:"tasklistCheck",tokenize:MX};function RX(){return{text:{91:kX}}}function MX(e,t,n){const r=this;return a;function a(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),o)}function o(h){return ut(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),l):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),l):n(h)}function l(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(h)}function c(h){return Se(h)?t(h):Le(h)?e.check({tokenize:OX},t,n)(h):n(h)}}function OX(e,t,n){return qe(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function IX(e){return vR([rX(),hX(),wX(e),TX(),RX()])}const NX={};function zX(e){const t=this,n=e||NX,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(IX(n)),o.push(WJ()),l.push(eX(n))}const DX=()=>x.jsx(TY,{remarkPlugins:[zX],className:"aui-md",components:BX}),jX=w.memo(DX),PX=({language:e,code:t})=>{const{isCopied:n,copyToClipboard:r}=LX(),a=()=>{!t||n||r(t)};return x.jsxs("div",{className:"aui-code-header-root mt-2.5 flex items-center justify-between rounded-t-lg border border-border/50 border-b-0 bg-muted/50 px-3 py-1.5 text-xs",children:[x.jsx("span",{className:"aui-code-header-language font-medium text-muted-foreground lowercase",children:e}),x.jsxs(Xn,{tooltip:"Copy",onClick:a,children:[!n&&x.jsx(Xk,{}),n&&x.jsx(ly,{})]})]})},LX=({copiedDuration:e=3e3}={})=>{const[t,n]=w.useState(!1);return{isCopied:t,copyToClipboard:a=>{a&&navigator.clipboard.writeText(a).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},BX=uY({h1:({className:e,...t})=>x.jsx("h1",{className:Ae("aui-md-h1 mb-2 scroll-m-20 font-semibold text-base first:mt-0 last:mb-0",e),...t}),h2:({className:e,...t})=>x.jsx("h2",{className:Ae("aui-md-h2 mt-3 mb-1.5 scroll-m-20 font-semibold text-sm first:mt-0 last:mb-0",e),...t}),h3:({className:e,...t})=>x.jsx("h3",{className:Ae("aui-md-h3 mt-2.5 mb-1 scroll-m-20 font-semibold text-sm first:mt-0 last:mb-0",e),...t}),h4:({className:e,...t})=>x.jsx("h4",{className:Ae("aui-md-h4 mt-2 mb-1 scroll-m-20 font-medium text-sm first:mt-0 last:mb-0",e),...t}),h5:({className:e,...t})=>x.jsx("h5",{className:Ae("aui-md-h5 mt-2 mb-1 font-medium text-sm first:mt-0 last:mb-0",e),...t}),h6:({className:e,...t})=>x.jsx("h6",{className:Ae("aui-md-h6 mt-2 mb-1 font-medium text-sm first:mt-0 last:mb-0",e),...t}),p:({className:e,...t})=>x.jsx("p",{className:Ae("aui-md-p my-2.5 leading-normal first:mt-0 last:mb-0",e),...t}),a:({className:e,...t})=>x.jsx("a",{className:Ae("aui-md-a text-primary underline underline-offset-2 hover:text-primary/80",e),...t}),blockquote:({className:e,...t})=>x.jsx("blockquote",{className:Ae("aui-md-blockquote my-2.5 border-muted-foreground/30 border-l-2 pl-3 text-muted-foreground italic",e),...t}),ul:({className:e,...t})=>x.jsx("ul",{className:Ae("aui-md-ul my-2 ml-4 list-disc marker:text-muted-foreground [&>li]:mt-1",e),...t}),ol:({className:e,...t})=>x.jsx("ol",{className:Ae("aui-md-ol my-2 ml-4 list-decimal marker:text-muted-foreground [&>li]:mt-1",e),...t}),hr:({className:e,...t})=>x.jsx("hr",{className:Ae("aui-md-hr my-2 border-muted-foreground/20",e),...t}),table:({className:e,...t})=>x.jsx("table",{className:Ae("aui-md-table my-2 w-full border-separate border-spacing-0 overflow-y-auto",e),...t}),th:({className:e,...t})=>x.jsx("th",{className:Ae("aui-md-th bg-muted px-2 py-1 text-left font-medium first:rounded-tl-lg last:rounded-tr-lg [[align=center]]:text-center [[align=right]]:text-right",e),...t}),td:({className:e,...t})=>x.jsx("td",{className:Ae("aui-md-td border-muted-foreground/20 border-b border-l px-2 py-1 text-left last:border-r [[align=center]]:text-center [[align=right]]:text-right",e),...t}),tr:({className:e,...t})=>x.jsx("tr",{className:Ae("aui-md-tr m-0 border-b p-0 first:border-t [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg",e),...t}),li:({className:e,...t})=>x.jsx("li",{className:Ae("aui-md-li leading-normal",e),...t}),sup:({className:e,...t})=>x.jsx("sup",{className:Ae("aui-md-sup [&>a]:text-xs [&>a]:no-underline",e),...t}),pre:({className:e,...t})=>x.jsx("pre",{className:Ae("aui-md-pre overflow-x-auto rounded-t-none rounded-b-lg border border-border/50 border-t-0 bg-muted/30 p-3 text-xs leading-relaxed",e),...t}),code:function({className:t,...n}){const r=UR();return x.jsx("code",{className:Ae(!r&&"aui-md-inline-code rounded-md border border-border/50 bg-muted/50 px-1.5 py-0.5 font-mono text-[0.85em]",t),...n})},CodeHeader:PX});function UX({...e}){return x.jsx(eH,{"data-slot":"collapsible",...e})}function $X({...e}){return x.jsx(ak,{"data-slot":"collapsible-trigger",...e})}function FX({...e}){return x.jsx(sk,{"data-slot":"collapsible-content",...e})}const D0=200;function dM({className:e,open:t,onOpenChange:n,defaultOpen:r=!1,children:a,...o}){const l=w.useRef(null),[c,h]=w.useState(r),d=q9(l,D0),p=t!==void 0,g=p?t:c,b=w.useCallback(v=>{v||d(),p||h(v),n?.(v)},[d,p,n]);return x.jsx(UX,{ref:l,"data-slot":"tool-fallback-root",open:g,onOpenChange:b,className:Ae("aui-tool-fallback-root group/tool-fallback-root w-full rounded-lg border py-3",e),style:{"--animation-duration":`${D0}ms`},...o,children:a})}const HX={running:dZ,complete:ly,incomplete:iZ,"requires-action":nZ};function hM({toolName:e,status:t,className:n,...r}){const a=t?.type??"complete",o=a==="running",l=t?.type==="incomplete"&&t.reason==="cancelled",c=HX[a],h=l?"Cancelled tool":"Used tool";return x.jsxs($X,{"data-slot":"tool-fallback-trigger",className:Ae("aui-tool-fallback-trigger group/trigger flex w-full items-center gap-2 px-4 text-sm transition-colors",n),...r,children:[x.jsx(c,{"data-slot":"tool-fallback-trigger-icon",className:Ae("aui-tool-fallback-trigger-icon size-4 shrink-0",l&&"text-muted-foreground",o&&"animate-spin")}),x.jsxs("span",{"data-slot":"tool-fallback-trigger-label",className:Ae("aui-tool-fallback-trigger-label-wrapper relative inline-block grow text-left leading-none",l&&"text-muted-foreground line-through"),children:[x.jsxs("span",{children:[h,": ",x.jsx("b",{children:e})]}),o&&x.jsxs("span",{"aria-hidden":!0,"data-slot":"tool-fallback-trigger-shimmer",className:"aui-tool-fallback-trigger-shimmer shimmer pointer-events-none absolute inset-0 motion-reduce:animate-none",children:[h,": ",x.jsx("b",{children:e})]})]}),x.jsx(X8,{"data-slot":"tool-fallback-trigger-chevron",className:Ae("aui-tool-fallback-trigger-chevron size-4 shrink-0","transition-transform duration-(--animation-duration) ease-out","group-data-[state=closed]/trigger:-rotate-90","group-data-[state=open]/trigger:rotate-0")})]})}function pM({className:e,children:t,...n}){return x.jsx(FX,{"data-slot":"tool-fallback-content",className:Ae("aui-tool-fallback-content relative overflow-hidden text-sm outline-none","group/collapsible-content ease-out","data-[state=closed]:animate-collapsible-up","data-[state=open]:animate-collapsible-down","data-[state=closed]:fill-mode-forwards","data-[state=closed]:pointer-events-none","data-[state=open]:duration-(--animation-duration)","data-[state=closed]:duration-(--animation-duration)",e),...n,children:x.jsx("div",{className:"mt-3 flex flex-col gap-2 border-t pt-2",children:t})})}function mM({argsText:e,className:t,...n}){return e?x.jsx("div",{"data-slot":"tool-fallback-args",className:Ae("aui-tool-fallback-args px-4",t),...n,children:x.jsx("pre",{className:"aui-tool-fallback-args-value whitespace-pre-wrap",children:e})}):null}function gM({result:e,className:t,...n}){return e===void 0?null:x.jsxs("div",{"data-slot":"tool-fallback-result",className:Ae("aui-tool-fallback-result border-t border-dashed px-4 pt-2",t),...n,children:[x.jsx("p",{className:"aui-tool-fallback-result-header font-semibold",children:"Result:"}),x.jsx("pre",{className:"aui-tool-fallback-result-content whitespace-pre-wrap",children:typeof e=="string"?e:JSON.stringify(e,null,2)})]})}function yM({status:e,className:t,...n}){if(e?.type!=="incomplete")return null;const r=e.error,a=r?typeof r=="string"?r:JSON.stringify(r):null;if(!a)return null;const l=e.reason==="cancelled"?"Cancelled reason:":"Error:";return x.jsxs("div",{"data-slot":"tool-fallback-error",className:Ae("aui-tool-fallback-error px-4",t),...n,children:[x.jsx("p",{className:"aui-tool-fallback-error-header font-semibold text-muted-foreground",children:l}),x.jsx("p",{className:"aui-tool-fallback-error-reason text-muted-foreground",children:a})]})}const ZX=({toolName:e,argsText:t,result:n,status:r})=>{const a=r?.type==="incomplete"&&r.reason==="cancelled";return x.jsxs(dM,{className:Ae(a&&"border-muted-foreground/30 bg-muted/30"),children:[x.jsx(hM,{toolName:e,status:r}),x.jsxs(pM,{children:[x.jsx(yM,{status:r}),x.jsx(mM,{argsText:t,className:Ae(a&&"opacity-60")}),!a&&x.jsx(gM,{result:n})]})]})},Xi=w.memo(ZX);Xi.displayName="ToolFallback";Xi.Root=dM;Xi.Trigger=hM;Xi.Content=pM;Xi.Args=mM;Xi.Result=gM;Xi.Error=yM;const qX=()=>x.jsx(iA,{className:"aui-root aui-thread-root @container flex h-full flex-col bg-background",style:{"--thread-max-width":"44rem"},children:x.jsxs(sA,{turnAnchor:"top",className:"aui-thread-viewport relative flex flex-1 flex-col overflow-x-auto overflow-y-scroll scroll-smooth px-4 pt-4",children:[x.jsx($i,{condition:e=>e.thread.isEmpty,children:x.jsx(GX,{})}),x.jsx(I9,{components:{UserMessage:tK,EditComposer:rK,AssistantMessage:WX}}),x.jsxs(oA,{className:"aui-thread-viewport-footer sticky bottom-0 mx-auto mt-auto flex w-full max-w-(--thread-max-width) flex-col gap-4 overflow-visible rounded-t-3xl pb-4 md:pb-6",children:[x.jsx(VX,{}),x.jsx(XX,{})]})]})}),VX=()=>x.jsx(z9,{asChild:!0,children:x.jsx(Xn,{tooltip:"Scroll to bottom",variant:"outline",className:"aui-thread-scroll-to-bottom absolute -top-12 z-10 self-center rounded-full p-4 disabled:invisible dark:bg-background dark:hover:bg-accent",children:x.jsx(q8,{})})}),GX=()=>x.jsxs("div",{className:"aui-thread-welcome-root mx-auto my-auto flex w-full max-w-(--thread-max-width) grow flex-col",children:[x.jsx("div",{className:"aui-thread-welcome-center flex w-full grow flex-col items-center justify-center",children:x.jsxs("div",{className:"aui-thread-welcome-message flex size-full flex-col justify-center px-4",children:[x.jsx("h1",{className:"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in font-semibold text-2xl duration-200",children:"Hello there!"}),x.jsx("p",{className:"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in text-muted-foreground text-xl delay-75 duration-200",children:"How can I help you today?"})]})}),x.jsx(YX,{})]}),YX=()=>x.jsx("div",{className:"aui-thread-welcome-suggestions grid w-full @md:grid-cols-2 gap-2 pb-4",children:x.jsx(j9,{components:{Suggestion:JX}})}),JX=()=>x.jsx("div",{className:"aui-thread-welcome-suggestion-display fade-in slide-in-from-bottom-2 @md:nth-[n+3]:block nth-[n+3]:hidden animate-in fill-mode-both duration-200",children:x.jsx(L9,{send:!0,asChild:!0,children:x.jsxs(Vi,{variant:"ghost",className:"aui-thread-welcome-suggestion h-auto w-full @md:flex-col flex-wrap items-start justify-start gap-1 rounded-2xl border px-4 py-3 text-left text-sm transition-colors hover:bg-muted",children:[x.jsx("span",{className:"aui-thread-welcome-suggestion-text-1 font-medium",children:x.jsx(hA,{})}),x.jsx("span",{className:"aui-thread-welcome-suggestion-text-2 text-muted-foreground",children:x.jsx(pA,{})})]})})}),XX=()=>x.jsx(Gg,{className:"aui-composer-root relative flex w-full flex-col",children:x.jsxs(tA,{className:"aui-composer-attachment-dropzone flex w-full flex-col rounded-2xl border border-input bg-background px-1 pt-2 outline-none transition-shadow has-[textarea:focus-visible]:border-ring has-[textarea:focus-visible]:ring-2 has-[textarea:focus-visible]:ring-ring/20 data-[dragging=true]:border-ring data-[dragging=true]:border-dashed data-[dragging=true]:bg-accent/50",children:[x.jsx(ZZ,{}),x.jsx(Jg,{placeholder:"Send a message...",className:"aui-composer-input mb-1 max-h-32 min-h-14 w-full resize-none bg-transparent px-4 pt-2 pb-3 text-sm outline-none placeholder:text-muted-foreground focus-visible:ring-0",rows:1,autoFocus:!0,"aria-label":"Message input"}),x.jsx(KX,{})]})}),KX=()=>x.jsxs("div",{className:"aui-composer-action-wrapper relative mx-2 mb-2 flex items-center justify-between",children:[x.jsx(qZ,{}),x.jsx($i,{condition:e=>!e.thread.isRunning,children:x.jsx(XC,{asChild:!0,children:x.jsx(Xn,{tooltip:"Send message",side:"bottom",type:"submit",variant:"default",size:"icon",className:"aui-composer-send size-8 rounded-full","aria-label":"Send message",children:x.jsx(G8,{className:"aui-composer-send-icon size-4"})})})}),x.jsx($i,{condition:e=>e.thread.isRunning,children:x.jsx(QC,{asChild:!0,children:x.jsx(Vi,{type:"button",variant:"default",size:"icon",className:"aui-composer-cancel size-8 rounded-full","aria-label":"Stop generating",children:x.jsx(vZ,{className:"aui-composer-cancel-icon size-3 fill-current"})})})})]}),QX=()=>x.jsx(GC,{children:x.jsx(nA,{className:"aui-message-error-root mt-2 rounded-md border border-destructive bg-destructive/10 p-3 text-destructive text-sm dark:bg-destructive/5 dark:text-red-200",children:x.jsx(rA,{className:"aui-message-error-message line-clamp-2"})})}),WX=()=>x.jsxs(Uf,{className:"aui-assistant-message-root fade-in slide-in-from-bottom-1 relative mx-auto w-full max-w-(--thread-max-width) animate-in py-3 duration-150","data-role":"assistant",children:[x.jsxs("div",{className:"aui-assistant-message-content wrap-break-word px-2 text-foreground leading-relaxed",children:[x.jsx(Vg,{components:{Text:jX,tools:{Fallback:Xi}}}),x.jsx(QX,{})]}),x.jsxs("div",{className:"aui-assistant-message-footer mt-1 ml-2 flex",children:[x.jsx(bM,{}),x.jsx(eK,{})]})]}),eK=()=>x.jsxs(Ag,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",className:"aui-assistant-action-bar-root col-start-3 row-start-2 -ml-1 flex gap-1 text-muted-foreground data-floating:absolute data-floating:rounded-md data-floating:border data-floating:bg-background data-floating:p-1 data-floating:shadow-sm",children:[x.jsx(YT,{asChild:!0,children:x.jsxs(Xn,{tooltip:"Copy",children:[x.jsx($i,{condition:e=>e.message.isCopied,children:x.jsx(ly,{})}),x.jsx($i,{condition:e=>!e.message.isCopied,children:x.jsx(Xk,{})})]})}),x.jsx(yB,{asChild:!0,children:x.jsx(Xn,{tooltip:"Refresh",children:x.jsx(yZ,{})})}),x.jsxs(RC,{children:[x.jsx(MC,{asChild:!0,children:x.jsx(Xn,{tooltip:"More",className:"data-[state=open]:bg-accent",children:x.jsx(Kk,{})})}),x.jsx(OC,{side:"bottom",align:"start",className:"aui-action-bar-more-content z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",children:x.jsx(XT,{asChild:!0,children:x.jsxs(IC,{className:"aui-action-bar-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:[x.jsx(oZ,{className:"size-4"}),"Export as Markdown"]})})})]})]}),tK=()=>x.jsxs(Uf,{className:"aui-user-message-root fade-in slide-in-from-bottom-1 mx-auto grid w-full max-w-(--thread-max-width) animate-in auto-rows-auto grid-cols-[minmax(72px,1fr)_auto] content-start gap-y-2 px-2 py-3 duration-150 [&:where(>*)]:col-start-2","data-role":"user",children:[x.jsx(HZ,{}),x.jsxs("div",{className:"aui-user-message-content-wrapper relative col-start-2 min-w-0",children:[x.jsx("div",{className:"aui-user-message-content wrap-break-word rounded-2xl bg-muted px-4 py-2.5 text-foreground",children:x.jsx(Vg,{})}),x.jsx("div",{className:"aui-user-action-bar-wrapper absolute top-1/2 left-0 -translate-x-full -translate-y-1/2 pr-2",children:x.jsx(nK,{})})]}),x.jsx(bM,{className:"aui-user-branch-picker col-span-full col-start-1 row-start-3 -mr-1 justify-end"})]}),nK=()=>x.jsx(Ag,{hideWhenRunning:!0,autohide:"not-last",className:"aui-user-action-bar-root flex flex-col items-end",children:x.jsx(vB,{asChild:!0,children:x.jsx(Xn,{tooltip:"Edit",className:"aui-user-action-edit p-4",children:x.jsx(pZ,{})})})}),rK=()=>x.jsx(Uf,{className:"aui-edit-composer-wrapper mx-auto flex w-full max-w-(--thread-max-width) flex-col px-2 py-3",children:x.jsxs(Gg,{className:"aui-edit-composer-root ml-auto flex w-full max-w-[85%] flex-col rounded-2xl bg-muted",children:[x.jsx(Jg,{className:"aui-edit-composer-input min-h-14 w-full resize-none bg-transparent p-4 text-foreground text-sm outline-none",autoFocus:!0}),x.jsxs("div",{className:"aui-edit-composer-footer mx-3 mb-3 flex items-center gap-2 self-end",children:[x.jsx(QC,{asChild:!0,children:x.jsx(Vi,{variant:"ghost",size:"sm",children:"Cancel"})}),x.jsx(XC,{asChild:!0,children:x.jsx(Vi,{size:"sm",children:"Update"})})]})]})}),bM=({className:e,...t})=>x.jsxs(YC,{hideWhenSingleBranch:!0,className:Ae("aui-branch-picker-root mr-2 -ml-2 inline-flex items-center text-muted-foreground text-xs",e),...t,children:[x.jsx(D5,{asChild:!0,children:x.jsx(Xn,{tooltip:"Previous",children:x.jsx(Q8,{})})}),x.jsxs("span",{className:"aui-branch-picker-state font-medium",children:[x.jsx(jC,{})," / ",x.jsx(DC,{})]}),x.jsx(N5,{asChild:!0,children:x.jsx(Xn,{tooltip:"Next",children:x.jsx(eZ,{})})})]}),iK=()=>{const e=VF({transport:new $m({api:"/api/chat"})});return x.jsx(kZ,{children:x.jsx(F4,{runtime:e,children:x.jsxs("div",{children:[x.jsx(SZ,{}),x.jsx(qX,{})]})})})};FI.createRoot(document.getElementById("root")).render(x.jsx(w.StrictMode,{children:x.jsx(iK,{})}));
